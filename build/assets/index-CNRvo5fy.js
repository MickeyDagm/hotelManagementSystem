(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function i1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ep={exports:{}},pc={},tp={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx;function DN(){if(sx)return Je;sx=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=x&&F[x]||F["@@iterator"],typeof F=="function"?F:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,U={};function M(F,te,ge){this.props=F,this.context=te,this.refs=U,this.updater=ge||C}M.prototype.isReactComponent={},M.prototype.setState=function(F,te){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,te,"setState")},M.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function G(){}G.prototype=M.prototype;function $(F,te,ge){this.props=F,this.context=te,this.refs=U,this.updater=ge||C}var Q=$.prototype=new G;Q.constructor=$,O(Q,M.prototype),Q.isPureReactComponent=!0;var ee=Array.isArray,B=Object.prototype.hasOwnProperty,de={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(F,te,ge){var _e,Se={},Ve=null,Ze=null;if(te!=null)for(_e in te.ref!==void 0&&(Ze=te.ref),te.key!==void 0&&(Ve=""+te.key),te)B.call(te,_e)&&!k.hasOwnProperty(_e)&&(Se[_e]=te[_e]);var Ce=arguments.length-2;if(Ce===1)Se.children=ge;else if(1<Ce){for(var Qe=Array(Ce),Tt=0;Tt<Ce;Tt++)Qe[Tt]=arguments[Tt+2];Se.children=Qe}if(F&&F.defaultProps)for(_e in Ce=F.defaultProps,Ce)Se[_e]===void 0&&(Se[_e]=Ce[_e]);return{$$typeof:t,type:F,key:Ve,ref:Ze,props:Se,_owner:de.current}}function A(F,te){return{$$typeof:t,type:F.type,key:te,ref:F.ref,props:F.props,_owner:F._owner}}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function j(F){var te={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ge){return te[ge]})}var S=/\/+/g;function N(F,te){return typeof F=="object"&&F!==null&&F.key!=null?j(""+F.key):te.toString(36)}function Ae(F,te,ge,_e,Se){var Ve=typeof F;(Ve==="undefined"||Ve==="boolean")&&(F=null);var Ze=!1;if(F===null)Ze=!0;else switch(Ve){case"string":case"number":Ze=!0;break;case"object":switch(F.$$typeof){case t:case e:Ze=!0}}if(Ze)return Ze=F,Se=Se(Ze),F=_e===""?"."+N(Ze,0):_e,ee(Se)?(ge="",F!=null&&(ge=F.replace(S,"$&/")+"/"),Ae(Se,te,ge,"",function(Tt){return Tt})):Se!=null&&(D(Se)&&(Se=A(Se,ge+(!Se.key||Ze&&Ze.key===Se.key?"":(""+Se.key).replace(S,"$&/")+"/")+F)),te.push(Se)),1;if(Ze=0,_e=_e===""?".":_e+":",ee(F))for(var Ce=0;Ce<F.length;Ce++){Ve=F[Ce];var Qe=_e+N(Ve,Ce);Ze+=Ae(Ve,te,ge,Qe,Se)}else if(Qe=E(F),typeof Qe=="function")for(F=Qe.call(F),Ce=0;!(Ve=F.next()).done;)Ve=Ve.value,Qe=_e+N(Ve,Ce++),Ze+=Ae(Ve,te,ge,Qe,Se);else if(Ve==="object")throw te=String(F),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return Ze}function Be(F,te,ge){if(F==null)return F;var _e=[],Se=0;return Ae(F,_e,"","",function(Ve){return te.call(ge,Ve,Se++)}),_e}function Te(F){if(F._status===-1){var te=F._result;te=te(),te.then(function(ge){(F._status===0||F._status===-1)&&(F._status=1,F._result=ge)},function(ge){(F._status===0||F._status===-1)&&(F._status=2,F._result=ge)}),F._status===-1&&(F._status=0,F._result=te)}if(F._status===1)return F._result.default;throw F._result}var je={current:null},ce={transition:null},xe={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ce,ReactCurrentOwner:de};function fe(){throw Error("act(...) is not supported in production builds of React.")}return Je.Children={map:Be,forEach:function(F,te,ge){Be(F,function(){te.apply(this,arguments)},ge)},count:function(F){var te=0;return Be(F,function(){te++}),te},toArray:function(F){return Be(F,function(te){return te})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Je.Component=M,Je.Fragment=n,Je.Profiler=i,Je.PureComponent=$,Je.StrictMode=r,Je.Suspense=m,Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xe,Je.act=fe,Je.cloneElement=function(F,te,ge){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var _e=O({},F.props),Se=F.key,Ve=F.ref,Ze=F._owner;if(te!=null){if(te.ref!==void 0&&(Ve=te.ref,Ze=de.current),te.key!==void 0&&(Se=""+te.key),F.type&&F.type.defaultProps)var Ce=F.type.defaultProps;for(Qe in te)B.call(te,Qe)&&!k.hasOwnProperty(Qe)&&(_e[Qe]=te[Qe]===void 0&&Ce!==void 0?Ce[Qe]:te[Qe])}var Qe=arguments.length-2;if(Qe===1)_e.children=ge;else if(1<Qe){Ce=Array(Qe);for(var Tt=0;Tt<Qe;Tt++)Ce[Tt]=arguments[Tt+2];_e.children=Ce}return{$$typeof:t,type:F.type,key:Se,ref:Ve,props:_e,_owner:Ze}},Je.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},Je.createElement=I,Je.createFactory=function(F){var te=I.bind(null,F);return te.type=F,te},Je.createRef=function(){return{current:null}},Je.forwardRef=function(F){return{$$typeof:h,render:F}},Je.isValidElement=D,Je.lazy=function(F){return{$$typeof:w,_payload:{_status:-1,_result:F},_init:Te}},Je.memo=function(F,te){return{$$typeof:g,type:F,compare:te===void 0?null:te}},Je.startTransition=function(F){var te=ce.transition;ce.transition={};try{F()}finally{ce.transition=te}},Je.unstable_act=fe,Je.useCallback=function(F,te){return je.current.useCallback(F,te)},Je.useContext=function(F){return je.current.useContext(F)},Je.useDebugValue=function(){},Je.useDeferredValue=function(F){return je.current.useDeferredValue(F)},Je.useEffect=function(F,te){return je.current.useEffect(F,te)},Je.useId=function(){return je.current.useId()},Je.useImperativeHandle=function(F,te,ge){return je.current.useImperativeHandle(F,te,ge)},Je.useInsertionEffect=function(F,te){return je.current.useInsertionEffect(F,te)},Je.useLayoutEffect=function(F,te){return je.current.useLayoutEffect(F,te)},Je.useMemo=function(F,te){return je.current.useMemo(F,te)},Je.useReducer=function(F,te,ge){return je.current.useReducer(F,te,ge)},Je.useRef=function(F){return je.current.useRef(F)},Je.useState=function(F){return je.current.useState(F)},Je.useSyncExternalStore=function(F,te,ge){return je.current.useSyncExternalStore(F,te,ge)},Je.useTransition=function(){return je.current.useTransition()},Je.version="18.3.1",Je}var ix;function $h(){return ix||(ix=1,tp.exports=DN()),tp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function ON(){if(ox)return pc;ox=1;var t=$h(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(h,m,g){var w,x={},E=null,C=null;g!==void 0&&(E=""+g),m.key!==void 0&&(E=""+m.key),m.ref!==void 0&&(C=m.ref);for(w in m)r.call(m,w)&&!a.hasOwnProperty(w)&&(x[w]=m[w]);if(h&&h.defaultProps)for(w in m=h.defaultProps,m)x[w]===void 0&&(x[w]=m[w]);return{$$typeof:e,type:h,key:E,ref:C,props:x,_owner:i.current}}return pc.Fragment=n,pc.jsx=l,pc.jsxs=l,pc}var ax;function MN(){return ax||(ax=1,ep.exports=ON()),ep.exports}var u=MN(),kd={},np={exports:{}},Yn={},rp={exports:{}},sp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx;function VN(){return lx||(lx=1,(function(t){function e(ce,xe){var fe=ce.length;ce.push(xe);e:for(;0<fe;){var F=fe-1>>>1,te=ce[F];if(0<i(te,xe))ce[F]=xe,ce[fe]=te,fe=F;else break e}}function n(ce){return ce.length===0?null:ce[0]}function r(ce){if(ce.length===0)return null;var xe=ce[0],fe=ce.pop();if(fe!==xe){ce[0]=fe;e:for(var F=0,te=ce.length,ge=te>>>1;F<ge;){var _e=2*(F+1)-1,Se=ce[_e],Ve=_e+1,Ze=ce[Ve];if(0>i(Se,fe))Ve<te&&0>i(Ze,Se)?(ce[F]=Ze,ce[Ve]=fe,F=Ve):(ce[F]=Se,ce[_e]=fe,F=_e);else if(Ve<te&&0>i(Ze,fe))ce[F]=Ze,ce[Ve]=fe,F=Ve;else break e}}return xe}function i(ce,xe){var fe=ce.sortIndex-xe.sortIndex;return fe!==0?fe:ce.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var m=[],g=[],w=1,x=null,E=3,C=!1,O=!1,U=!1,M=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(ce){for(var xe=n(g);xe!==null;){if(xe.callback===null)r(g);else if(xe.startTime<=ce)r(g),xe.sortIndex=xe.expirationTime,e(m,xe);else break;xe=n(g)}}function ee(ce){if(U=!1,Q(ce),!O)if(n(m)!==null)O=!0,Te(B);else{var xe=n(g);xe!==null&&je(ee,xe.startTime-ce)}}function B(ce,xe){O=!1,U&&(U=!1,G(I),I=-1),C=!0;var fe=E;try{for(Q(xe),x=n(m);x!==null&&(!(x.expirationTime>xe)||ce&&!j());){var F=x.callback;if(typeof F=="function"){x.callback=null,E=x.priorityLevel;var te=F(x.expirationTime<=xe);xe=t.unstable_now(),typeof te=="function"?x.callback=te:x===n(m)&&r(m),Q(xe)}else r(m);x=n(m)}if(x!==null)var ge=!0;else{var _e=n(g);_e!==null&&je(ee,_e.startTime-xe),ge=!1}return ge}finally{x=null,E=fe,C=!1}}var de=!1,k=null,I=-1,A=5,D=-1;function j(){return!(t.unstable_now()-D<A)}function S(){if(k!==null){var ce=t.unstable_now();D=ce;var xe=!0;try{xe=k(!0,ce)}finally{xe?N():(de=!1,k=null)}}else de=!1}var N;if(typeof $=="function")N=function(){$(S)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Be=Ae.port2;Ae.port1.onmessage=S,N=function(){Be.postMessage(null)}}else N=function(){M(S,0)};function Te(ce){k=ce,de||(de=!0,N())}function je(ce,xe){I=M(function(){ce(t.unstable_now())},xe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ce){ce.callback=null},t.unstable_continueExecution=function(){O||C||(O=!0,Te(B))},t.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ce?Math.floor(1e3/ce):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(m)},t.unstable_next=function(ce){switch(E){case 1:case 2:case 3:var xe=3;break;default:xe=E}var fe=E;E=xe;try{return ce()}finally{E=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ce,xe){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var fe=E;E=ce;try{return xe()}finally{E=fe}},t.unstable_scheduleCallback=function(ce,xe,fe){var F=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?F+fe:F):fe=F,ce){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=fe+te,ce={id:w++,callback:xe,priorityLevel:ce,startTime:fe,expirationTime:te,sortIndex:-1},fe>F?(ce.sortIndex=fe,e(g,ce),n(m)===null&&ce===n(g)&&(U?(G(I),I=-1):U=!0,je(ee,fe-F))):(ce.sortIndex=te,e(m,ce),O||C||(O=!0,Te(B))),ce},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(ce){var xe=E;return function(){var fe=E;E=xe;try{return ce.apply(this,arguments)}finally{E=fe}}}})(sp)),sp}var cx;function LN(){return cx||(cx=1,rp.exports=VN()),rp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function FN(){if(ux)return Yn;ux=1;var t=$h(),e=LN();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},x={};function E(s){return m.call(x,s)?!0:m.call(w,s)?!1:g.test(s)?x[s]=!0:(w[s]=!0,!1)}function C(s,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function O(s,o,c,f){if(o===null||typeof o>"u"||C(s,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function U(s,o,c,f,p,y,b){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=p,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=b}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){M[s]=new U(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];M[o]=new U(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){M[s]=new U(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){M[s]=new U(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){M[s]=new U(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){M[s]=new U(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){M[s]=new U(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){M[s]=new U(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){M[s]=new U(s,5,!1,s.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function $(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(G,$);M[o]=new U(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(G,$);M[o]=new U(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(G,$);M[o]=new U(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){M[s]=new U(s,1,!1,s.toLowerCase(),null,!1,!1)}),M.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){M[s]=new U(s,1,!1,s.toLowerCase(),null,!0,!0)});function Q(s,o,c,f){var p=M.hasOwnProperty(o)?M[o]:null;(p!==null?p.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(O(o,c,p,f)&&(c=null),f||p===null?E(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):p.mustUseProperty?s[p.propertyName]=c===null?p.type===3?!1:"":c:(o=p.attributeName,f=p.attributeNamespace,c===null?s.removeAttribute(o):(p=p.type,c=p===3||p===4&&c===!0?"":""+c,f?s.setAttributeNS(f,o,c):s.setAttribute(o,c))))}var ee=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),de=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),j=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),ce=Symbol.iterator;function xe(s){return s===null||typeof s!="object"?null:(s=ce&&s[ce]||s["@@iterator"],typeof s=="function"?s:null)}var fe=Object.assign,F;function te(s){if(F===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+s}var ge=!1;function _e(s,o){if(!s||ge)return"";ge=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Z){var f=Z}Reflect.construct(s,[],o)}else{try{o.call()}catch(Z){f=Z}s.call(o.prototype)}else{try{throw Error()}catch(Z){f=Z}s()}}catch(Z){if(Z&&f&&typeof Z.stack=="string"){for(var p=Z.stack.split(`
`),y=f.stack.split(`
`),b=p.length-1,R=y.length-1;1<=b&&0<=R&&p[b]!==y[R];)R--;for(;1<=b&&0<=R;b--,R--)if(p[b]!==y[R]){if(b!==1||R!==1)do if(b--,R--,0>R||p[b]!==y[R]){var V=`
`+p[b].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=b&&0<=R);break}}}finally{ge=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?te(s):""}function Se(s){switch(s.tag){case 5:return te(s.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return s=_e(s.type,!1),s;case 11:return s=_e(s.type.render,!1),s;case 1:return s=_e(s.type,!0),s;default:return""}}function Ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case de:return"Portal";case A:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case Ae:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case j:return(s.displayName||"Context")+".Consumer";case D:return(s._context.displayName||"Context")+".Provider";case S:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Be:return o=s.displayName||null,o!==null?o:Ve(s.type)||"Memo";case Te:o=s._payload,s=s._init;try{return Ve(s(o))}catch{}}return null}function Ze(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ce(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Tt(s){var o=Qe(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,y=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return p.call(this)},set:function(b){f=""+b,y.call(this,b)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(b){f=""+b},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function or(s){s._valueTracker||(s._valueTracker=Tt(s))}function Vn(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return s&&(f=Qe(s)?s.checked?"true":"false":s.value),s=f,s!==c?(o.setValue(s),!0):!1}function br(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ar(s,o){var c=o.checked;return fe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Us(s,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=Ce(o.value!=null?o.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Br(s,o){o=o.checked,o!=null&&Q(s,"checked",o,!1)}function Ln(s,o){Br(s,o);var c=Ce(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?ot(s,o.type,c):o.hasOwnProperty("defaultValue")&&ot(s,o.type,Ce(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function $s(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function ot(s,o,c){(o!=="number"||br(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var P=Array.isArray;function H(s,o,c,f){if(s=s.options,o){o={};for(var p=0;p<c.length;p++)o["$"+c[p]]=!0;for(c=0;c<s.length;c++)p=o.hasOwnProperty("$"+s[c].value),s[c].selected!==p&&(s[c].selected=p),p&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Ce(c),o=null,p=0;p<s.length;p++){if(s[p].value===c){s[p].selected=!0,f&&(s[p].defaultSelected=!0);return}o!==null||s[p].disabled||(o=s[p])}o!==null&&(o.selected=!0)}}function Y(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return fe({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function pe(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(P(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:Ce(c)}}function he(s,o){var c=Ce(o.value),f=Ce(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function oe(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function be(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ye(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?be(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Xe,Vt=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,p){MSApp.execUnsafeLocalFunction(function(){return s(o,c,f,p)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Xe=Xe||document.createElement("div"),Xe.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Xe.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function nn(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var qt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lr=["Webkit","ms","Moz","O"];Object.keys(qt).forEach(function(s){lr.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),qt[o]=qt[s]})});function qn(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||qt.hasOwnProperty(s)&&qt[s]?(""+o).trim():o+"px"}function Tr(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,p=qn(c,o[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,p):s[c]=p}}var ds=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yn(s,o){if(o){if(ds[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function hs(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fn=null;function zn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Hr=null,qr=null,vt=null;function wi(s){if(s=ec(s)){if(typeof Hr!="function")throw Error(n(280));var o=s.stateNode;o&&(o=Bu(o),Hr(s.stateNode,s.type,o))}}function Fe(s){qr?vt?vt.push(s):vt=[s]:qr=s}function ht(){if(qr){var s=qr,o=vt;if(vt=qr=null,wi(s),o)for(s=0;s<o.length;s++)wi(o[s])}}function Lt(s,o){return s(o)}function ln(){}var Un=!1;function Dt(s,o,c){if(Un)return s(o,c);Un=!0;try{return Lt(s,o,c)}finally{Un=!1,(qr!==null||vt!==null)&&(ln(),ht())}}function Wt(s,o){var c=s.stateNode;if(c===null)return null;var f=Bu(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var cr=!1;if(h)try{var Gt={};Object.defineProperty(Gt,"passive",{get:function(){cr=!0}}),window.addEventListener("test",Gt,Gt),window.removeEventListener("test",Gt,Gt)}catch{cr=!1}function Nn(s,o,c,f,p,y,b,R,V){var Z=Array.prototype.slice.call(arguments,3);try{o.apply(c,Z)}catch(ie){this.onError(ie)}}var Ir=!1,cn=null,fo=!1,Nr=null,_u={onError:function(s){Ir=!0,cn=s}};function Eu(s,o,c,f,p,y,b,R,V){Ir=!1,cn=null,Nn.apply(_u,arguments)}function kl(s,o,c,f,p,y,b,R,V){if(Eu.apply(this,arguments),Ir){if(Ir){var Z=cn;Ir=!1,cn=null}else throw Error(n(198));fo||(fo=!0,Nr=Z)}}function Wr(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Al(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function bu(s){if(Wr(s)!==s)throw Error(n(188))}function Tu(s){var o=s.alternate;if(!o){if(o=Wr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var c=s,f=o;;){var p=c.return;if(p===null)break;var y=p.alternate;if(y===null){if(f=p.return,f!==null){c=f;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===c)return bu(p),s;if(y===f)return bu(p),o;y=y.sibling}throw Error(n(188))}if(c.return!==f.return)c=p,f=y;else{for(var b=!1,R=p.child;R;){if(R===c){b=!0,c=p,f=y;break}if(R===f){b=!0,f=p,c=y;break}R=R.sibling}if(!b){for(R=y.child;R;){if(R===c){b=!0,c=y,f=p;break}if(R===f){b=!0,f=y,c=p;break}R=R.sibling}if(!b)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:o}function Iu(s){return s=Tu(s),s!==null?mo(s):null}function mo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=mo(s);if(o!==null)return o;s=s.sibling}return null}var Cl=e.unstable_scheduleCallback,da=e.unstable_cancelCallback,po=e.unstable_shouldYield,Bs=e.unstable_requestPaint,xt=e.unstable_now,Rf=e.unstable_getCurrentPriorityLevel,ha=e.unstable_ImmediatePriority,Rl=e.unstable_UserBlockingPriority,go=e.unstable_NormalPriority,Pl=e.unstable_LowPriority,fa=e.unstable_IdlePriority,yo=null,ur=null;function Nu(s){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(yo,s,void 0,(s.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:vo,fs=Math.log,Sr=Math.LN2;function vo(s){return s>>>=0,s===0?32:31-(fs(s)/Sr|0)|0}var ms=64,_i=4194304;function ct(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Hs(s,o){var c=s.pendingLanes;if(c===0)return 0;var f=0,p=s.suspendedLanes,y=s.pingedLanes,b=c&268435455;if(b!==0){var R=b&~p;R!==0?f=ct(R):(y&=b,y!==0&&(f=ct(y)))}else b=c&~p,b!==0?f=ct(b):y!==0&&(f=ct(y));if(f===0)return 0;if(o!==0&&o!==f&&(o&p)===0&&(p=f&-f,y=o&-o,p>=y||p===16&&(y&4194240)!==0))return o;if((f&4)!==0&&(f|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)c=31-dr(o),p=1<<c,f|=s[c],o&=~p;return f}function xo(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wo(s,o){for(var c=s.suspendedLanes,f=s.pingedLanes,p=s.expirationTimes,y=s.pendingLanes;0<y;){var b=31-dr(y),R=1<<b,V=p[b];V===-1?((R&c)===0||(R&f)!==0)&&(p[b]=xo(R,o)):V<=o&&(s.expiredLanes|=R),y&=~R}}function jl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Dl(){var s=ms;return ms<<=1,(ms&4194240)===0&&(ms=64),s}function Ol(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function _o(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-dr(o),s[o]=c}function Pf(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var p=31-dr(c),y=1<<p;o[p]=0,f[p]=-1,s[p]=-1,c&=~y}}function Ml(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var f=31-dr(c),p=1<<f;p&o|s[f]&o&&(s[f]|=o),c&=~p}}var st=0;function ps(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Vl,ma,Ll,Fl,zl,gs=!1,pa=[],ys=null,vs=null,vn=null,Eo=new Map,qs=new Map,hr=[],Su="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ei(s,o){switch(s){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":Eo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(o.pointerId)}}function Gr(s,o,c,f,p,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[p]},o!==null&&(o=ec(o),o!==null&&ma(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),s)}function ku(s,o,c,f,p){switch(o){case"focusin":return ys=Gr(ys,s,o,c,f,p),!0;case"dragenter":return vs=Gr(vs,s,o,c,f,p),!0;case"mouseover":return vn=Gr(vn,s,o,c,f,p),!0;case"pointerover":var y=p.pointerId;return Eo.set(y,Gr(Eo.get(y)||null,s,o,c,f,p)),!0;case"gotpointercapture":return y=p.pointerId,qs.set(y,Gr(qs.get(y)||null,s,o,c,f,p)),!0}return!1}function ga(s){var o=No(s.target);if(o!==null){var c=Wr(o);if(c!==null){if(o=c.tag,o===13){if(o=Al(c),o!==null){s.blockedOn=o,zl(s.priority,function(){Ll(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ft(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=ya(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Fn=f,c.target.dispatchEvent(f),Fn=null}else return o=ec(c),o!==null&&ma(o),s.blockedOn=c,!1;o.shift()}return!0}function Au(s,o,c){ft(s)&&c.delete(o)}function jf(){gs=!1,ys!==null&&ft(ys)&&(ys=null),vs!==null&&ft(vs)&&(vs=null),vn!==null&&ft(vn)&&(vn=null),Eo.forEach(Au),qs.forEach(Au)}function bi(s,o){s.blockedOn===o&&(s.blockedOn=null,gs||(gs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jf)))}function Ti(s){function o(p){return bi(p,s)}if(0<pa.length){bi(pa[0],s);for(var c=1;c<pa.length;c++){var f=pa[c];f.blockedOn===s&&(f.blockedOn=null)}}for(ys!==null&&bi(ys,s),vs!==null&&bi(vs,s),vn!==null&&bi(vn,s),Eo.forEach(o),qs.forEach(o),c=0;c<hr.length;c++)f=hr[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<hr.length&&(c=hr[0],c.blockedOn===null);)ga(c),c.blockedOn===null&&hr.shift()}var Ws=ee.ReactCurrentBatchConfig,Gs=!0;function xs(s,o,c,f){var p=st,y=Ws.transition;Ws.transition=null;try{st=1,Ul(s,o,c,f)}finally{st=p,Ws.transition=y}}function Cu(s,o,c,f){var p=st,y=Ws.transition;Ws.transition=null;try{st=4,Ul(s,o,c,f)}finally{st=p,Ws.transition=y}}function Ul(s,o,c,f){if(Gs){var p=ya(s,o,c,f);if(p===null)Hf(s,o,f,ws,c),Ei(s,f);else if(ku(p,s,o,c,f))f.stopPropagation();else if(Ei(s,f),o&4&&-1<Su.indexOf(s)){for(;p!==null;){var y=ec(p);if(y!==null&&Vl(y),y=ya(s,o,c,f),y===null&&Hf(s,o,f,ws,c),y===p)break;p=y}p!==null&&f.stopPropagation()}else Hf(s,o,f,null,c)}}var ws=null;function ya(s,o,c,f){if(ws=null,s=zn(f),s=No(s),s!==null)if(o=Wr(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Al(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return ws=s,null}function va(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rf()){case ha:return 1;case Rl:return 4;case go:case Pl:return 16;case fa:return 536870912;default:return 16}default:return 16}}var fr=null,xa=null,Ks=null;function Ru(){if(Ks)return Ks;var s,o=xa,c=o.length,f,p="value"in fr?fr.value:fr.textContent,y=p.length;for(s=0;s<c&&o[s]===p[s];s++);var b=c-s;for(f=1;f<=b&&o[c-f]===p[y-f];f++);return Ks=p.slice(s,1<f?1-f:void 0)}function bo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function _s(){return!0}function $l(){return!1}function Sn(s){function o(c,f,p,y,b){this._reactName=c,this._targetInst=p,this.type=f,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(c=s[R],this[R]=c?c(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?_s:$l,this.isPropagationStopped=$l,this}return fe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),o}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=Sn(Es),Ii=fe({},Es,{view:0,detail:0}),wa=Sn(Ii),_a,Ea,mr,Io=fe({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qe,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==mr&&(mr&&s.type==="mousemove"?(_a=s.screenX-mr.screenX,Ea=s.screenY-mr.screenY):Ea=_a=0,mr=s),_a)},movementY:function(s){return"movementY"in s?s.movementY:Ea}}),Bl=Sn(Io),Pu=fe({},Io,{dataTransfer:0}),ju=Sn(Pu),ba=fe({},Ii,{relatedTarget:0}),xn=Sn(ba),Du=fe({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),Ou=Sn(Du),Ni=fe({},Es,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),d=Sn(Ni),v=fe({},Es,{data:0}),_=Sn(v),T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function me(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=X[s])?!!o[s]:!1}function qe(){return me}var Ft=fe({},Ii,{key:function(s){if(s.key){var o=T[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=bo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?W[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qe,charCode:function(s){return s.type==="keypress"?bo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?bo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),dt=Sn(Ft),Kt=fe({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pr=Sn(Kt),Zs=fe({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qe}),bs=Sn(Zs),Ts=fe({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ta=Sn(Ts),Hl=fe({},Io,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),kI=Sn(Hl),AI=[9,13,27,32],Df=h&&"CompositionEvent"in window,ql=null;h&&"documentMode"in document&&(ql=document.documentMode);var CI=h&&"TextEvent"in window&&!ql,Qy=h&&(!Df||ql&&8<ql&&11>=ql),Yy=" ",Xy=!1;function Jy(s,o){switch(s){case"keyup":return AI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ia=!1;function RI(s,o){switch(s){case"compositionend":return e0(o);case"keypress":return o.which!==32?null:(Xy=!0,Yy);case"textInput":return s=o.data,s===Yy&&Xy?null:s;default:return null}}function PI(s,o){if(Ia)return s==="compositionend"||!Df&&Jy(s,o)?(s=Ru(),Ks=xa=fr=null,Ia=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Qy&&o.locale!=="ko"?null:o.data;default:return null}}var jI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!jI[s.type]:o==="textarea"}function n0(s,o,c,f){Fe(f),o=zu(o,"onChange"),0<o.length&&(c=new To("onChange","change",null,c,f),s.push({event:c,listeners:o}))}var Wl=null,Gl=null;function DI(s){w0(s,0)}function Mu(s){var o=Ca(s);if(Vn(o))return s}function OI(s,o){if(s==="change")return o}var r0=!1;if(h){var Of;if(h){var Mf="oninput"in document;if(!Mf){var s0=document.createElement("div");s0.setAttribute("oninput","return;"),Mf=typeof s0.oninput=="function"}Of=Mf}else Of=!1;r0=Of&&(!document.documentMode||9<document.documentMode)}function i0(){Wl&&(Wl.detachEvent("onpropertychange",o0),Gl=Wl=null)}function o0(s){if(s.propertyName==="value"&&Mu(Gl)){var o=[];n0(o,Gl,s,zn(s)),Dt(DI,o)}}function MI(s,o,c){s==="focusin"?(i0(),Wl=o,Gl=c,Wl.attachEvent("onpropertychange",o0)):s==="focusout"&&i0()}function VI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Mu(Gl)}function LI(s,o){if(s==="click")return Mu(o)}function FI(s,o){if(s==="input"||s==="change")return Mu(o)}function zI(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Kr=typeof Object.is=="function"?Object.is:zI;function Kl(s,o){if(Kr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var p=c[f];if(!m.call(o,p)||!Kr(s[p],o[p]))return!1}return!0}function a0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function l0(s,o){var c=a0(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=o&&f>=o)return{node:c,offset:o-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=a0(c)}}function c0(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?c0(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function u0(){for(var s=window,o=br();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=br(s.document)}return o}function Vf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function UI(s){var o=u0(),c=s.focusedElem,f=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&c0(c.ownerDocument.documentElement,c)){if(f!==null&&Vf(c)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var p=c.textContent.length,y=Math.min(f.start,p);f=f.end===void 0?y:Math.min(f.end,p),!s.extend&&y>f&&(p=f,f=y,y=p),p=l0(c,y);var b=l0(c,f);p&&b&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==b.node||s.focusOffset!==b.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),s.removeAllRanges(),y>f?(s.addRange(o),s.extend(b.node,b.offset)):(o.setEnd(b.node,b.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var $I=h&&"documentMode"in document&&11>=document.documentMode,Na=null,Lf=null,Zl=null,Ff=!1;function d0(s,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ff||Na==null||Na!==br(f)||(f=Na,"selectionStart"in f&&Vf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Zl&&Kl(Zl,f)||(Zl=f,f=zu(Lf,"onSelect"),0<f.length&&(o=new To("onSelect","select",null,o,c),s.push({event:o,listeners:f}),o.target=Na)))}function Vu(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Sa={animationend:Vu("Animation","AnimationEnd"),animationiteration:Vu("Animation","AnimationIteration"),animationstart:Vu("Animation","AnimationStart"),transitionend:Vu("Transition","TransitionEnd")},zf={},h0={};h&&(h0=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Lu(s){if(zf[s])return zf[s];if(!Sa[s])return s;var o=Sa[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in h0)return zf[s]=o[c];return s}var f0=Lu("animationend"),m0=Lu("animationiteration"),p0=Lu("animationstart"),g0=Lu("transitionend"),y0=new Map,v0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(s,o){y0.set(s,o),a(o,[s])}for(var Uf=0;Uf<v0.length;Uf++){var $f=v0[Uf],BI=$f.toLowerCase(),HI=$f[0].toUpperCase()+$f.slice(1);Si(BI,"on"+HI)}Si(f0,"onAnimationEnd"),Si(m0,"onAnimationIteration"),Si(p0,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(g0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function x0(s,o,c){var f=s.type||"unknown-event";s.currentTarget=c,kl(f,o,void 0,s),s.currentTarget=null}function w0(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],p=f.event;f=f.listeners;e:{var y=void 0;if(o)for(var b=f.length-1;0<=b;b--){var R=f[b],V=R.instance,Z=R.currentTarget;if(R=R.listener,V!==y&&p.isPropagationStopped())break e;x0(p,R,Z),y=V}else for(b=0;b<f.length;b++){if(R=f[b],V=R.instance,Z=R.currentTarget,R=R.listener,V!==y&&p.isPropagationStopped())break e;x0(p,R,Z),y=V}}}if(fo)throw s=Nr,fo=!1,Nr=null,s}function wt(s,o){var c=o[Qf];c===void 0&&(c=o[Qf]=new Set);var f=s+"__bubble";c.has(f)||(_0(o,s,2,!1),c.add(f))}function Bf(s,o,c){var f=0;o&&(f|=4),_0(c,s,f,o)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Yl(s){if(!s[Fu]){s[Fu]=!0,r.forEach(function(c){c!=="selectionchange"&&(qI.has(c)||Bf(c,!1,s),Bf(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Fu]||(o[Fu]=!0,Bf("selectionchange",!1,o))}}function _0(s,o,c,f){switch(va(o)){case 1:var p=xs;break;case 4:p=Cu;break;default:p=Ul}c=p.bind(null,o,c,s),p=void 0,!cr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),f?p!==void 0?s.addEventListener(o,c,{capture:!0,passive:p}):s.addEventListener(o,c,!0):p!==void 0?s.addEventListener(o,c,{passive:p}):s.addEventListener(o,c,!1)}function Hf(s,o,c,f,p){var y=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var b=f.tag;if(b===3||b===4){var R=f.stateNode.containerInfo;if(R===p||R.nodeType===8&&R.parentNode===p)break;if(b===4)for(b=f.return;b!==null;){var V=b.tag;if((V===3||V===4)&&(V=b.stateNode.containerInfo,V===p||V.nodeType===8&&V.parentNode===p))return;b=b.return}for(;R!==null;){if(b=No(R),b===null)return;if(V=b.tag,V===5||V===6){f=y=b;continue e}R=R.parentNode}}f=f.return}Dt(function(){var Z=y,ie=zn(c),ae=[];e:{var se=y0.get(s);if(se!==void 0){var ve=To,Ie=s;switch(s){case"keypress":if(bo(c)===0)break e;case"keydown":case"keyup":ve=dt;break;case"focusin":Ie="focus",ve=xn;break;case"focusout":Ie="blur",ve=xn;break;case"beforeblur":case"afterblur":ve=xn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=bs;break;case f0:case m0:case p0:ve=Ou;break;case g0:ve=Ta;break;case"scroll":ve=wa;break;case"wheel":ve=kI;break;case"copy":case"cut":case"paste":ve=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=pr}var ke=(o&4)!==0,zt=!ke&&s==="scroll",q=ke?se!==null?se+"Capture":null:se;ke=[];for(var L=Z,K;L!==null;){K=L;var ue=K.stateNode;if(K.tag===5&&ue!==null&&(K=ue,q!==null&&(ue=Wt(L,q),ue!=null&&ke.push(Xl(L,ue,K)))),zt)break;L=L.return}0<ke.length&&(se=new ve(se,Ie,null,c,ie),ae.push({event:se,listeners:ke}))}}if((o&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",ve=s==="mouseout"||s==="pointerout",se&&c!==Fn&&(Ie=c.relatedTarget||c.fromElement)&&(No(Ie)||Ie[Qs]))break e;if((ve||se)&&(se=ie.window===ie?ie:(se=ie.ownerDocument)?se.defaultView||se.parentWindow:window,ve?(Ie=c.relatedTarget||c.toElement,ve=Z,Ie=Ie?No(Ie):null,Ie!==null&&(zt=Wr(Ie),Ie!==zt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(ve=null,Ie=Z),ve!==Ie)){if(ke=Bl,ue="onMouseLeave",q="onMouseEnter",L="mouse",(s==="pointerout"||s==="pointerover")&&(ke=pr,ue="onPointerLeave",q="onPointerEnter",L="pointer"),zt=ve==null?se:Ca(ve),K=Ie==null?se:Ca(Ie),se=new ke(ue,L+"leave",ve,c,ie),se.target=zt,se.relatedTarget=K,ue=null,No(ie)===Z&&(ke=new ke(q,L+"enter",Ie,c,ie),ke.target=K,ke.relatedTarget=zt,ue=ke),zt=ue,ve&&Ie)t:{for(ke=ve,q=Ie,L=0,K=ke;K;K=ka(K))L++;for(K=0,ue=q;ue;ue=ka(ue))K++;for(;0<L-K;)ke=ka(ke),L--;for(;0<K-L;)q=ka(q),K--;for(;L--;){if(ke===q||q!==null&&ke===q.alternate)break t;ke=ka(ke),q=ka(q)}ke=null}else ke=null;ve!==null&&E0(ae,se,ve,ke,!1),Ie!==null&&zt!==null&&E0(ae,zt,Ie,ke,!0)}}e:{if(se=Z?Ca(Z):window,ve=se.nodeName&&se.nodeName.toLowerCase(),ve==="select"||ve==="input"&&se.type==="file")var Re=OI;else if(t0(se))if(r0)Re=FI;else{Re=VI;var Oe=MI}else(ve=se.nodeName)&&ve.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Re=LI);if(Re&&(Re=Re(s,Z))){n0(ae,Re,c,ie);break e}Oe&&Oe(s,se,Z),s==="focusout"&&(Oe=se._wrapperState)&&Oe.controlled&&se.type==="number"&&ot(se,"number",se.value)}switch(Oe=Z?Ca(Z):window,s){case"focusin":(t0(Oe)||Oe.contentEditable==="true")&&(Na=Oe,Lf=Z,Zl=null);break;case"focusout":Zl=Lf=Na=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,d0(ae,c,ie);break;case"selectionchange":if($I)break;case"keydown":case"keyup":d0(ae,c,ie)}var Me;if(Df)e:{switch(s){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Ia?Jy(s,c)&&($e="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&($e="onCompositionStart");$e&&(Qy&&c.locale!=="ko"&&(Ia||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Ia&&(Me=Ru()):(fr=ie,xa="value"in fr?fr.value:fr.textContent,Ia=!0)),Oe=zu(Z,$e),0<Oe.length&&($e=new _($e,s,null,c,ie),ae.push({event:$e,listeners:Oe}),Me?$e.data=Me:(Me=e0(c),Me!==null&&($e.data=Me)))),(Me=CI?RI(s,c):PI(s,c))&&(Z=zu(Z,"onBeforeInput"),0<Z.length&&(ie=new _("onBeforeInput","beforeinput",null,c,ie),ae.push({event:ie,listeners:Z}),ie.data=Me))}w0(ae,o)})}function Xl(s,o,c){return{instance:s,listener:o,currentTarget:c}}function zu(s,o){for(var c=o+"Capture",f=[];s!==null;){var p=s,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=Wt(s,c),y!=null&&f.unshift(Xl(s,y,p)),y=Wt(s,o),y!=null&&f.push(Xl(s,y,p))),s=s.return}return f}function ka(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function E0(s,o,c,f,p){for(var y=o._reactName,b=[];c!==null&&c!==f;){var R=c,V=R.alternate,Z=R.stateNode;if(V!==null&&V===f)break;R.tag===5&&Z!==null&&(R=Z,p?(V=Wt(c,y),V!=null&&b.unshift(Xl(c,V,R))):p||(V=Wt(c,y),V!=null&&b.push(Xl(c,V,R)))),c=c.return}b.length!==0&&s.push({event:o,listeners:b})}var WI=/\r\n?/g,GI=/\u0000|\uFFFD/g;function b0(s){return(typeof s=="string"?s:""+s).replace(WI,`
`).replace(GI,"")}function Uu(s,o,c){if(o=b0(o),b0(s)!==o&&c)throw Error(n(425))}function $u(){}var qf=null,Wf=null;function Gf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Kf=typeof setTimeout=="function"?setTimeout:void 0,KI=typeof clearTimeout=="function"?clearTimeout:void 0,T0=typeof Promise=="function"?Promise:void 0,ZI=typeof queueMicrotask=="function"?queueMicrotask:typeof T0<"u"?function(s){return T0.resolve(null).then(s).catch(QI)}:Kf;function QI(s){setTimeout(function(){throw s})}function Zf(s,o){var c=o,f=0;do{var p=c.nextSibling;if(s.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(f===0){s.removeChild(p),Ti(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=p}while(c);Ti(o)}function ki(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function I0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var Aa=Math.random().toString(36).slice(2),Is="__reactFiber$"+Aa,Jl="__reactProps$"+Aa,Qs="__reactContainer$"+Aa,Qf="__reactEvents$"+Aa,YI="__reactListeners$"+Aa,XI="__reactHandles$"+Aa;function No(s){var o=s[Is];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Qs]||c[Is]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=I0(s);s!==null;){if(c=s[Is])return c;s=I0(s)}return o}s=c,c=s.parentNode}return null}function ec(s){return s=s[Is]||s[Qs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ca(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Bu(s){return s[Jl]||null}var Yf=[],Ra=-1;function Ai(s){return{current:s}}function _t(s){0>Ra||(s.current=Yf[Ra],Yf[Ra]=null,Ra--)}function pt(s,o){Ra++,Yf[Ra]=s.current,s.current=o}var Ci={},kn=Ai(Ci),Wn=Ai(!1),So=Ci;function Pa(s,o){var c=s.type.contextTypes;if(!c)return Ci;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in c)p[y]=o[y];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=p),p}function Gn(s){return s=s.childContextTypes,s!=null}function Hu(){_t(Wn),_t(kn)}function N0(s,o,c){if(kn.current!==Ci)throw Error(n(168));pt(kn,o),pt(Wn,c)}function S0(s,o,c){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var p in f)if(!(p in o))throw Error(n(108,Ze(s)||"Unknown",p));return fe({},c,f)}function qu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ci,So=kn.current,pt(kn,s),pt(Wn,Wn.current),!0}function k0(s,o,c){var f=s.stateNode;if(!f)throw Error(n(169));c?(s=S0(s,o,So),f.__reactInternalMemoizedMergedChildContext=s,_t(Wn),_t(kn),pt(kn,s)):_t(Wn),pt(Wn,c)}var Ys=null,Wu=!1,Xf=!1;function A0(s){Ys===null?Ys=[s]:Ys.push(s)}function JI(s){Wu=!0,A0(s)}function Ri(){if(!Xf&&Ys!==null){Xf=!0;var s=0,o=st;try{var c=Ys;for(st=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}Ys=null,Wu=!1}catch(p){throw Ys!==null&&(Ys=Ys.slice(s+1)),Cl(ha,Ri),p}finally{st=o,Xf=!1}}return null}var ja=[],Da=0,Gu=null,Ku=0,kr=[],Ar=0,ko=null,Xs=1,Js="";function Ao(s,o){ja[Da++]=Ku,ja[Da++]=Gu,Gu=s,Ku=o}function C0(s,o,c){kr[Ar++]=Xs,kr[Ar++]=Js,kr[Ar++]=ko,ko=s;var f=Xs;s=Js;var p=32-dr(f)-1;f&=~(1<<p),c+=1;var y=32-dr(o)+p;if(30<y){var b=p-p%5;y=(f&(1<<b)-1).toString(32),f>>=b,p-=b,Xs=1<<32-dr(o)+p|c<<p|f,Js=y+s}else Xs=1<<y|c<<p|f,Js=s}function Jf(s){s.return!==null&&(Ao(s,1),C0(s,1,0))}function em(s){for(;s===Gu;)Gu=ja[--Da],ja[Da]=null,Ku=ja[--Da],ja[Da]=null;for(;s===ko;)ko=kr[--Ar],kr[Ar]=null,Js=kr[--Ar],kr[Ar]=null,Xs=kr[--Ar],kr[Ar]=null}var gr=null,yr=null,It=!1,Zr=null;function R0(s,o){var c=jr(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function P0(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,gr=s,yr=ki(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,gr=s,yr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=ko!==null?{id:Xs,overflow:Js}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=jr(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,gr=s,yr=null,!0):!1;default:return!1}}function tm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function nm(s){if(It){var o=yr;if(o){var c=o;if(!P0(s,o)){if(tm(s))throw Error(n(418));o=ki(c.nextSibling);var f=gr;o&&P0(s,o)?R0(f,c):(s.flags=s.flags&-4097|2,It=!1,gr=s)}}else{if(tm(s))throw Error(n(418));s.flags=s.flags&-4097|2,It=!1,gr=s}}}function j0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;gr=s}function Zu(s){if(s!==gr)return!1;if(!It)return j0(s),It=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Gf(s.type,s.memoizedProps)),o&&(o=yr)){if(tm(s))throw D0(),Error(n(418));for(;o;)R0(s,o),o=ki(o.nextSibling)}if(j0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){yr=ki(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}yr=null}}else yr=gr?ki(s.stateNode.nextSibling):null;return!0}function D0(){for(var s=yr;s;)s=ki(s.nextSibling)}function Oa(){yr=gr=null,It=!1}function rm(s){Zr===null?Zr=[s]:Zr.push(s)}var eN=ee.ReactCurrentBatchConfig;function tc(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,s));var p=f,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(b){var R=p.refs;b===null?delete R[y]:R[y]=b},o._stringRef=y,o)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function Qu(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function O0(s){var o=s._init;return o(s._payload)}function M0(s){function o(q,L){if(s){var K=q.deletions;K===null?(q.deletions=[L],q.flags|=16):K.push(L)}}function c(q,L){if(!s)return null;for(;L!==null;)o(q,L),L=L.sibling;return null}function f(q,L){for(q=new Map;L!==null;)L.key!==null?q.set(L.key,L):q.set(L.index,L),L=L.sibling;return q}function p(q,L){return q=Fi(q,L),q.index=0,q.sibling=null,q}function y(q,L,K){return q.index=K,s?(K=q.alternate,K!==null?(K=K.index,K<L?(q.flags|=2,L):K):(q.flags|=2,L)):(q.flags|=1048576,L)}function b(q){return s&&q.alternate===null&&(q.flags|=2),q}function R(q,L,K,ue){return L===null||L.tag!==6?(L=Km(K,q.mode,ue),L.return=q,L):(L=p(L,K),L.return=q,L)}function V(q,L,K,ue){var Re=K.type;return Re===k?ie(q,L,K.props.children,ue,K.key):L!==null&&(L.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Te&&O0(Re)===L.type)?(ue=p(L,K.props),ue.ref=tc(q,L,K),ue.return=q,ue):(ue=wd(K.type,K.key,K.props,null,q.mode,ue),ue.ref=tc(q,L,K),ue.return=q,ue)}function Z(q,L,K,ue){return L===null||L.tag!==4||L.stateNode.containerInfo!==K.containerInfo||L.stateNode.implementation!==K.implementation?(L=Zm(K,q.mode,ue),L.return=q,L):(L=p(L,K.children||[]),L.return=q,L)}function ie(q,L,K,ue,Re){return L===null||L.tag!==7?(L=Vo(K,q.mode,ue,Re),L.return=q,L):(L=p(L,K),L.return=q,L)}function ae(q,L,K){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Km(""+L,q.mode,K),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B:return K=wd(L.type,L.key,L.props,null,q.mode,K),K.ref=tc(q,null,L),K.return=q,K;case de:return L=Zm(L,q.mode,K),L.return=q,L;case Te:var ue=L._init;return ae(q,ue(L._payload),K)}if(P(L)||xe(L))return L=Vo(L,q.mode,K,null),L.return=q,L;Qu(q,L)}return null}function se(q,L,K,ue){var Re=L!==null?L.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Re!==null?null:R(q,L,""+K,ue);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return K.key===Re?V(q,L,K,ue):null;case de:return K.key===Re?Z(q,L,K,ue):null;case Te:return Re=K._init,se(q,L,Re(K._payload),ue)}if(P(K)||xe(K))return Re!==null?null:ie(q,L,K,ue,null);Qu(q,K)}return null}function ve(q,L,K,ue,Re){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return q=q.get(K)||null,R(L,q,""+ue,Re);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case B:return q=q.get(ue.key===null?K:ue.key)||null,V(L,q,ue,Re);case de:return q=q.get(ue.key===null?K:ue.key)||null,Z(L,q,ue,Re);case Te:var Oe=ue._init;return ve(q,L,K,Oe(ue._payload),Re)}if(P(ue)||xe(ue))return q=q.get(K)||null,ie(L,q,ue,Re,null);Qu(L,ue)}return null}function Ie(q,L,K,ue){for(var Re=null,Oe=null,Me=L,$e=L=0,hn=null;Me!==null&&$e<K.length;$e++){Me.index>$e?(hn=Me,Me=null):hn=Me.sibling;var lt=se(q,Me,K[$e],ue);if(lt===null){Me===null&&(Me=hn);break}s&&Me&&lt.alternate===null&&o(q,Me),L=y(lt,L,$e),Oe===null?Re=lt:Oe.sibling=lt,Oe=lt,Me=hn}if($e===K.length)return c(q,Me),It&&Ao(q,$e),Re;if(Me===null){for(;$e<K.length;$e++)Me=ae(q,K[$e],ue),Me!==null&&(L=y(Me,L,$e),Oe===null?Re=Me:Oe.sibling=Me,Oe=Me);return It&&Ao(q,$e),Re}for(Me=f(q,Me);$e<K.length;$e++)hn=ve(Me,q,$e,K[$e],ue),hn!==null&&(s&&hn.alternate!==null&&Me.delete(hn.key===null?$e:hn.key),L=y(hn,L,$e),Oe===null?Re=hn:Oe.sibling=hn,Oe=hn);return s&&Me.forEach(function(zi){return o(q,zi)}),It&&Ao(q,$e),Re}function ke(q,L,K,ue){var Re=xe(K);if(typeof Re!="function")throw Error(n(150));if(K=Re.call(K),K==null)throw Error(n(151));for(var Oe=Re=null,Me=L,$e=L=0,hn=null,lt=K.next();Me!==null&&!lt.done;$e++,lt=K.next()){Me.index>$e?(hn=Me,Me=null):hn=Me.sibling;var zi=se(q,Me,lt.value,ue);if(zi===null){Me===null&&(Me=hn);break}s&&Me&&zi.alternate===null&&o(q,Me),L=y(zi,L,$e),Oe===null?Re=zi:Oe.sibling=zi,Oe=zi,Me=hn}if(lt.done)return c(q,Me),It&&Ao(q,$e),Re;if(Me===null){for(;!lt.done;$e++,lt=K.next())lt=ae(q,lt.value,ue),lt!==null&&(L=y(lt,L,$e),Oe===null?Re=lt:Oe.sibling=lt,Oe=lt);return It&&Ao(q,$e),Re}for(Me=f(q,Me);!lt.done;$e++,lt=K.next())lt=ve(Me,q,$e,lt.value,ue),lt!==null&&(s&&lt.alternate!==null&&Me.delete(lt.key===null?$e:lt.key),L=y(lt,L,$e),Oe===null?Re=lt:Oe.sibling=lt,Oe=lt);return s&&Me.forEach(function(jN){return o(q,jN)}),It&&Ao(q,$e),Re}function zt(q,L,K,ue){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case B:e:{for(var Re=K.key,Oe=L;Oe!==null;){if(Oe.key===Re){if(Re=K.type,Re===k){if(Oe.tag===7){c(q,Oe.sibling),L=p(Oe,K.props.children),L.return=q,q=L;break e}}else if(Oe.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Te&&O0(Re)===Oe.type){c(q,Oe.sibling),L=p(Oe,K.props),L.ref=tc(q,Oe,K),L.return=q,q=L;break e}c(q,Oe);break}else o(q,Oe);Oe=Oe.sibling}K.type===k?(L=Vo(K.props.children,q.mode,ue,K.key),L.return=q,q=L):(ue=wd(K.type,K.key,K.props,null,q.mode,ue),ue.ref=tc(q,L,K),ue.return=q,q=ue)}return b(q);case de:e:{for(Oe=K.key;L!==null;){if(L.key===Oe)if(L.tag===4&&L.stateNode.containerInfo===K.containerInfo&&L.stateNode.implementation===K.implementation){c(q,L.sibling),L=p(L,K.children||[]),L.return=q,q=L;break e}else{c(q,L);break}else o(q,L);L=L.sibling}L=Zm(K,q.mode,ue),L.return=q,q=L}return b(q);case Te:return Oe=K._init,zt(q,L,Oe(K._payload),ue)}if(P(K))return Ie(q,L,K,ue);if(xe(K))return ke(q,L,K,ue);Qu(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,L!==null&&L.tag===6?(c(q,L.sibling),L=p(L,K),L.return=q,q=L):(c(q,L),L=Km(K,q.mode,ue),L.return=q,q=L),b(q)):c(q,L)}return zt}var Ma=M0(!0),V0=M0(!1),Yu=Ai(null),Xu=null,Va=null,sm=null;function im(){sm=Va=Xu=null}function om(s){var o=Yu.current;_t(Yu),s._currentValue=o}function am(s,o,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===c)break;s=s.return}}function La(s,o){Xu=s,sm=Va=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Kn=!0),s.firstContext=null)}function Cr(s){var o=s._currentValue;if(sm!==s)if(s={context:s,memoizedValue:o,next:null},Va===null){if(Xu===null)throw Error(n(308));Va=s,Xu.dependencies={lanes:0,firstContext:s}}else Va=Va.next=s;return o}var Co=null;function lm(s){Co===null?Co=[s]:Co.push(s)}function L0(s,o,c,f){var p=o.interleaved;return p===null?(c.next=c,lm(o)):(c.next=p.next,p.next=c),o.interleaved=c,ei(s,f)}function ei(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Pi=!1;function cm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ti(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function ji(s,o,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(at&2)!==0){var p=f.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),f.pending=o,ei(s,c)}return p=f.interleaved,p===null?(o.next=o,lm(f)):(o.next=p.next,p.next=o),f.interleaved=o,ei(s,c)}function Ju(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,Ml(s,c)}}function z0(s,o){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var p=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var b={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?p=y=b:y=y.next=b,c=c.next}while(c!==null);y===null?p=y=o:y=y.next=o}else p=y=o;c={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function ed(s,o,c,f){var p=s.updateQueue;Pi=!1;var y=p.firstBaseUpdate,b=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var V=R,Z=V.next;V.next=null,b===null?y=Z:b.next=Z,b=V;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,R=ie.lastBaseUpdate,R!==b&&(R===null?ie.firstBaseUpdate=Z:R.next=Z,ie.lastBaseUpdate=V))}if(y!==null){var ae=p.baseState;b=0,ie=Z=V=null,R=y;do{var se=R.lane,ve=R.eventTime;if((f&se)===se){ie!==null&&(ie=ie.next={eventTime:ve,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var Ie=s,ke=R;switch(se=o,ve=c,ke.tag){case 1:if(Ie=ke.payload,typeof Ie=="function"){ae=Ie.call(ve,ae,se);break e}ae=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=ke.payload,se=typeof Ie=="function"?Ie.call(ve,ae,se):Ie,se==null)break e;ae=fe({},ae,se);break e;case 2:Pi=!0}}R.callback!==null&&R.lane!==0&&(s.flags|=64,se=p.effects,se===null?p.effects=[R]:se.push(R))}else ve={eventTime:ve,lane:se,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ie===null?(Z=ie=ve,V=ae):ie=ie.next=ve,b|=se;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;se=R,R=se.next,se.next=null,p.lastBaseUpdate=se,p.shared.pending=null}}while(!0);if(ie===null&&(V=ae),p.baseState=V,p.firstBaseUpdate=Z,p.lastBaseUpdate=ie,o=p.shared.interleaved,o!==null){p=o;do b|=p.lane,p=p.next;while(p!==o)}else y===null&&(p.shared.lanes=0);jo|=b,s.lanes=b,s.memoizedState=ae}}function U0(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],p=f.callback;if(p!==null){if(f.callback=null,f=c,typeof p!="function")throw Error(n(191,p));p.call(f)}}}var nc={},Ns=Ai(nc),rc=Ai(nc),sc=Ai(nc);function Ro(s){if(s===nc)throw Error(n(174));return s}function um(s,o){switch(pt(sc,o),pt(rc,s),pt(Ns,nc),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ye(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Ye(o,s)}_t(Ns),pt(Ns,o)}function Fa(){_t(Ns),_t(rc),_t(sc)}function $0(s){Ro(sc.current);var o=Ro(Ns.current),c=Ye(o,s.type);o!==c&&(pt(rc,s),pt(Ns,c))}function dm(s){rc.current===s&&(_t(Ns),_t(rc))}var At=Ai(0);function td(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var hm=[];function fm(){for(var s=0;s<hm.length;s++)hm[s]._workInProgressVersionPrimary=null;hm.length=0}var nd=ee.ReactCurrentDispatcher,mm=ee.ReactCurrentBatchConfig,Po=0,Ct=null,rn=null,un=null,rd=!1,ic=!1,oc=0,tN=0;function An(){throw Error(n(321))}function pm(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Kr(s[c],o[c]))return!1;return!0}function gm(s,o,c,f,p,y){if(Po=y,Ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,nd.current=s===null||s.memoizedState===null?iN:oN,s=c(f,p),ic){y=0;do{if(ic=!1,oc=0,25<=y)throw Error(n(301));y+=1,un=rn=null,o.updateQueue=null,nd.current=aN,s=c(f,p)}while(ic)}if(nd.current=od,o=rn!==null&&rn.next!==null,Po=0,un=rn=Ct=null,rd=!1,o)throw Error(n(300));return s}function ym(){var s=oc!==0;return oc=0,s}function Ss(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Ct.memoizedState=un=s:un=un.next=s,un}function Rr(){if(rn===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=rn.next;var o=un===null?Ct.memoizedState:un.next;if(o!==null)un=o,rn=s;else{if(s===null)throw Error(n(310));rn=s,s={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},un===null?Ct.memoizedState=un=s:un=un.next=s}return un}function ac(s,o){return typeof o=="function"?o(s):o}function vm(s){var o=Rr(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=rn,p=f.baseQueue,y=c.pending;if(y!==null){if(p!==null){var b=p.next;p.next=y.next,y.next=b}f.baseQueue=p=y,c.pending=null}if(p!==null){y=p.next,f=f.baseState;var R=b=null,V=null,Z=y;do{var ie=Z.lane;if((Po&ie)===ie)V!==null&&(V=V.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),f=Z.hasEagerState?Z.eagerState:s(f,Z.action);else{var ae={lane:ie,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};V===null?(R=V=ae,b=f):V=V.next=ae,Ct.lanes|=ie,jo|=ie}Z=Z.next}while(Z!==null&&Z!==y);V===null?b=f:V.next=R,Kr(f,o.memoizedState)||(Kn=!0),o.memoizedState=f,o.baseState=b,o.baseQueue=V,c.lastRenderedState=f}if(s=c.interleaved,s!==null){p=s;do y=p.lane,Ct.lanes|=y,jo|=y,p=p.next;while(p!==s)}else p===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function xm(s){var o=Rr(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=c.dispatch,p=c.pending,y=o.memoizedState;if(p!==null){c.pending=null;var b=p=p.next;do y=s(y,b.action),b=b.next;while(b!==p);Kr(y,o.memoizedState)||(Kn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),c.lastRenderedState=y}return[y,f]}function B0(){}function H0(s,o){var c=Ct,f=Rr(),p=o(),y=!Kr(f.memoizedState,p);if(y&&(f.memoizedState=p,Kn=!0),f=f.queue,wm(G0.bind(null,c,f,s),[s]),f.getSnapshot!==o||y||un!==null&&un.memoizedState.tag&1){if(c.flags|=2048,lc(9,W0.bind(null,c,f,p,o),void 0,null),dn===null)throw Error(n(349));(Po&30)!==0||q0(c,o,p)}return p}function q0(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Ct.updateQueue,o===null?(o={lastEffect:null,stores:null},Ct.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function W0(s,o,c,f){o.value=c,o.getSnapshot=f,K0(o)&&Z0(s)}function G0(s,o,c){return c(function(){K0(o)&&Z0(s)})}function K0(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Kr(s,c)}catch{return!0}}function Z0(s){var o=ei(s,1);o!==null&&Jr(o,s,1,-1)}function Q0(s){var o=Ss();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:s},o.queue=s,s=s.dispatch=sN.bind(null,Ct,s),[o.memoizedState,s]}function lc(s,o,c,f){return s={tag:s,create:o,destroy:c,deps:f,next:null},o=Ct.updateQueue,o===null?(o={lastEffect:null,stores:null},Ct.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,o.lastEffect=s)),s}function Y0(){return Rr().memoizedState}function sd(s,o,c,f){var p=Ss();Ct.flags|=s,p.memoizedState=lc(1|o,c,void 0,f===void 0?null:f)}function id(s,o,c,f){var p=Rr();f=f===void 0?null:f;var y=void 0;if(rn!==null){var b=rn.memoizedState;if(y=b.destroy,f!==null&&pm(f,b.deps)){p.memoizedState=lc(o,c,y,f);return}}Ct.flags|=s,p.memoizedState=lc(1|o,c,y,f)}function X0(s,o){return sd(8390656,8,s,o)}function wm(s,o){return id(2048,8,s,o)}function J0(s,o){return id(4,2,s,o)}function ev(s,o){return id(4,4,s,o)}function tv(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function nv(s,o,c){return c=c!=null?c.concat([s]):null,id(4,4,tv.bind(null,o,s),c)}function _m(){}function rv(s,o){var c=Rr();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&pm(o,f[1])?f[0]:(c.memoizedState=[s,o],s)}function sv(s,o){var c=Rr();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&pm(o,f[1])?f[0]:(s=s(),c.memoizedState=[s,o],s)}function iv(s,o,c){return(Po&21)===0?(s.baseState&&(s.baseState=!1,Kn=!0),s.memoizedState=c):(Kr(c,o)||(c=Dl(),Ct.lanes|=c,jo|=c,s.baseState=!0),o)}function nN(s,o){var c=st;st=c!==0&&4>c?c:4,s(!0);var f=mm.transition;mm.transition={};try{s(!1),o()}finally{st=c,mm.transition=f}}function ov(){return Rr().memoizedState}function rN(s,o,c){var f=Vi(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},av(s))lv(o,c);else if(c=L0(s,o,c,f),c!==null){var p=Bn();Jr(c,s,f,p),cv(c,o,f)}}function sN(s,o,c){var f=Vi(s),p={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(av(s))lv(o,p);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var b=o.lastRenderedState,R=y(b,c);if(p.hasEagerState=!0,p.eagerState=R,Kr(R,b)){var V=o.interleaved;V===null?(p.next=p,lm(o)):(p.next=V.next,V.next=p),o.interleaved=p;return}}catch{}finally{}c=L0(s,o,p,f),c!==null&&(p=Bn(),Jr(c,s,f,p),cv(c,o,f))}}function av(s){var o=s.alternate;return s===Ct||o!==null&&o===Ct}function lv(s,o){ic=rd=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function cv(s,o,c){if((c&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,Ml(s,c)}}var od={readContext:Cr,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},iN={readContext:Cr,useCallback:function(s,o){return Ss().memoizedState=[s,o===void 0?null:o],s},useContext:Cr,useEffect:X0,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,sd(4194308,4,tv.bind(null,o,s),c)},useLayoutEffect:function(s,o){return sd(4194308,4,s,o)},useInsertionEffect:function(s,o){return sd(4,2,s,o)},useMemo:function(s,o){var c=Ss();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var f=Ss();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=rN.bind(null,Ct,s),[f.memoizedState,s]},useRef:function(s){var o=Ss();return s={current:s},o.memoizedState=s},useState:Q0,useDebugValue:_m,useDeferredValue:function(s){return Ss().memoizedState=s},useTransition:function(){var s=Q0(!1),o=s[0];return s=nN.bind(null,s[1]),Ss().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var f=Ct,p=Ss();if(It){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),dn===null)throw Error(n(349));(Po&30)!==0||q0(f,o,c)}p.memoizedState=c;var y={value:c,getSnapshot:o};return p.queue=y,X0(G0.bind(null,f,y,s),[s]),f.flags|=2048,lc(9,W0.bind(null,f,y,c,o),void 0,null),c},useId:function(){var s=Ss(),o=dn.identifierPrefix;if(It){var c=Js,f=Xs;c=(f&~(1<<32-dr(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=oc++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=tN++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},oN={readContext:Cr,useCallback:rv,useContext:Cr,useEffect:wm,useImperativeHandle:nv,useInsertionEffect:J0,useLayoutEffect:ev,useMemo:sv,useReducer:vm,useRef:Y0,useState:function(){return vm(ac)},useDebugValue:_m,useDeferredValue:function(s){var o=Rr();return iv(o,rn.memoizedState,s)},useTransition:function(){var s=vm(ac)[0],o=Rr().memoizedState;return[s,o]},useMutableSource:B0,useSyncExternalStore:H0,useId:ov,unstable_isNewReconciler:!1},aN={readContext:Cr,useCallback:rv,useContext:Cr,useEffect:wm,useImperativeHandle:nv,useInsertionEffect:J0,useLayoutEffect:ev,useMemo:sv,useReducer:xm,useRef:Y0,useState:function(){return xm(ac)},useDebugValue:_m,useDeferredValue:function(s){var o=Rr();return rn===null?o.memoizedState=s:iv(o,rn.memoizedState,s)},useTransition:function(){var s=xm(ac)[0],o=Rr().memoizedState;return[s,o]},useMutableSource:B0,useSyncExternalStore:H0,useId:ov,unstable_isNewReconciler:!1};function Qr(s,o){if(s&&s.defaultProps){o=fe({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function Em(s,o,c,f){o=s.memoizedState,c=c(f,o),c=c==null?o:fe({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var ad={isMounted:function(s){return(s=s._reactInternals)?Wr(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var f=Bn(),p=Vi(s),y=ti(f,p);y.payload=o,c!=null&&(y.callback=c),o=ji(s,y,p),o!==null&&(Jr(o,s,p,f),Ju(o,s,p))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var f=Bn(),p=Vi(s),y=ti(f,p);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=ji(s,y,p),o!==null&&(Jr(o,s,p,f),Ju(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Bn(),f=Vi(s),p=ti(c,f);p.tag=2,o!=null&&(p.callback=o),o=ji(s,p,f),o!==null&&(Jr(o,s,f,c),Ju(o,s,f))}};function uv(s,o,c,f,p,y,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,y,b):o.prototype&&o.prototype.isPureReactComponent?!Kl(c,f)||!Kl(p,y):!0}function dv(s,o,c){var f=!1,p=Ci,y=o.contextType;return typeof y=="object"&&y!==null?y=Cr(y):(p=Gn(o)?So:kn.current,f=o.contextTypes,y=(f=f!=null)?Pa(s,p):Ci),o=new o(c,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ad,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=y),o}function hv(s,o,c,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==s&&ad.enqueueReplaceState(o,o.state,null)}function bm(s,o,c,f){var p=s.stateNode;p.props=c,p.state=s.memoizedState,p.refs={},cm(s);var y=o.contextType;typeof y=="object"&&y!==null?p.context=Cr(y):(y=Gn(o)?So:kn.current,p.context=Pa(s,y)),p.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Em(s,o,y,c),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&ad.enqueueReplaceState(p,p.state,null),ed(s,c,p,f),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function za(s,o){try{var c="",f=o;do c+=Se(f),f=f.return;while(f);var p=c}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:p,digest:null}}function Tm(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Im(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var lN=typeof WeakMap=="function"?WeakMap:Map;function fv(s,o,c){c=ti(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){md||(md=!0,zm=f),Im(s,o)},c}function mv(s,o,c){c=ti(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=o.value;c.payload=function(){return f(p)},c.callback=function(){Im(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){Im(s,o),typeof f!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})}),c}function pv(s,o,c){var f=s.pingCache;if(f===null){f=s.pingCache=new lN;var p=new Set;f.set(o,p)}else p=f.get(o),p===void 0&&(p=new Set,f.set(o,p));p.has(c)||(p.add(c),s=EN.bind(null,s,o,c),o.then(s,s))}function gv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function yv(s,o,c,f,p){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=ti(-1,1),o.tag=2,ji(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var cN=ee.ReactCurrentOwner,Kn=!1;function $n(s,o,c,f){o.child=s===null?V0(o,null,c,f):Ma(o,s.child,c,f)}function vv(s,o,c,f,p){c=c.render;var y=o.ref;return La(o,p),f=gm(s,o,c,f,y,p),c=ym(),s!==null&&!Kn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~p,ni(s,o,p)):(It&&c&&Jf(o),o.flags|=1,$n(s,o,f,p),o.child)}function xv(s,o,c,f,p){if(s===null){var y=c.type;return typeof y=="function"&&!Gm(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=y,wv(s,o,y,f,p)):(s=wd(c.type,null,f,o,o.mode,p),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&p)===0){var b=y.memoizedProps;if(c=c.compare,c=c!==null?c:Kl,c(b,f)&&s.ref===o.ref)return ni(s,o,p)}return o.flags|=1,s=Fi(y,f),s.ref=o.ref,s.return=o,o.child=s}function wv(s,o,c,f,p){if(s!==null){var y=s.memoizedProps;if(Kl(y,f)&&s.ref===o.ref)if(Kn=!1,o.pendingProps=f=y,(s.lanes&p)!==0)(s.flags&131072)!==0&&(Kn=!0);else return o.lanes=s.lanes,ni(s,o,p)}return Nm(s,o,c,f,p)}function _v(s,o,c){var f=o.pendingProps,p=f.children,y=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt($a,vr),vr|=c;else{if((c&1073741824)===0)return s=y!==null?y.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,pt($a,vr),vr|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:c,pt($a,vr),vr|=f}else y!==null?(f=y.baseLanes|c,o.memoizedState=null):f=c,pt($a,vr),vr|=f;return $n(s,o,p,c),o.child}function Ev(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Nm(s,o,c,f,p){var y=Gn(c)?So:kn.current;return y=Pa(o,y),La(o,p),c=gm(s,o,c,f,y,p),f=ym(),s!==null&&!Kn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~p,ni(s,o,p)):(It&&f&&Jf(o),o.flags|=1,$n(s,o,c,p),o.child)}function bv(s,o,c,f,p){if(Gn(c)){var y=!0;qu(o)}else y=!1;if(La(o,p),o.stateNode===null)cd(s,o),dv(o,c,f),bm(o,c,f,p),f=!0;else if(s===null){var b=o.stateNode,R=o.memoizedProps;b.props=R;var V=b.context,Z=c.contextType;typeof Z=="object"&&Z!==null?Z=Cr(Z):(Z=Gn(c)?So:kn.current,Z=Pa(o,Z));var ie=c.getDerivedStateFromProps,ae=typeof ie=="function"||typeof b.getSnapshotBeforeUpdate=="function";ae||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==f||V!==Z)&&hv(o,b,f,Z),Pi=!1;var se=o.memoizedState;b.state=se,ed(o,f,b,p),V=o.memoizedState,R!==f||se!==V||Wn.current||Pi?(typeof ie=="function"&&(Em(o,c,ie,f),V=o.memoizedState),(R=Pi||uv(o,c,R,f,se,V,Z))?(ae||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=V),b.props=f,b.state=V,b.context=Z,f=R):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,F0(s,o),R=o.memoizedProps,Z=o.type===o.elementType?R:Qr(o.type,R),b.props=Z,ae=o.pendingProps,se=b.context,V=c.contextType,typeof V=="object"&&V!==null?V=Cr(V):(V=Gn(c)?So:kn.current,V=Pa(o,V));var ve=c.getDerivedStateFromProps;(ie=typeof ve=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==ae||se!==V)&&hv(o,b,f,V),Pi=!1,se=o.memoizedState,b.state=se,ed(o,f,b,p);var Ie=o.memoizedState;R!==ae||se!==Ie||Wn.current||Pi?(typeof ve=="function"&&(Em(o,c,ve,f),Ie=o.memoizedState),(Z=Pi||uv(o,c,Z,f,se,Ie,V)||!1)?(ie||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,Ie,V),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,Ie,V)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Ie),b.props=f,b.state=Ie,b.context=V,f=Z):(typeof b.componentDidUpdate!="function"||R===s.memoizedProps&&se===s.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&se===s.memoizedState||(o.flags|=1024),f=!1)}return Sm(s,o,c,f,y,p)}function Sm(s,o,c,f,p,y){Ev(s,o);var b=(o.flags&128)!==0;if(!f&&!b)return p&&k0(o,c,!1),ni(s,o,y);f=o.stateNode,cN.current=o;var R=b&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&b?(o.child=Ma(o,s.child,null,y),o.child=Ma(o,null,R,y)):$n(s,o,R,y),o.memoizedState=f.state,p&&k0(o,c,!0),o.child}function Tv(s){var o=s.stateNode;o.pendingContext?N0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&N0(s,o.context,!1),um(s,o.containerInfo)}function Iv(s,o,c,f,p){return Oa(),rm(p),o.flags|=256,$n(s,o,c,f),o.child}var km={dehydrated:null,treeContext:null,retryLane:0};function Am(s){return{baseLanes:s,cachePool:null,transitions:null}}function Nv(s,o,c){var f=o.pendingProps,p=At.current,y=!1,b=(o.flags&128)!==0,R;if((R=b)||(R=s!==null&&s.memoizedState===null?!1:(p&2)!==0),R?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),pt(At,p&1),s===null)return nm(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(b=f.children,s=f.fallback,y?(f=o.mode,y=o.child,b={mode:"hidden",children:b},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=b):y=_d(b,f,0,null),s=Vo(s,f,c,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=Am(c),o.memoizedState=km,s):Cm(o,b));if(p=s.memoizedState,p!==null&&(R=p.dehydrated,R!==null))return uN(s,o,b,f,R,p,c);if(y){y=f.fallback,b=o.mode,p=s.child,R=p.sibling;var V={mode:"hidden",children:f.children};return(b&1)===0&&o.child!==p?(f=o.child,f.childLanes=0,f.pendingProps=V,o.deletions=null):(f=Fi(p,V),f.subtreeFlags=p.subtreeFlags&14680064),R!==null?y=Fi(R,y):(y=Vo(y,b,c,null),y.flags|=2),y.return=o,f.return=o,f.sibling=y,o.child=f,f=y,y=o.child,b=s.child.memoizedState,b=b===null?Am(c):{baseLanes:b.baseLanes|c,cachePool:null,transitions:b.transitions},y.memoizedState=b,y.childLanes=s.childLanes&~c,o.memoizedState=km,f}return y=s.child,s=y.sibling,f=Fi(y,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=c),f.return=o,f.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=f,o.memoizedState=null,f}function Cm(s,o){return o=_d({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function ld(s,o,c,f){return f!==null&&rm(f),Ma(o,s.child,null,c),s=Cm(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function uN(s,o,c,f,p,y,b){if(c)return o.flags&256?(o.flags&=-257,f=Tm(Error(n(422))),ld(s,o,b,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=f.fallback,p=o.mode,f=_d({mode:"visible",children:f.children},p,0,null),y=Vo(y,p,b,null),y.flags|=2,f.return=o,y.return=o,f.sibling=y,o.child=f,(o.mode&1)!==0&&Ma(o,s.child,null,b),o.child.memoizedState=Am(b),o.memoizedState=km,y);if((o.mode&1)===0)return ld(s,o,b,null);if(p.data==="$!"){if(f=p.nextSibling&&p.nextSibling.dataset,f)var R=f.dgst;return f=R,y=Error(n(419)),f=Tm(y,f,void 0),ld(s,o,b,f)}if(R=(b&s.childLanes)!==0,Kn||R){if(f=dn,f!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(f.suspendedLanes|b))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,ei(s,p),Jr(f,s,p,-1))}return Wm(),f=Tm(Error(n(421))),ld(s,o,b,f)}return p.data==="$?"?(o.flags|=128,o.child=s.child,o=bN.bind(null,s),p._reactRetry=o,null):(s=y.treeContext,yr=ki(p.nextSibling),gr=o,It=!0,Zr=null,s!==null&&(kr[Ar++]=Xs,kr[Ar++]=Js,kr[Ar++]=ko,Xs=s.id,Js=s.overflow,ko=o),o=Cm(o,f.children),o.flags|=4096,o)}function Sv(s,o,c){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),am(s.return,o,c)}function Rm(s,o,c,f,p){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:p}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=c,y.tailMode=p)}function kv(s,o,c){var f=o.pendingProps,p=f.revealOrder,y=f.tail;if($n(s,o,f.children,c),f=At.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Sv(s,c,o);else if(s.tag===19)Sv(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(pt(At,f),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(c=o.child,p=null;c!==null;)s=c.alternate,s!==null&&td(s)===null&&(p=c),c=c.sibling;c=p,c===null?(p=o.child,o.child=null):(p=c.sibling,c.sibling=null),Rm(o,!1,p,c,y);break;case"backwards":for(c=null,p=o.child,o.child=null;p!==null;){if(s=p.alternate,s!==null&&td(s)===null){o.child=p;break}s=p.sibling,p.sibling=c,c=p,p=s}Rm(o,!0,c,null,y);break;case"together":Rm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function cd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ni(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),jo|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,c=Fi(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Fi(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function dN(s,o,c){switch(o.tag){case 3:Tv(o),Oa();break;case 5:$0(o);break;case 1:Gn(o.type)&&qu(o);break;case 4:um(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,p=o.memoizedProps.value;pt(Yu,f._currentValue),f._currentValue=p;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(pt(At,At.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Nv(s,o,c):(pt(At,At.current&1),s=ni(s,o,c),s!==null?s.sibling:null);pt(At,At.current&1);break;case 19:if(f=(c&o.childLanes)!==0,(s.flags&128)!==0){if(f)return kv(s,o,c);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),pt(At,At.current),f)break;return null;case 22:case 23:return o.lanes=0,_v(s,o,c)}return ni(s,o,c)}var Av,Pm,Cv,Rv;Av=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Pm=function(){},Cv=function(s,o,c,f){var p=s.memoizedProps;if(p!==f){s=o.stateNode,Ro(Ns.current);var y=null;switch(c){case"input":p=ar(s,p),f=ar(s,f),y=[];break;case"select":p=fe({},p,{value:void 0}),f=fe({},f,{value:void 0}),y=[];break;case"textarea":p=Y(s,p),f=Y(s,f),y=[];break;default:typeof p.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=$u)}yn(c,f);var b;c=null;for(Z in p)if(!f.hasOwnProperty(Z)&&p.hasOwnProperty(Z)&&p[Z]!=null)if(Z==="style"){var R=p[Z];for(b in R)R.hasOwnProperty(b)&&(c||(c={}),c[b]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?y||(y=[]):(y=y||[]).push(Z,null));for(Z in f){var V=f[Z];if(R=p?.[Z],f.hasOwnProperty(Z)&&V!==R&&(V!=null||R!=null))if(Z==="style")if(R){for(b in R)!R.hasOwnProperty(b)||V&&V.hasOwnProperty(b)||(c||(c={}),c[b]="");for(b in V)V.hasOwnProperty(b)&&R[b]!==V[b]&&(c||(c={}),c[b]=V[b])}else c||(y||(y=[]),y.push(Z,c)),c=V;else Z==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,R=R?R.__html:void 0,V!=null&&R!==V&&(y=y||[]).push(Z,V)):Z==="children"?typeof V!="string"&&typeof V!="number"||(y=y||[]).push(Z,""+V):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(V!=null&&Z==="onScroll"&&wt("scroll",s),y||R===V||(y=[])):(y=y||[]).push(Z,V))}c&&(y=y||[]).push("style",c);var Z=y;(o.updateQueue=Z)&&(o.flags|=4)}},Rv=function(s,o,c,f){c!==f&&(o.flags|=4)};function cc(s,o){if(!It)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Cn(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(o)for(var p=s.child;p!==null;)c|=p.lanes|p.childLanes,f|=p.subtreeFlags&14680064,f|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)c|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=f,s.childLanes=c,o}function hN(s,o,c){var f=o.pendingProps;switch(em(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(o),null;case 1:return Gn(o.type)&&Hu(),Cn(o),null;case 3:return f=o.stateNode,Fa(),_t(Wn),_t(kn),fm(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Zu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Zr!==null&&(Bm(Zr),Zr=null))),Pm(s,o),Cn(o),null;case 5:dm(o);var p=Ro(sc.current);if(c=o.type,s!==null&&o.stateNode!=null)Cv(s,o,c,f,p),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Cn(o),null}if(s=Ro(Ns.current),Zu(o)){f=o.stateNode,c=o.type;var y=o.memoizedProps;switch(f[Is]=o,f[Jl]=y,s=(o.mode&1)!==0,c){case"dialog":wt("cancel",f),wt("close",f);break;case"iframe":case"object":case"embed":wt("load",f);break;case"video":case"audio":for(p=0;p<Ql.length;p++)wt(Ql[p],f);break;case"source":wt("error",f);break;case"img":case"image":case"link":wt("error",f),wt("load",f);break;case"details":wt("toggle",f);break;case"input":Us(f,y),wt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},wt("invalid",f);break;case"textarea":pe(f,y),wt("invalid",f)}yn(c,y),p=null;for(var b in y)if(y.hasOwnProperty(b)){var R=y[b];b==="children"?typeof R=="string"?f.textContent!==R&&(y.suppressHydrationWarning!==!0&&Uu(f.textContent,R,s),p=["children",R]):typeof R=="number"&&f.textContent!==""+R&&(y.suppressHydrationWarning!==!0&&Uu(f.textContent,R,s),p=["children",""+R]):i.hasOwnProperty(b)&&R!=null&&b==="onScroll"&&wt("scroll",f)}switch(c){case"input":or(f),$s(f,y,!0);break;case"textarea":or(f),oe(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=$u)}f=p,o.updateQueue=f,f!==null&&(o.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=be(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=b.createElement(c,{is:f.is}):(s=b.createElement(c),c==="select"&&(b=s,f.multiple?b.multiple=!0:f.size&&(b.size=f.size))):s=b.createElementNS(s,c),s[Is]=o,s[Jl]=f,Av(s,o,!1,!1),o.stateNode=s;e:{switch(b=hs(c,f),c){case"dialog":wt("cancel",s),wt("close",s),p=f;break;case"iframe":case"object":case"embed":wt("load",s),p=f;break;case"video":case"audio":for(p=0;p<Ql.length;p++)wt(Ql[p],s);p=f;break;case"source":wt("error",s),p=f;break;case"img":case"image":case"link":wt("error",s),wt("load",s),p=f;break;case"details":wt("toggle",s),p=f;break;case"input":Us(s,f),p=ar(s,f),wt("invalid",s);break;case"option":p=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},p=fe({},f,{value:void 0}),wt("invalid",s);break;case"textarea":pe(s,f),p=Y(s,f),wt("invalid",s);break;default:p=f}yn(c,p),R=p;for(y in R)if(R.hasOwnProperty(y)){var V=R[y];y==="style"?Tr(s,V):y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Vt(s,V)):y==="children"?typeof V=="string"?(c!=="textarea"||V!=="")&&nn(s,V):typeof V=="number"&&nn(s,""+V):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?V!=null&&y==="onScroll"&&wt("scroll",s):V!=null&&Q(s,y,V,b))}switch(c){case"input":or(s),$s(s,f,!1);break;case"textarea":or(s),oe(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Ce(f.value));break;case"select":s.multiple=!!f.multiple,y=f.value,y!=null?H(s,!!f.multiple,y,!1):f.defaultValue!=null&&H(s,!!f.multiple,f.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=$u)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Cn(o),null;case 6:if(s&&o.stateNode!=null)Rv(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(c=Ro(sc.current),Ro(Ns.current),Zu(o)){if(f=o.stateNode,c=o.memoizedProps,f[Is]=o,(y=f.nodeValue!==c)&&(s=gr,s!==null))switch(s.tag){case 3:Uu(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Uu(f.nodeValue,c,(s.mode&1)!==0)}y&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Is]=o,o.stateNode=f}return Cn(o),null;case 13:if(_t(At),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(It&&yr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)D0(),Oa(),o.flags|=98560,y=!1;else if(y=Zu(o),f!==null&&f.dehydrated!==null){if(s===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Is]=o}else Oa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Cn(o),y=!1}else Zr!==null&&(Bm(Zr),Zr=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(At.current&1)!==0?sn===0&&(sn=3):Wm())),o.updateQueue!==null&&(o.flags|=4),Cn(o),null);case 4:return Fa(),Pm(s,o),s===null&&Yl(o.stateNode.containerInfo),Cn(o),null;case 10:return om(o.type._context),Cn(o),null;case 17:return Gn(o.type)&&Hu(),Cn(o),null;case 19:if(_t(At),y=o.memoizedState,y===null)return Cn(o),null;if(f=(o.flags&128)!==0,b=y.rendering,b===null)if(f)cc(y,!1);else{if(sn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(b=td(s),b!==null){for(o.flags|=128,cc(y,!1),f=b.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)y=c,s=f,y.flags&=14680066,b=y.alternate,b===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=b.childLanes,y.lanes=b.lanes,y.child=b.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=b.memoizedProps,y.memoizedState=b.memoizedState,y.updateQueue=b.updateQueue,y.type=b.type,s=b.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return pt(At,At.current&1|2),o.child}s=s.sibling}y.tail!==null&&xt()>Ba&&(o.flags|=128,f=!0,cc(y,!1),o.lanes=4194304)}else{if(!f)if(s=td(b),s!==null){if(o.flags|=128,f=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),cc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!It)return Cn(o),null}else 2*xt()-y.renderingStartTime>Ba&&c!==1073741824&&(o.flags|=128,f=!0,cc(y,!1),o.lanes=4194304);y.isBackwards?(b.sibling=o.child,o.child=b):(c=y.last,c!==null?c.sibling=b:o.child=b,y.last=b)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=xt(),o.sibling=null,c=At.current,pt(At,f?c&1|2:c&1),o):(Cn(o),null);case 22:case 23:return qm(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(vr&1073741824)!==0&&(Cn(o),o.subtreeFlags&6&&(o.flags|=8192)):Cn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function fN(s,o){switch(em(o),o.tag){case 1:return Gn(o.type)&&Hu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Fa(),_t(Wn),_t(kn),fm(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return dm(o),null;case 13:if(_t(At),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Oa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return _t(At),null;case 4:return Fa(),null;case 10:return om(o.type._context),null;case 22:case 23:return qm(),null;case 24:return null;default:return null}}var ud=!1,Rn=!1,mN=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Ua(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Ot(s,o,f)}else c.current=null}function jm(s,o,c){try{c()}catch(f){Ot(s,o,f)}}var Pv=!1;function pN(s,o){if(qf=Gs,s=u0(),Vf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var p=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var b=0,R=-1,V=-1,Z=0,ie=0,ae=s,se=null;t:for(;;){for(var ve;ae!==c||p!==0&&ae.nodeType!==3||(R=b+p),ae!==y||f!==0&&ae.nodeType!==3||(V=b+f),ae.nodeType===3&&(b+=ae.nodeValue.length),(ve=ae.firstChild)!==null;)se=ae,ae=ve;for(;;){if(ae===s)break t;if(se===c&&++Z===p&&(R=b),se===y&&++ie===f&&(V=b),(ve=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=ve}c=R===-1||V===-1?null:{start:R,end:V}}else c=null}c=c||{start:0,end:0}}else c=null;for(Wf={focusedElem:s,selectionRange:c},Gs=!1,Ee=o;Ee!==null;)if(o=Ee,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Ee=s;else for(;Ee!==null;){o=Ee;try{var Ie=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var ke=Ie.memoizedProps,zt=Ie.memoizedState,q=o.stateNode,L=q.getSnapshotBeforeUpdate(o.elementType===o.type?ke:Qr(o.type,ke),zt);q.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){Ot(o,o.return,ue)}if(s=o.sibling,s!==null){s.return=o.return,Ee=s;break}Ee=o.return}return Ie=Pv,Pv=!1,Ie}function uc(s,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var p=f=f.next;do{if((p.tag&s)===s){var y=p.destroy;p.destroy=void 0,y!==void 0&&jm(o,c,y)}p=p.next}while(p!==f)}}function dd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function Dm(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function jv(s){var o=s.alternate;o!==null&&(s.alternate=null,jv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Is],delete o[Jl],delete o[Qf],delete o[YI],delete o[XI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Dv(s){return s.tag===5||s.tag===3||s.tag===4}function Ov(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Dv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Om(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=$u));else if(f!==4&&(s=s.child,s!==null))for(Om(s,o,c),s=s.sibling;s!==null;)Om(s,o,c),s=s.sibling}function Mm(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Mm(s,o,c),s=s.sibling;s!==null;)Mm(s,o,c),s=s.sibling}var wn=null,Yr=!1;function Di(s,o,c){for(c=c.child;c!==null;)Mv(s,o,c),c=c.sibling}function Mv(s,o,c){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(yo,c)}catch{}switch(c.tag){case 5:Rn||Ua(c,o);case 6:var f=wn,p=Yr;wn=null,Di(s,o,c),wn=f,Yr=p,wn!==null&&(Yr?(s=wn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):wn.removeChild(c.stateNode));break;case 18:wn!==null&&(Yr?(s=wn,c=c.stateNode,s.nodeType===8?Zf(s.parentNode,c):s.nodeType===1&&Zf(s,c),Ti(s)):Zf(wn,c.stateNode));break;case 4:f=wn,p=Yr,wn=c.stateNode.containerInfo,Yr=!0,Di(s,o,c),wn=f,Yr=p;break;case 0:case 11:case 14:case 15:if(!Rn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){p=f=f.next;do{var y=p,b=y.destroy;y=y.tag,b!==void 0&&((y&2)!==0||(y&4)!==0)&&jm(c,o,b),p=p.next}while(p!==f)}Di(s,o,c);break;case 1:if(!Rn&&(Ua(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(R){Ot(c,o,R)}Di(s,o,c);break;case 21:Di(s,o,c);break;case 22:c.mode&1?(Rn=(f=Rn)||c.memoizedState!==null,Di(s,o,c),Rn=f):Di(s,o,c);break;default:Di(s,o,c)}}function Vv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new mN),o.forEach(function(f){var p=TN.bind(null,s,f);c.has(f)||(c.add(f),f.then(p,p))})}}function Xr(s,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var p=c[f];try{var y=s,b=o,R=b;e:for(;R!==null;){switch(R.tag){case 5:wn=R.stateNode,Yr=!1;break e;case 3:wn=R.stateNode.containerInfo,Yr=!0;break e;case 4:wn=R.stateNode.containerInfo,Yr=!0;break e}R=R.return}if(wn===null)throw Error(n(160));Mv(y,b,p),wn=null,Yr=!1;var V=p.alternate;V!==null&&(V.return=null),p.return=null}catch(Z){Ot(p,o,Z)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Lv(o,s),o=o.sibling}function Lv(s,o){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Xr(o,s),ks(s),f&4){try{uc(3,s,s.return),dd(3,s)}catch(ke){Ot(s,s.return,ke)}try{uc(5,s,s.return)}catch(ke){Ot(s,s.return,ke)}}break;case 1:Xr(o,s),ks(s),f&512&&c!==null&&Ua(c,c.return);break;case 5:if(Xr(o,s),ks(s),f&512&&c!==null&&Ua(c,c.return),s.flags&32){var p=s.stateNode;try{nn(p,"")}catch(ke){Ot(s,s.return,ke)}}if(f&4&&(p=s.stateNode,p!=null)){var y=s.memoizedProps,b=c!==null?c.memoizedProps:y,R=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{R==="input"&&y.type==="radio"&&y.name!=null&&Br(p,y),hs(R,b);var Z=hs(R,y);for(b=0;b<V.length;b+=2){var ie=V[b],ae=V[b+1];ie==="style"?Tr(p,ae):ie==="dangerouslySetInnerHTML"?Vt(p,ae):ie==="children"?nn(p,ae):Q(p,ie,ae,Z)}switch(R){case"input":Ln(p,y);break;case"textarea":he(p,y);break;case"select":var se=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ve=y.value;ve!=null?H(p,!!y.multiple,ve,!1):se!==!!y.multiple&&(y.defaultValue!=null?H(p,!!y.multiple,y.defaultValue,!0):H(p,!!y.multiple,y.multiple?[]:"",!1))}p[Jl]=y}catch(ke){Ot(s,s.return,ke)}}break;case 6:if(Xr(o,s),ks(s),f&4){if(s.stateNode===null)throw Error(n(162));p=s.stateNode,y=s.memoizedProps;try{p.nodeValue=y}catch(ke){Ot(s,s.return,ke)}}break;case 3:if(Xr(o,s),ks(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Ti(o.containerInfo)}catch(ke){Ot(s,s.return,ke)}break;case 4:Xr(o,s),ks(s);break;case 13:Xr(o,s),ks(s),p=s.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Fm=xt())),f&4&&Vv(s);break;case 22:if(ie=c!==null&&c.memoizedState!==null,s.mode&1?(Rn=(Z=Rn)||ie,Xr(o,s),Rn=Z):Xr(o,s),ks(s),f&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!ie&&(s.mode&1)!==0)for(Ee=s,ie=s.child;ie!==null;){for(ae=Ee=ie;Ee!==null;){switch(se=Ee,ve=se.child,se.tag){case 0:case 11:case 14:case 15:uc(4,se,se.return);break;case 1:Ua(se,se.return);var Ie=se.stateNode;if(typeof Ie.componentWillUnmount=="function"){f=se,c=se.return;try{o=f,Ie.props=o.memoizedProps,Ie.state=o.memoizedState,Ie.componentWillUnmount()}catch(ke){Ot(f,c,ke)}}break;case 5:Ua(se,se.return);break;case 22:if(se.memoizedState!==null){Uv(ae);continue}}ve!==null?(ve.return=se,Ee=ve):Uv(ae)}ie=ie.sibling}e:for(ie=null,ae=s;;){if(ae.tag===5){if(ie===null){ie=ae;try{p=ae.stateNode,Z?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(R=ae.stateNode,V=ae.memoizedProps.style,b=V!=null&&V.hasOwnProperty("display")?V.display:null,R.style.display=qn("display",b))}catch(ke){Ot(s,s.return,ke)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=Z?"":ae.memoizedProps}catch(ke){Ot(s,s.return,ke)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Xr(o,s),ks(s),f&4&&Vv(s);break;case 21:break;default:Xr(o,s),ks(s)}}function ks(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(Dv(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var p=f.stateNode;f.flags&32&&(nn(p,""),f.flags&=-33);var y=Ov(s);Mm(s,y,p);break;case 3:case 4:var b=f.stateNode.containerInfo,R=Ov(s);Om(s,R,b);break;default:throw Error(n(161))}}catch(V){Ot(s,s.return,V)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function gN(s,o,c){Ee=s,Fv(s)}function Fv(s,o,c){for(var f=(s.mode&1)!==0;Ee!==null;){var p=Ee,y=p.child;if(p.tag===22&&f){var b=p.memoizedState!==null||ud;if(!b){var R=p.alternate,V=R!==null&&R.memoizedState!==null||Rn;R=ud;var Z=Rn;if(ud=b,(Rn=V)&&!Z)for(Ee=p;Ee!==null;)b=Ee,V=b.child,b.tag===22&&b.memoizedState!==null?$v(p):V!==null?(V.return=b,Ee=V):$v(p);for(;y!==null;)Ee=y,Fv(y),y=y.sibling;Ee=p,ud=R,Rn=Z}zv(s)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,Ee=y):zv(s)}}function zv(s){for(;Ee!==null;){var o=Ee;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Rn||dd(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Rn)if(c===null)f.componentDidMount();else{var p=o.elementType===o.type?c.memoizedProps:Qr(o.type,c.memoizedProps);f.componentDidUpdate(p,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&U0(o,y,f);break;case 3:var b=o.updateQueue;if(b!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}U0(o,b,c)}break;case 5:var R=o.stateNode;if(c===null&&o.flags&4){c=R;var V=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&c.focus();break;case"img":V.src&&(c.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Z=o.alternate;if(Z!==null){var ie=Z.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&Ti(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Rn||o.flags&512&&Dm(o)}catch(se){Ot(o,o.return,se)}}if(o===s){Ee=null;break}if(c=o.sibling,c!==null){c.return=o.return,Ee=c;break}Ee=o.return}}function Uv(s){for(;Ee!==null;){var o=Ee;if(o===s){Ee=null;break}var c=o.sibling;if(c!==null){c.return=o.return,Ee=c;break}Ee=o.return}}function $v(s){for(;Ee!==null;){var o=Ee;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{dd(4,o)}catch(V){Ot(o,c,V)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var p=o.return;try{f.componentDidMount()}catch(V){Ot(o,p,V)}}var y=o.return;try{Dm(o)}catch(V){Ot(o,y,V)}break;case 5:var b=o.return;try{Dm(o)}catch(V){Ot(o,b,V)}}}catch(V){Ot(o,o.return,V)}if(o===s){Ee=null;break}var R=o.sibling;if(R!==null){R.return=o.return,Ee=R;break}Ee=o.return}}var yN=Math.ceil,hd=ee.ReactCurrentDispatcher,Vm=ee.ReactCurrentOwner,Pr=ee.ReactCurrentBatchConfig,at=0,dn=null,Zt=null,_n=0,vr=0,$a=Ai(0),sn=0,dc=null,jo=0,fd=0,Lm=0,hc=null,Zn=null,Fm=0,Ba=1/0,ri=null,md=!1,zm=null,Oi=null,pd=!1,Mi=null,gd=0,fc=0,Um=null,yd=-1,vd=0;function Bn(){return(at&6)!==0?xt():yd!==-1?yd:yd=xt()}function Vi(s){return(s.mode&1)===0?1:(at&2)!==0&&_n!==0?_n&-_n:eN.transition!==null?(vd===0&&(vd=Dl()),vd):(s=st,s!==0||(s=window.event,s=s===void 0?16:va(s.type)),s)}function Jr(s,o,c,f){if(50<fc)throw fc=0,Um=null,Error(n(185));_o(s,c,f),((at&2)===0||s!==dn)&&(s===dn&&((at&2)===0&&(fd|=c),sn===4&&Li(s,_n)),Qn(s,f),c===1&&at===0&&(o.mode&1)===0&&(Ba=xt()+500,Wu&&Ri()))}function Qn(s,o){var c=s.callbackNode;wo(s,o);var f=Hs(s,s===dn?_n:0);if(f===0)c!==null&&da(c),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(c!=null&&da(c),o===1)s.tag===0?JI(Hv.bind(null,s)):A0(Hv.bind(null,s)),ZI(function(){(at&6)===0&&Ri()}),c=null;else{switch(ps(f)){case 1:c=ha;break;case 4:c=Rl;break;case 16:c=go;break;case 536870912:c=fa;break;default:c=go}c=Xv(c,Bv.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function Bv(s,o){if(yd=-1,vd=0,(at&6)!==0)throw Error(n(327));var c=s.callbackNode;if(Ha()&&s.callbackNode!==c)return null;var f=Hs(s,s===dn?_n:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=xd(s,f);else{o=f;var p=at;at|=2;var y=Wv();(dn!==s||_n!==o)&&(ri=null,Ba=xt()+500,Oo(s,o));do try{wN();break}catch(R){qv(s,R)}while(!0);im(),hd.current=y,at=p,Zt!==null?o=0:(dn=null,_n=0,o=sn)}if(o!==0){if(o===2&&(p=jl(s),p!==0&&(f=p,o=$m(s,p))),o===1)throw c=dc,Oo(s,0),Li(s,f),Qn(s,xt()),c;if(o===6)Li(s,f);else{if(p=s.current.alternate,(f&30)===0&&!vN(p)&&(o=xd(s,f),o===2&&(y=jl(s),y!==0&&(f=y,o=$m(s,y))),o===1))throw c=dc,Oo(s,0),Li(s,f),Qn(s,xt()),c;switch(s.finishedWork=p,s.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:Mo(s,Zn,ri);break;case 3:if(Li(s,f),(f&130023424)===f&&(o=Fm+500-xt(),10<o)){if(Hs(s,0)!==0)break;if(p=s.suspendedLanes,(p&f)!==f){Bn(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=Kf(Mo.bind(null,s,Zn,ri),o);break}Mo(s,Zn,ri);break;case 4:if(Li(s,f),(f&4194240)===f)break;for(o=s.eventTimes,p=-1;0<f;){var b=31-dr(f);y=1<<b,b=o[b],b>p&&(p=b),f&=~y}if(f=p,f=xt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*yN(f/1960))-f,10<f){s.timeoutHandle=Kf(Mo.bind(null,s,Zn,ri),f);break}Mo(s,Zn,ri);break;case 5:Mo(s,Zn,ri);break;default:throw Error(n(329))}}}return Qn(s,xt()),s.callbackNode===c?Bv.bind(null,s):null}function $m(s,o){var c=hc;return s.current.memoizedState.isDehydrated&&(Oo(s,o).flags|=256),s=xd(s,o),s!==2&&(o=Zn,Zn=c,o!==null&&Bm(o)),s}function Bm(s){Zn===null?Zn=s:Zn.push.apply(Zn,s)}function vN(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var p=c[f],y=p.getSnapshot;p=p.value;try{if(!Kr(y(),p))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Li(s,o){for(o&=~Lm,o&=~fd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-dr(o),f=1<<c;s[c]=-1,o&=~f}}function Hv(s){if((at&6)!==0)throw Error(n(327));Ha();var o=Hs(s,0);if((o&1)===0)return Qn(s,xt()),null;var c=xd(s,o);if(s.tag!==0&&c===2){var f=jl(s);f!==0&&(o=f,c=$m(s,f))}if(c===1)throw c=dc,Oo(s,0),Li(s,o),Qn(s,xt()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Mo(s,Zn,ri),Qn(s,xt()),null}function Hm(s,o){var c=at;at|=1;try{return s(o)}finally{at=c,at===0&&(Ba=xt()+500,Wu&&Ri())}}function Do(s){Mi!==null&&Mi.tag===0&&(at&6)===0&&Ha();var o=at;at|=1;var c=Pr.transition,f=st;try{if(Pr.transition=null,st=1,s)return s()}finally{st=f,Pr.transition=c,at=o,(at&6)===0&&Ri()}}function qm(){vr=$a.current,_t($a)}function Oo(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,KI(c)),Zt!==null)for(c=Zt.return;c!==null;){var f=c;switch(em(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Hu();break;case 3:Fa(),_t(Wn),_t(kn),fm();break;case 5:dm(f);break;case 4:Fa();break;case 13:_t(At);break;case 19:_t(At);break;case 10:om(f.type._context);break;case 22:case 23:qm()}c=c.return}if(dn=s,Zt=s=Fi(s.current,null),_n=vr=o,sn=0,dc=null,Lm=fd=jo=0,Zn=hc=null,Co!==null){for(o=0;o<Co.length;o++)if(c=Co[o],f=c.interleaved,f!==null){c.interleaved=null;var p=f.next,y=c.pending;if(y!==null){var b=y.next;y.next=p,f.next=b}c.pending=f}Co=null}return s}function qv(s,o){do{var c=Zt;try{if(im(),nd.current=od,rd){for(var f=Ct.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}rd=!1}if(Po=0,un=rn=Ct=null,ic=!1,oc=0,Vm.current=null,c===null||c.return===null){sn=1,dc=o,Zt=null;break}e:{var y=s,b=c.return,R=c,V=o;if(o=_n,R.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var Z=V,ie=R,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=ie.alternate;se?(ie.updateQueue=se.updateQueue,ie.memoizedState=se.memoizedState,ie.lanes=se.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ve=gv(b);if(ve!==null){ve.flags&=-257,yv(ve,b,R,y,o),ve.mode&1&&pv(y,Z,o),o=ve,V=Z;var Ie=o.updateQueue;if(Ie===null){var ke=new Set;ke.add(V),o.updateQueue=ke}else Ie.add(V);break e}else{if((o&1)===0){pv(y,Z,o),Wm();break e}V=Error(n(426))}}else if(It&&R.mode&1){var zt=gv(b);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),yv(zt,b,R,y,o),rm(za(V,R));break e}}y=V=za(V,R),sn!==4&&(sn=2),hc===null?hc=[y]:hc.push(y),y=b;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var q=fv(y,V,o);z0(y,q);break e;case 1:R=V;var L=y.type,K=y.stateNode;if((y.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Oi===null||!Oi.has(K)))){y.flags|=65536,o&=-o,y.lanes|=o;var ue=mv(y,R,o);z0(y,ue);break e}}y=y.return}while(y!==null)}Kv(c)}catch(Re){o=Re,Zt===c&&c!==null&&(Zt=c=c.return);continue}break}while(!0)}function Wv(){var s=hd.current;return hd.current=od,s===null?od:s}function Wm(){(sn===0||sn===3||sn===2)&&(sn=4),dn===null||(jo&268435455)===0&&(fd&268435455)===0||Li(dn,_n)}function xd(s,o){var c=at;at|=2;var f=Wv();(dn!==s||_n!==o)&&(ri=null,Oo(s,o));do try{xN();break}catch(p){qv(s,p)}while(!0);if(im(),at=c,hd.current=f,Zt!==null)throw Error(n(261));return dn=null,_n=0,sn}function xN(){for(;Zt!==null;)Gv(Zt)}function wN(){for(;Zt!==null&&!po();)Gv(Zt)}function Gv(s){var o=Yv(s.alternate,s,vr);s.memoizedProps=s.pendingProps,o===null?Kv(s):Zt=o,Vm.current=null}function Kv(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=hN(c,o,vr),c!==null){Zt=c;return}}else{if(c=fN(c,o),c!==null){c.flags&=32767,Zt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{sn=6,Zt=null;return}}if(o=o.sibling,o!==null){Zt=o;return}Zt=o=s}while(o!==null);sn===0&&(sn=5)}function Mo(s,o,c){var f=st,p=Pr.transition;try{Pr.transition=null,st=1,_N(s,o,c,f)}finally{Pr.transition=p,st=f}return null}function _N(s,o,c,f){do Ha();while(Mi!==null);if((at&6)!==0)throw Error(n(327));c=s.finishedWork;var p=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var y=c.lanes|c.childLanes;if(Pf(s,y),s===dn&&(Zt=dn=null,_n=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||pd||(pd=!0,Xv(go,function(){return Ha(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=Pr.transition,Pr.transition=null;var b=st;st=1;var R=at;at|=4,Vm.current=null,pN(s,c),Lv(c,s),UI(Wf),Gs=!!qf,Wf=qf=null,s.current=c,gN(c),Bs(),at=R,st=b,Pr.transition=y}else s.current=c;if(pd&&(pd=!1,Mi=s,gd=p),y=s.pendingLanes,y===0&&(Oi=null),Nu(c.stateNode),Qn(s,xt()),o!==null)for(f=s.onRecoverableError,c=0;c<o.length;c++)p=o[c],f(p.value,{componentStack:p.stack,digest:p.digest});if(md)throw md=!1,s=zm,zm=null,s;return(gd&1)!==0&&s.tag!==0&&Ha(),y=s.pendingLanes,(y&1)!==0?s===Um?fc++:(fc=0,Um=s):fc=0,Ri(),null}function Ha(){if(Mi!==null){var s=ps(gd),o=Pr.transition,c=st;try{if(Pr.transition=null,st=16>s?16:s,Mi===null)var f=!1;else{if(s=Mi,Mi=null,gd=0,(at&6)!==0)throw Error(n(331));var p=at;for(at|=4,Ee=s.current;Ee!==null;){var y=Ee,b=y.child;if((Ee.flags&16)!==0){var R=y.deletions;if(R!==null){for(var V=0;V<R.length;V++){var Z=R[V];for(Ee=Z;Ee!==null;){var ie=Ee;switch(ie.tag){case 0:case 11:case 15:uc(8,ie,y)}var ae=ie.child;if(ae!==null)ae.return=ie,Ee=ae;else for(;Ee!==null;){ie=Ee;var se=ie.sibling,ve=ie.return;if(jv(ie),ie===Z){Ee=null;break}if(se!==null){se.return=ve,Ee=se;break}Ee=ve}}}var Ie=y.alternate;if(Ie!==null){var ke=Ie.child;if(ke!==null){Ie.child=null;do{var zt=ke.sibling;ke.sibling=null,ke=zt}while(ke!==null)}}Ee=y}}if((y.subtreeFlags&2064)!==0&&b!==null)b.return=y,Ee=b;else e:for(;Ee!==null;){if(y=Ee,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:uc(9,y,y.return)}var q=y.sibling;if(q!==null){q.return=y.return,Ee=q;break e}Ee=y.return}}var L=s.current;for(Ee=L;Ee!==null;){b=Ee;var K=b.child;if((b.subtreeFlags&2064)!==0&&K!==null)K.return=b,Ee=K;else e:for(b=L;Ee!==null;){if(R=Ee,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:dd(9,R)}}catch(Re){Ot(R,R.return,Re)}if(R===b){Ee=null;break e}var ue=R.sibling;if(ue!==null){ue.return=R.return,Ee=ue;break e}Ee=R.return}}if(at=p,Ri(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(yo,s)}catch{}f=!0}return f}finally{st=c,Pr.transition=o}}return!1}function Zv(s,o,c){o=za(c,o),o=fv(s,o,1),s=ji(s,o,1),o=Bn(),s!==null&&(_o(s,1,o),Qn(s,o))}function Ot(s,o,c){if(s.tag===3)Zv(s,s,c);else for(;o!==null;){if(o.tag===3){Zv(o,s,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Oi===null||!Oi.has(f))){s=za(c,s),s=mv(o,s,1),o=ji(o,s,1),s=Bn(),o!==null&&(_o(o,1,s),Qn(o,s));break}}o=o.return}}function EN(s,o,c){var f=s.pingCache;f!==null&&f.delete(o),o=Bn(),s.pingedLanes|=s.suspendedLanes&c,dn===s&&(_n&c)===c&&(sn===4||sn===3&&(_n&130023424)===_n&&500>xt()-Fm?Oo(s,0):Lm|=c),Qn(s,o)}function Qv(s,o){o===0&&((s.mode&1)===0?o=1:(o=_i,_i<<=1,(_i&130023424)===0&&(_i=4194304)));var c=Bn();s=ei(s,o),s!==null&&(_o(s,o,c),Qn(s,c))}function bN(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Qv(s,c)}function TN(s,o){var c=0;switch(s.tag){case 13:var f=s.stateNode,p=s.memoizedState;p!==null&&(c=p.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),Qv(s,c)}var Yv;Yv=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||Wn.current)Kn=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return Kn=!1,dN(s,o,c);Kn=(s.flags&131072)!==0}else Kn=!1,It&&(o.flags&1048576)!==0&&C0(o,Ku,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;cd(s,o),s=o.pendingProps;var p=Pa(o,kn.current);La(o,c),p=gm(null,o,f,s,p,c);var y=ym();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Gn(f)?(y=!0,qu(o)):y=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,cm(o),p.updater=ad,o.stateNode=p,p._reactInternals=o,bm(o,f,s,c),o=Sm(null,o,f,!0,y,c)):(o.tag=0,It&&y&&Jf(o),$n(null,o,p,c),o=o.child),o;case 16:f=o.elementType;e:{switch(cd(s,o),s=o.pendingProps,p=f._init,f=p(f._payload),o.type=f,p=o.tag=NN(f),s=Qr(f,s),p){case 0:o=Nm(null,o,f,s,c);break e;case 1:o=bv(null,o,f,s,c);break e;case 11:o=vv(null,o,f,s,c);break e;case 14:o=xv(null,o,f,Qr(f.type,s),c);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,p=o.pendingProps,p=o.elementType===f?p:Qr(f,p),Nm(s,o,f,p,c);case 1:return f=o.type,p=o.pendingProps,p=o.elementType===f?p:Qr(f,p),bv(s,o,f,p,c);case 3:e:{if(Tv(o),s===null)throw Error(n(387));f=o.pendingProps,y=o.memoizedState,p=y.element,F0(s,o),ed(o,f,null,c);var b=o.memoizedState;if(f=b.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){p=za(Error(n(423)),o),o=Iv(s,o,f,c,p);break e}else if(f!==p){p=za(Error(n(424)),o),o=Iv(s,o,f,c,p);break e}else for(yr=ki(o.stateNode.containerInfo.firstChild),gr=o,It=!0,Zr=null,c=V0(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Oa(),f===p){o=ni(s,o,c);break e}$n(s,o,f,c)}o=o.child}return o;case 5:return $0(o),s===null&&nm(o),f=o.type,p=o.pendingProps,y=s!==null?s.memoizedProps:null,b=p.children,Gf(f,p)?b=null:y!==null&&Gf(f,y)&&(o.flags|=32),Ev(s,o),$n(s,o,b,c),o.child;case 6:return s===null&&nm(o),null;case 13:return Nv(s,o,c);case 4:return um(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=Ma(o,null,f,c):$n(s,o,f,c),o.child;case 11:return f=o.type,p=o.pendingProps,p=o.elementType===f?p:Qr(f,p),vv(s,o,f,p,c);case 7:return $n(s,o,o.pendingProps,c),o.child;case 8:return $n(s,o,o.pendingProps.children,c),o.child;case 12:return $n(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,p=o.pendingProps,y=o.memoizedProps,b=p.value,pt(Yu,f._currentValue),f._currentValue=b,y!==null)if(Kr(y.value,b)){if(y.children===p.children&&!Wn.current){o=ni(s,o,c);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var R=y.dependencies;if(R!==null){b=y.child;for(var V=R.firstContext;V!==null;){if(V.context===f){if(y.tag===1){V=ti(-1,c&-c),V.tag=2;var Z=y.updateQueue;if(Z!==null){Z=Z.shared;var ie=Z.pending;ie===null?V.next=V:(V.next=ie.next,ie.next=V),Z.pending=V}}y.lanes|=c,V=y.alternate,V!==null&&(V.lanes|=c),am(y.return,c,o),R.lanes|=c;break}V=V.next}}else if(y.tag===10)b=y.type===o.type?null:y.child;else if(y.tag===18){if(b=y.return,b===null)throw Error(n(341));b.lanes|=c,R=b.alternate,R!==null&&(R.lanes|=c),am(b,c,o),b=y.sibling}else b=y.child;if(b!==null)b.return=y;else for(b=y;b!==null;){if(b===o){b=null;break}if(y=b.sibling,y!==null){y.return=b.return,b=y;break}b=b.return}y=b}$n(s,o,p.children,c),o=o.child}return o;case 9:return p=o.type,f=o.pendingProps.children,La(o,c),p=Cr(p),f=f(p),o.flags|=1,$n(s,o,f,c),o.child;case 14:return f=o.type,p=Qr(f,o.pendingProps),p=Qr(f.type,p),xv(s,o,f,p,c);case 15:return wv(s,o,o.type,o.pendingProps,c);case 17:return f=o.type,p=o.pendingProps,p=o.elementType===f?p:Qr(f,p),cd(s,o),o.tag=1,Gn(f)?(s=!0,qu(o)):s=!1,La(o,c),dv(o,f,p),bm(o,f,p,c),Sm(null,o,f,!0,s,c);case 19:return kv(s,o,c);case 22:return _v(s,o,c)}throw Error(n(156,o.tag))};function Xv(s,o){return Cl(s,o)}function IN(s,o,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(s,o,c,f){return new IN(s,o,c,f)}function Gm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function NN(s){if(typeof s=="function")return Gm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===S)return 11;if(s===Be)return 14}return 2}function Fi(s,o){var c=s.alternate;return c===null?(c=jr(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function wd(s,o,c,f,p,y){var b=2;if(f=s,typeof s=="function")Gm(s)&&(b=1);else if(typeof s=="string")b=5;else e:switch(s){case k:return Vo(c.children,p,y,o);case I:b=8,p|=8;break;case A:return s=jr(12,c,o,p|2),s.elementType=A,s.lanes=y,s;case N:return s=jr(13,c,o,p),s.elementType=N,s.lanes=y,s;case Ae:return s=jr(19,c,o,p),s.elementType=Ae,s.lanes=y,s;case je:return _d(c,p,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:b=10;break e;case j:b=9;break e;case S:b=11;break e;case Be:b=14;break e;case Te:b=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=jr(b,c,o,p),o.elementType=s,o.type=f,o.lanes=y,o}function Vo(s,o,c,f){return s=jr(7,s,f,o),s.lanes=c,s}function _d(s,o,c,f){return s=jr(22,s,f,o),s.elementType=je,s.lanes=c,s.stateNode={isHidden:!1},s}function Km(s,o,c){return s=jr(6,s,null,o),s.lanes=c,s}function Zm(s,o,c){return o=jr(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function SN(s,o,c,f,p){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ol(0),this.expirationTimes=Ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.identifierPrefix=f,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Qm(s,o,c,f,p,y,b,R,V){return s=new SN(s,o,c,R,V),o===1?(o=1,y===!0&&(o|=8)):o=0,y=jr(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},cm(y),s}function kN(s,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:f==null?null:""+f,children:s,containerInfo:o,implementation:c}}function Jv(s){if(!s)return Ci;s=s._reactInternals;e:{if(Wr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Gn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(Gn(c))return S0(s,c,o)}return o}function ex(s,o,c,f,p,y,b,R,V){return s=Qm(c,f,!0,s,p,y,b,R,V),s.context=Jv(null),c=s.current,f=Bn(),p=Vi(c),y=ti(f,p),y.callback=o??null,ji(c,y,p),s.current.lanes=p,_o(s,p,f),Qn(s,f),s}function Ed(s,o,c,f){var p=o.current,y=Bn(),b=Vi(p);return c=Jv(c),o.context===null?o.context=c:o.pendingContext=c,o=ti(y,b),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ji(p,o,b),s!==null&&(Jr(s,p,b,y),Ju(s,p,b)),b}function bd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function tx(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Ym(s,o){tx(s,o),(s=s.alternate)&&tx(s,o)}function AN(){return null}var nx=typeof reportError=="function"?reportError:function(s){console.error(s)};function Xm(s){this._internalRoot=s}Td.prototype.render=Xm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Ed(s,o,null,null)},Td.prototype.unmount=Xm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Do(function(){Ed(null,s,null,null)}),o[Qs]=null}};function Td(s){this._internalRoot=s}Td.prototype.unstable_scheduleHydration=function(s){if(s){var o=Fl();s={blockedOn:null,target:s,priority:o};for(var c=0;c<hr.length&&o!==0&&o<hr[c].priority;c++);hr.splice(c,0,s),c===0&&ga(s)}};function Jm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Id(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function rx(){}function CN(s,o,c,f,p){if(p){if(typeof f=="function"){var y=f;f=function(){var Z=bd(b);y.call(Z)}}var b=ex(o,f,s,0,null,!1,!1,"",rx);return s._reactRootContainer=b,s[Qs]=b.current,Yl(s.nodeType===8?s.parentNode:s),Do(),b}for(;p=s.lastChild;)s.removeChild(p);if(typeof f=="function"){var R=f;f=function(){var Z=bd(V);R.call(Z)}}var V=Qm(s,0,!1,null,null,!1,!1,"",rx);return s._reactRootContainer=V,s[Qs]=V.current,Yl(s.nodeType===8?s.parentNode:s),Do(function(){Ed(o,V,c,f)}),V}function Nd(s,o,c,f,p){var y=c._reactRootContainer;if(y){var b=y;if(typeof p=="function"){var R=p;p=function(){var V=bd(b);R.call(V)}}Ed(o,b,s,p)}else b=CN(c,o,s,p,f);return bd(b)}Vl=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=ct(o.pendingLanes);c!==0&&(Ml(o,c|1),Qn(o,xt()),(at&6)===0&&(Ba=xt()+500,Ri()))}break;case 13:Do(function(){var f=ei(s,1);if(f!==null){var p=Bn();Jr(f,s,1,p)}}),Ym(s,1)}},ma=function(s){if(s.tag===13){var o=ei(s,134217728);if(o!==null){var c=Bn();Jr(o,s,134217728,c)}Ym(s,134217728)}},Ll=function(s){if(s.tag===13){var o=Vi(s),c=ei(s,o);if(c!==null){var f=Bn();Jr(c,s,o,f)}Ym(s,o)}},Fl=function(){return st},zl=function(s,o){var c=st;try{return st=s,o()}finally{st=c}},Hr=function(s,o,c){switch(o){case"input":if(Ln(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==s&&f.form===s.form){var p=Bu(f);if(!p)throw Error(n(90));Vn(f),Ln(f,p)}}}break;case"textarea":he(s,c);break;case"select":o=c.value,o!=null&&H(s,!!c.multiple,o,!1)}},Lt=Hm,ln=Do;var RN={usingClientEntryPoint:!1,Events:[ec,Ca,Bu,Fe,ht,Hm]},mc={findFiberByHostInstance:No,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PN={bundleType:mc.bundleType,version:mc.version,rendererPackageName:mc.rendererPackageName,rendererConfig:mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Iu(s),s===null?null:s.stateNode},findFiberByHostInstance:mc.findFiberByHostInstance||AN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{yo=Sd.inject(PN),ur=Sd}catch{}}return Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RN,Yn.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jm(o))throw Error(n(200));return kN(s,o,null,c)},Yn.createRoot=function(s,o){if(!Jm(s))throw Error(n(299));var c=!1,f="",p=nx;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=Qm(s,1,!1,null,null,c,!1,f,p),s[Qs]=o.current,Yl(s.nodeType===8?s.parentNode:s),new Xm(o)},Yn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Iu(o),s=s===null?null:s.stateNode,s},Yn.flushSync=function(s){return Do(s)},Yn.hydrate=function(s,o,c){if(!Id(o))throw Error(n(200));return Nd(null,s,o,!0,c)},Yn.hydrateRoot=function(s,o,c){if(!Jm(s))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,p=!1,y="",b=nx;if(c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),o=ex(o,null,s,1,c??null,p,!1,y,b),s[Qs]=o.current,Yl(s),f)for(s=0;s<f.length;s++)c=f[s],p=c._getVersion,p=p(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,p]:o.mutableSourceEagerHydrationData.push(c,p);return new Td(o)},Yn.render=function(s,o,c){if(!Id(o))throw Error(n(200));return Nd(null,s,o,!1,c)},Yn.unmountComponentAtNode=function(s){if(!Id(s))throw Error(n(40));return s._reactRootContainer?(Do(function(){Nd(null,null,s,!1,function(){s._reactRootContainer=null,s[Qs]=null})}),!0):!1},Yn.unstable_batchedUpdates=Hm,Yn.unstable_renderSubtreeIntoContainer=function(s,o,c,f){if(!Id(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Nd(s,o,c,!1,f)},Yn.version="18.3.1-next-f1338f8080-20240426",Yn}var dx;function o1(){if(dx)return np.exports;dx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),np.exports=FN(),np.exports}var hx;function zN(){if(hx)return kd;hx=1;var t=o1();return kd.createRoot=t.createRoot,kd.hydrateRoot=t.hydrateRoot,kd}var UN=zN(),z=$h();const le=i1(z);var ip={exports:{}},op={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function $N(){if(fx)return op;fx=1;var t=$h();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,h=t.useDebugValue;return op.useSyncExternalStoreWithSelector=function(m,g,w,x,E){var C=i(null);if(C.current===null){var O={hasValue:!1,value:null};C.current=O}else O=C.current;C=l(function(){function M(B){if(!G){if(G=!0,$=B,B=x(B),E!==void 0&&O.hasValue){var de=O.value;if(E(de,B))return Q=de}return Q=B}if(de=Q,n($,B))return de;var k=x(B);return E!==void 0&&E(de,k)?($=B,de):($=B,Q=k)}var G=!1,$,Q,ee=w===void 0?null:w;return[function(){return M(g())},ee===null?void 0:function(){return M(ee())}]},[g,w,x,E]);var U=r(m,C[0],C[1]);return a(function(){O.hasValue=!0,O.value=U},[U]),h(U),U},op}var mx;function BN(){return mx||(mx=1,ip.exports=$N()),ip.exports}var HN=BN();function qN(t){t()}function WN(){let t=null,e=null;return{clear(){t=null,e=null},notify(){qN(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var px={notify(){},get:()=>[]};function GN(t,e){let n,r=px,i=0,a=!1;function l(U){w();const M=r.subscribe(U);let G=!1;return()=>{G||(G=!0,M(),x())}}function h(){r.notify()}function m(){O.onStateChange&&O.onStateChange()}function g(){return a}function w(){i++,n||(n=t.subscribe(m),r=WN())}function x(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=px)}function E(){a||(a=!0,w())}function C(){a&&(a=!1,x())}const O={addNestedSub:l,notifyNestedSubs:h,handleChangeWrapper:m,isSubscribed:g,trySubscribe:E,tryUnsubscribe:C,getListeners:()=>r};return O}var KN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZN=KN(),QN=()=>typeof navigator<"u"&&navigator.product==="ReactNative",YN=QN(),XN=()=>ZN||YN?z.useLayoutEffect:z.useEffect,JN=XN(),eS=Symbol.for("react-redux-context"),tS=typeof globalThis<"u"?globalThis:{};function nS(){if(!z.createContext)return{};const t=tS[eS]??=new Map;let e=t.get(z.createContext);return e||(e=z.createContext(null),t.set(z.createContext,e)),e}var Ji=nS();function rS(t){const{children:e,context:n,serverState:r,store:i}=t,a=z.useMemo(()=>{const m=GN(i);return{store:i,subscription:m,getServerState:r?()=>r:void 0}},[i,r]),l=z.useMemo(()=>i.getState(),[i]);JN(()=>{const{subscription:m}=a;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),l!==i.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[a,l]);const h=n||Ji;return z.createElement(h.Provider,{value:a},e)}var sS=rS;function Ng(t=Ji){return function(){return z.useContext(t)}}var a1=Ng();function l1(t=Ji){const e=t===Ji?a1:Ng(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var iS=l1();function oS(t=Ji){const e=t===Ji?iS:l1(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var aS=oS(),lS=(t,e)=>t===e;function cS(t=Ji){const e=t===Ji?a1:Ng(t),n=(r,i={})=>{const{equalityFn:a=lS}=typeof i=="function"?{equalityFn:i}:i,l=e(),{store:h,subscription:m,getServerState:g}=l;z.useRef(!0);const w=z.useCallback({[r.name](E){return r(E)}}[r.name],[r]),x=HN.useSyncExternalStoreWithSelector(m.addNestedSub,h.getState,g||h.getState,w,a);return z.useDebugValue(x),x};return Object.assign(n,{withTypes:()=>n}),n}var uS=cS(),dS=o1();const hS=i1(dS);function fS(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const mS=t=>{switch(t){case"success":return yS;case"info":return xS;case"warning":return vS;case"error":return wS;default:return null}},pS=Array(12).fill(0),gS=({visible:t,className:e})=>le.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},le.createElement("div",{className:"sonner-spinner"},pS.map((n,r)=>le.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),yS=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vS=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xS=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),wS=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},le.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_S=le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},le.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),le.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ES=()=>{const[t,e]=le.useState(document.hidden);return le.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Rp=1;class bS{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Rp++,l=this.toasts.find(m=>m.id===a),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(m=>m.id===a?(this.publish({...m,...e,id:a,title:r}),{...m,...e,id:a,dismissible:h,title:r}):m):this.addToast({title:r,...i,dismissible:h,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,l;const h=i.then(async g=>{if(l=["resolve",g],le.isValidElement(g))a=!1,this.create({id:r,type:"default",message:g});else if(IS(g)&&!g.ok){a=!1;const x=typeof n.error=="function"?await n.error(`HTTP error! status: ${g.status}`):n.error,E=typeof n.description=="function"?await n.description(`HTTP error! status: ${g.status}`):n.description,O=typeof x=="object"&&!le.isValidElement(x)?x:{message:x};this.create({id:r,type:"error",description:E,...O})}else if(g instanceof Error){a=!1;const x=typeof n.error=="function"?await n.error(g):n.error,E=typeof n.description=="function"?await n.description(g):n.description,O=typeof x=="object"&&!le.isValidElement(x)?x:{message:x};this.create({id:r,type:"error",description:E,...O})}else if(n.success!==void 0){a=!1;const x=typeof n.success=="function"?await n.success(g):n.success,E=typeof n.description=="function"?await n.description(g):n.description,O=typeof x=="object"&&!le.isValidElement(x)?x:{message:x};this.create({id:r,type:"success",description:E,...O})}}).catch(async g=>{if(l=["reject",g],n.error!==void 0){a=!1;const w=typeof n.error=="function"?await n.error(g):n.error,x=typeof n.description=="function"?await n.description(g):n.description,C=typeof w=="object"&&!le.isValidElement(w)?w:{message:w};this.create({id:r,type:"error",description:x,...C})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),m=()=>new Promise((g,w)=>h.then(()=>l[0]==="reject"?w(l[1]):g(l[1])).catch(w));return typeof r!="string"&&typeof r!="number"?{unwrap:m}:Object.assign(r,{unwrap:m})},this.custom=(e,n)=>{const r=n?.id||Rp++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Jn=new bS,TS=(t,e)=>{const n=e?.id||Rp++;return Jn.addToast({title:t,...e,id:n}),n},IS=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",NS=TS,SS=()=>Jn.toasts,kS=()=>Jn.getActiveToasts(),Rt=Object.assign(NS,{success:Jn.success,info:Jn.info,warning:Jn.warning,error:Jn.error,custom:Jn.custom,message:Jn.message,promise:Jn.promise,dismiss:Jn.dismiss,loading:Jn.loading},{getHistory:SS,getToasts:kS});fS("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ad(t){return t.label!==void 0}const AS=3,CS="24px",RS="16px",gx=4e3,PS=356,jS=14,DS=45,OS=200;function As(...t){return t.filter(Boolean).join(" ")}function MS(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const VS=t=>{var e,n,r,i,a,l,h,m,g;const{invert:w,toast:x,unstyled:E,interacting:C,setHeights:O,visibleToasts:U,heights:M,index:G,toasts:$,expanded:Q,removeToast:ee,defaultRichColors:B,closeButton:de,style:k,cancelButtonStyle:I,actionButtonStyle:A,className:D="",descriptionClassName:j="",duration:S,position:N,gap:Ae,expandByDefault:Be,classNames:Te,icons:je,closeButtonAriaLabel:ce="Close toast"}=t,[xe,fe]=le.useState(null),[F,te]=le.useState(null),[ge,_e]=le.useState(!1),[Se,Ve]=le.useState(!1),[Ze,Ce]=le.useState(!1),[Qe,Tt]=le.useState(!1),[or,Vn]=le.useState(!1),[br,ar]=le.useState(0),[Us,Br]=le.useState(0),Ln=le.useRef(x.duration||S||gx),$s=le.useRef(null),ot=le.useRef(null),P=G===0,H=G+1<=U,Y=x.type,pe=x.dismissible!==!1,he=x.className||"",oe=x.descriptionClassName||"",be=le.useMemo(()=>M.findIndex(Fe=>Fe.toastId===x.id)||0,[M,x.id]),Ye=le.useMemo(()=>{var Fe;return(Fe=x.closeButton)!=null?Fe:de},[x.closeButton,de]),Xe=le.useMemo(()=>x.duration||S||gx,[x.duration,S]),Vt=le.useRef(0),nn=le.useRef(0),qt=le.useRef(0),lr=le.useRef(null),[qn,Tr]=N.split("-"),ds=le.useMemo(()=>M.reduce((Fe,ht,Lt)=>Lt>=be?Fe:Fe+ht.height,0),[M,be]),yn=ES(),hs=x.invert||w,Fn=Y==="loading";nn.current=le.useMemo(()=>be*Ae+ds,[be,ds]),le.useEffect(()=>{Ln.current=Xe},[Xe]),le.useEffect(()=>{_e(!0)},[]),le.useEffect(()=>{const Fe=ot.current;if(Fe){const ht=Fe.getBoundingClientRect().height;return Br(ht),O(Lt=>[{toastId:x.id,height:ht,position:x.position},...Lt]),()=>O(Lt=>Lt.filter(ln=>ln.toastId!==x.id))}},[O,x.id]),le.useLayoutEffect(()=>{if(!ge)return;const Fe=ot.current,ht=Fe.style.height;Fe.style.height="auto";const Lt=Fe.getBoundingClientRect().height;Fe.style.height=ht,Br(Lt),O(ln=>ln.find(Dt=>Dt.toastId===x.id)?ln.map(Dt=>Dt.toastId===x.id?{...Dt,height:Lt}:Dt):[{toastId:x.id,height:Lt,position:x.position},...ln])},[ge,x.title,x.description,O,x.id,x.jsx,x.action,x.cancel]);const zn=le.useCallback(()=>{Ve(!0),ar(nn.current),O(Fe=>Fe.filter(ht=>ht.toastId!==x.id)),setTimeout(()=>{ee(x)},OS)},[x,ee,O,nn]);le.useEffect(()=>{if(x.promise&&Y==="loading"||x.duration===1/0||x.type==="loading")return;let Fe;return Q||C||yn?(()=>{if(qt.current<Vt.current){const ln=new Date().getTime()-Vt.current;Ln.current=Ln.current-ln}qt.current=new Date().getTime()})():(()=>{Ln.current!==1/0&&(Vt.current=new Date().getTime(),Fe=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),zn()},Ln.current))})(),()=>clearTimeout(Fe)},[Q,C,x,Y,yn,zn]),le.useEffect(()=>{x.delete&&(zn(),x.onDismiss==null||x.onDismiss.call(x,x))},[zn,x.delete]);function Hr(){var Fe;if(je?.loading){var ht;return le.createElement("div",{className:As(Te?.loader,x==null||(ht=x.classNames)==null?void 0:ht.loader,"sonner-loader"),"data-visible":Y==="loading"},je.loading)}return le.createElement(gS,{className:As(Te?.loader,x==null||(Fe=x.classNames)==null?void 0:Fe.loader),visible:Y==="loading"})}const qr=x.icon||je?.[Y]||mS(Y);var vt,wi;return le.createElement("li",{tabIndex:0,ref:ot,className:As(D,he,Te?.toast,x==null||(e=x.classNames)==null?void 0:e.toast,Te?.default,Te?.[Y],x==null||(n=x.classNames)==null?void 0:n[Y]),"data-sonner-toast":"","data-rich-colors":(vt=x.richColors)!=null?vt:B,"data-styled":!(x.jsx||x.unstyled||E),"data-mounted":ge,"data-promise":!!x.promise,"data-swiped":or,"data-removed":Se,"data-visible":H,"data-y-position":qn,"data-x-position":Tr,"data-index":G,"data-front":P,"data-swiping":Ze,"data-dismissible":pe,"data-type":Y,"data-invert":hs,"data-swipe-out":Qe,"data-swipe-direction":F,"data-expanded":!!(Q||Be&&ge),"data-testid":x.testId,style:{"--index":G,"--toasts-before":G,"--z-index":$.length-G,"--offset":`${Se?br:nn.current}px`,"--initial-height":Be?"auto":`${Us}px`,...k,...x.style},onDragEnd:()=>{Ce(!1),fe(null),lr.current=null},onPointerDown:Fe=>{Fe.button!==2&&(Fn||!pe||($s.current=new Date,ar(nn.current),Fe.target.setPointerCapture(Fe.pointerId),Fe.target.tagName!=="BUTTON"&&(Ce(!0),lr.current={x:Fe.clientX,y:Fe.clientY})))},onPointerUp:()=>{var Fe,ht,Lt;if(Qe||!pe)return;lr.current=null;const ln=Number(((Fe=ot.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Un=Number(((ht=ot.current)==null?void 0:ht.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Dt=new Date().getTime()-((Lt=$s.current)==null?void 0:Lt.getTime()),Wt=xe==="x"?ln:Un,cr=Math.abs(Wt)/Dt;if(Math.abs(Wt)>=DS||cr>.11){ar(nn.current),x.onDismiss==null||x.onDismiss.call(x,x),te(xe==="x"?ln>0?"right":"left":Un>0?"down":"up"),zn(),Tt(!0);return}else{var Gt,Nn;(Gt=ot.current)==null||Gt.style.setProperty("--swipe-amount-x","0px"),(Nn=ot.current)==null||Nn.style.setProperty("--swipe-amount-y","0px")}Vn(!1),Ce(!1),fe(null)},onPointerMove:Fe=>{var ht,Lt,ln;if(!lr.current||!pe||((ht=window.getSelection())==null?void 0:ht.toString().length)>0)return;const Dt=Fe.clientY-lr.current.y,Wt=Fe.clientX-lr.current.x;var cr;const Gt=(cr=t.swipeDirections)!=null?cr:MS(N);!xe&&(Math.abs(Wt)>1||Math.abs(Dt)>1)&&fe(Math.abs(Wt)>Math.abs(Dt)?"x":"y");let Nn={x:0,y:0};const Ir=cn=>1/(1.5+Math.abs(cn)/20);if(xe==="y"){if(Gt.includes("top")||Gt.includes("bottom"))if(Gt.includes("top")&&Dt<0||Gt.includes("bottom")&&Dt>0)Nn.y=Dt;else{const cn=Dt*Ir(Dt);Nn.y=Math.abs(cn)<Math.abs(Dt)?cn:Dt}}else if(xe==="x"&&(Gt.includes("left")||Gt.includes("right")))if(Gt.includes("left")&&Wt<0||Gt.includes("right")&&Wt>0)Nn.x=Wt;else{const cn=Wt*Ir(Wt);Nn.x=Math.abs(cn)<Math.abs(Wt)?cn:Wt}(Math.abs(Nn.x)>0||Math.abs(Nn.y)>0)&&Vn(!0),(Lt=ot.current)==null||Lt.style.setProperty("--swipe-amount-x",`${Nn.x}px`),(ln=ot.current)==null||ln.style.setProperty("--swipe-amount-y",`${Nn.y}px`)}},Ye&&!x.jsx&&Y!=="loading"?le.createElement("button",{"aria-label":ce,"data-disabled":Fn,"data-close-button":!0,onClick:Fn||!pe?()=>{}:()=>{zn(),x.onDismiss==null||x.onDismiss.call(x,x)},className:As(Te?.closeButton,x==null||(r=x.classNames)==null?void 0:r.closeButton)},(wi=je?.close)!=null?wi:_S):null,(Y||x.icon||x.promise)&&x.icon!==null&&(je?.[Y]!==null||x.icon)?le.createElement("div",{"data-icon":"",className:As(Te?.icon,x==null||(i=x.classNames)==null?void 0:i.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Hr():null,x.type!=="loading"?qr:null):null,le.createElement("div",{"data-content":"",className:As(Te?.content,x==null||(a=x.classNames)==null?void 0:a.content)},le.createElement("div",{"data-title":"",className:As(Te?.title,x==null||(l=x.classNames)==null?void 0:l.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?le.createElement("div",{"data-description":"",className:As(j,oe,Te?.description,x==null||(h=x.classNames)==null?void 0:h.description)},typeof x.description=="function"?x.description():x.description):null),le.isValidElement(x.cancel)?x.cancel:x.cancel&&Ad(x.cancel)?le.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||I,onClick:Fe=>{Ad(x.cancel)&&pe&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,Fe),zn())},className:As(Te?.cancelButton,x==null||(m=x.classNames)==null?void 0:m.cancelButton)},x.cancel.label):null,le.isValidElement(x.action)?x.action:x.action&&Ad(x.action)?le.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||A,onClick:Fe=>{Ad(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,Fe),!Fe.defaultPrevented&&zn())},className:As(Te?.actionButton,x==null||(g=x.classNames)==null?void 0:g.actionButton)},x.action.label):null)};function yx(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function LS(t,e){const n={};return[t,e].forEach((r,i)=>{const a=i===1,l=a?"--mobile-offset":"--offset",h=a?RS:CS;function m(g){["top","right","bottom","left"].forEach(w=>{n[`${l}-${w}`]=typeof g=="number"?`${g}px`:g})}typeof r=="number"||typeof r=="string"?m(r):typeof r=="object"?["top","right","bottom","left"].forEach(g=>{r[g]===void 0?n[`${l}-${g}`]=h:n[`${l}-${g}`]=typeof r[g]=="number"?`${r[g]}px`:r[g]}):m(h)}),n}const FS=le.forwardRef(function(e,n){const{id:r,invert:i,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:h,closeButton:m,className:g,offset:w,mobileOffset:x,theme:E="light",richColors:C,duration:O,style:U,visibleToasts:M=AS,toastOptions:G,dir:$=yx(),gap:Q=jS,icons:ee,containerAriaLabel:B="Notifications"}=e,[de,k]=le.useState([]),I=le.useMemo(()=>r?de.filter(ge=>ge.toasterId===r):de.filter(ge=>!ge.toasterId),[de,r]),A=le.useMemo(()=>Array.from(new Set([a].concat(I.filter(ge=>ge.position).map(ge=>ge.position)))),[I,a]),[D,j]=le.useState([]),[S,N]=le.useState(!1),[Ae,Be]=le.useState(!1),[Te,je]=le.useState(E!=="system"?E:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ce=le.useRef(null),xe=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),fe=le.useRef(null),F=le.useRef(!1),te=le.useCallback(ge=>{k(_e=>{var Se;return(Se=_e.find(Ve=>Ve.id===ge.id))!=null&&Se.delete||Jn.dismiss(ge.id),_e.filter(({id:Ve})=>Ve!==ge.id)})},[]);return le.useEffect(()=>Jn.subscribe(ge=>{if(ge.dismiss){requestAnimationFrame(()=>{k(_e=>_e.map(Se=>Se.id===ge.id?{...Se,delete:!0}:Se))});return}setTimeout(()=>{hS.flushSync(()=>{k(_e=>{const Se=_e.findIndex(Ve=>Ve.id===ge.id);return Se!==-1?[..._e.slice(0,Se),{..._e[Se],...ge},..._e.slice(Se+1)]:[ge,..._e]})})})}),[de]),le.useEffect(()=>{if(E!=="system"){je(E);return}if(E==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?je("dark"):je("light")),typeof window>"u")return;const ge=window.matchMedia("(prefers-color-scheme: dark)");try{ge.addEventListener("change",({matches:_e})=>{je(_e?"dark":"light")})}catch{ge.addListener(({matches:Se})=>{try{je(Se?"dark":"light")}catch(Ve){console.error(Ve)}})}},[E]),le.useEffect(()=>{de.length<=1&&N(!1)},[de]),le.useEffect(()=>{const ge=_e=>{var Se;if(l.every(Ce=>_e[Ce]||_e.code===Ce)){var Ze;N(!0),(Ze=ce.current)==null||Ze.focus()}_e.code==="Escape"&&(document.activeElement===ce.current||(Se=ce.current)!=null&&Se.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",ge),()=>document.removeEventListener("keydown",ge)},[l]),le.useEffect(()=>{if(ce.current)return()=>{fe.current&&(fe.current.focus({preventScroll:!0}),fe.current=null,F.current=!1)}},[ce.current]),le.createElement("section",{ref:n,"aria-label":`${B} ${xe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((ge,_e)=>{var Se;const[Ve,Ze]=ge.split("-");return I.length?le.createElement("ol",{key:ge,dir:$==="auto"?yx():$,tabIndex:-1,ref:ce,className:g,"data-sonner-toaster":!0,"data-sonner-theme":Te,"data-y-position":Ve,"data-x-position":Ze,style:{"--front-toast-height":`${((Se=D[0])==null?void 0:Se.height)||0}px`,"--width":`${PS}px`,"--gap":`${Q}px`,...U,...LS(w,x)},onBlur:Ce=>{F.current&&!Ce.currentTarget.contains(Ce.relatedTarget)&&(F.current=!1,fe.current&&(fe.current.focus({preventScroll:!0}),fe.current=null))},onFocus:Ce=>{Ce.target instanceof HTMLElement&&Ce.target.dataset.dismissible==="false"||F.current||(F.current=!0,fe.current=Ce.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{Ae||N(!1)},onDragEnd:()=>N(!1),onPointerDown:Ce=>{Ce.target instanceof HTMLElement&&Ce.target.dataset.dismissible==="false"||Be(!0)},onPointerUp:()=>Be(!1)},I.filter(Ce=>!Ce.position&&_e===0||Ce.position===ge).map((Ce,Qe)=>{var Tt,or;return le.createElement(VS,{key:Ce.id,icons:ee,index:Qe,toast:Ce,defaultRichColors:C,duration:(Tt=G?.duration)!=null?Tt:O,className:G?.className,descriptionClassName:G?.descriptionClassName,invert:i,visibleToasts:M,closeButton:(or=G?.closeButton)!=null?or:m,interacting:Ae,position:ge,style:G?.style,unstyled:G?.unstyled,classNames:G?.classNames,cancelButtonStyle:G?.cancelButtonStyle,actionButtonStyle:G?.actionButtonStyle,closeButtonAriaLabel:G?.closeButtonAriaLabel,removeToast:te,toasts:I.filter(Vn=>Vn.position==Ce.position),heights:D.filter(Vn=>Vn.position==Ce.position),setHeights:j,expandByDefault:h,gap:Q,expanded:S,swipeDirections:e.swipeDirections})})):null}))}),zS=()=>{};var vx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},US=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],h=t[n++],m=((i&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},u1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,h=l?t[i+1]:0,m=i+2<t.length,g=m?t[i+2]:0,w=a>>2,x=(a&3)<<4|h>>4;let E=(h&15)<<2|g>>6,C=g&63;m||(C=64,l||(E=64)),r.push(n[w],n[x],n[E],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):US(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const g=i<t.length?n[t.charAt(i)]:64;++i;const x=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||h==null||g==null||x==null)throw new $S;const E=a<<2|h>>4;if(r.push(E),g!==64){const C=h<<4&240|g>>2;if(r.push(C),x!==64){const O=g<<6&192|x;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BS=function(t){const e=c1(t);return u1.encodeByteArray(e,!0)},ah=function(t){return BS(t).replace(/\./g,"")},d1=function(t){try{return u1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=()=>HS().__FIREBASE_DEFAULTS__,WS=()=>{if(typeof process>"u"||typeof vx>"u")return;const t=vx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&d1(t[1]);return e&&JSON.parse(e)},Bh=()=>{try{return zS()||qS()||WS()||GS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},h1=t=>Bh()?.emulatorHosts?.[t],KS=t=>{const e=h1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},f1=()=>Bh()?.config,m1=t=>Bh()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function p1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ah(JSON.stringify(n)),ah(JSON.stringify(l)),""].join(".")}const Cc={};function YS(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cc))Cc[e]?t.emulator.push(e):t.prod.push(e);return t}function XS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xx=!1;function g1(t,e){if(typeof window>"u"||typeof document>"u"||!gl(window.location.host)||Cc[t]===e||Cc[t]||xx)return;Cc[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=YS().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{xx=!0,l()},E}function w(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function x(){const E=XS(r),C=n("text"),O=document.getElementById(C)||document.createElement("span"),U=n("learnmore"),M=document.getElementById(U)||document.createElement("a"),G=n("preprendIcon"),$=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Q=E.element;h(Q),w(M,U);const ee=g();m($,G),Q.append($,O,M,ee),document.body.appendChild(Q)}a?(O.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function ek(){const t=Bh()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rk(){const t=Mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sk(){return!ek()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v1(){try{return typeof indexedDB=="object"}catch{return!1}}function x1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function ik(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="FirebaseError";class ls extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ok,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ta.prototype.create)}}class ta{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?ak(a,r):"Error",h=`${this.serviceName}: ${l} (${i}).`;return new ls(i,h,r)}}function ak(t,e){return t.replace(lk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const lk=/\{\$([^}]+)}/g;function ck(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function eo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(wx(a)&&wx(l)){if(!eo(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function _c(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uk(t,e){const n=new dk(t,e);return n.subscribe.bind(n)}class dk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ap),i.error===void 0&&(i.error=ap),i.complete===void 0&&(i.complete=ap);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ap(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=1e3,mk=2,pk=14400*1e3,gk=.5;function _x(t,e=fk,n=mk){const r=e*Math.pow(n,t),i=Math.round(gk*r*(Math.random()-.5)*2);return Math.min(pk,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class ss{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xk(e))try{this.getOrInitializeService({instanceIdentifier:Fo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fo){return this.instances.has(e)}getOptions(e=Fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fo){return this.component?this.component.multipleInstances?e:Fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vk(t){return t===Fo?void 0:t}function xk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const _k={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},Ek=tt.INFO,bk={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},Tk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=bk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hh{constructor(e){this.name=e,this._logLevel=Ek,this._logHandler=Tk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_k[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const Ik=(t,e)=>e.some(n=>t instanceof n);let Ex,bx;function Nk(){return Ex||(Ex=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sk(){return bx||(bx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w1=new WeakMap,Pp=new WeakMap,_1=new WeakMap,lp=new WeakMap,Sg=new WeakMap;function kk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Ki(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&w1.set(n,t)}).catch(()=>{}),Sg.set(e,t),e}function Ak(t){if(Pp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Pp.set(t,e)}let jp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ck(t){jp=t(jp)}function Rk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cp(this),e,...n);return _1.set(r,e.sort?e.sort():[e]),Ki(r)}:Sk().includes(t)?function(...e){return t.apply(cp(this),e),Ki(w1.get(this))}:function(...e){return Ki(t.apply(cp(this),e))}}function Pk(t){return typeof t=="function"?Rk(t):(t instanceof IDBTransaction&&Ak(t),Ik(t,Nk())?new Proxy(t,jp):t)}function Ki(t){if(t instanceof IDBRequest)return kk(t);if(lp.has(t))return lp.get(t);const e=Pk(t);return e!==t&&(lp.set(t,e),Sg.set(e,t)),e}const cp=t=>Sg.get(t);function E1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),h=Ki(l);return r&&l.addEventListener("upgradeneeded",m=>{r(Ki(l.result),m.oldVersion,m.newVersion,Ki(l.transaction),m)}),n&&l.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{a&&m.addEventListener("close",()=>a()),i&&m.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const jk=["get","getKey","getAll","getAllKeys","count"],Dk=["put","add","delete","clear"],up=new Map;function Tx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(up.get(e))return up.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Dk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jk.includes(n)))return;const a=async function(l,...h){const m=this.transaction(l,i?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),i&&m.done]))[0]};return up.set(e,a),a}Ck(t=>({...t,get:(e,n,r)=>Tx(e,n)||t.get(e,n,r),has:(e,n)=>!!Tx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Mk(t){return t.getComponent()?.type==="VERSION"}const Dp="@firebase/app",Ix="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new Hh("@firebase/app"),Vk="@firebase/app-compat",Lk="@firebase/analytics-compat",Fk="@firebase/analytics",zk="@firebase/app-check-compat",Uk="@firebase/app-check",$k="@firebase/auth",Bk="@firebase/auth-compat",Hk="@firebase/database",qk="@firebase/data-connect",Wk="@firebase/database-compat",Gk="@firebase/functions",Kk="@firebase/functions-compat",Zk="@firebase/installations",Qk="@firebase/installations-compat",Yk="@firebase/messaging",Xk="@firebase/messaging-compat",Jk="@firebase/performance",e2="@firebase/performance-compat",t2="@firebase/remote-config",n2="@firebase/remote-config-compat",r2="@firebase/storage",s2="@firebase/storage-compat",i2="@firebase/firestore",o2="@firebase/ai",a2="@firebase/firestore-compat",l2="firebase",c2="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="[DEFAULT]",u2={[Dp]:"fire-core",[Vk]:"fire-core-compat",[Fk]:"fire-analytics",[Lk]:"fire-analytics-compat",[Uk]:"fire-app-check",[zk]:"fire-app-check-compat",[$k]:"fire-auth",[Bk]:"fire-auth-compat",[Hk]:"fire-rtdb",[qk]:"fire-data-connect",[Wk]:"fire-rtdb-compat",[Gk]:"fire-fn",[Kk]:"fire-fn-compat",[Zk]:"fire-iid",[Qk]:"fire-iid-compat",[Yk]:"fire-fcm",[Xk]:"fire-fcm-compat",[Jk]:"fire-perf",[e2]:"fire-perf-compat",[t2]:"fire-rc",[n2]:"fire-rc-compat",[r2]:"fire-gcs",[s2]:"fire-gcs-compat",[i2]:"fire-fst",[a2]:"fire-fst-compat",[o2]:"fire-vertex","fire-js":"fire-js",[l2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,d2=new Map,Mp=new Map;function Nx(t,e){try{t.container.addComponent(e)}catch(n){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fs(t){const e=t.name;if(Mp.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;Mp.set(e,t);for(const n of lh.values())Nx(n,t);for(const n of d2.values())Nx(n,t);return!0}function na(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new ta("app","Firebase",h2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=c2;function b1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Op,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Zi.create("bad-app-name",{appName:String(i)});if(n||(n=f1()),!n)throw Zi.create("no-options");const a=lh.get(i);if(a){if(eo(n,a.options)&&eo(r,a.config))return a;throw Zi.create("duplicate-app",{appName:i})}const l=new wk(i);for(const m of Mp.values())l.addComponent(m);const h=new f2(n,r,l);return lh.set(i,h),h}function kg(t=Op){const e=lh.get(t);if(!e&&t===Op&&f1())return b1();if(!e)throw Zi.create("no-app",{appName:t});return e}function Mr(t,e,n){let r=u2[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(l.join(" "));return}Fs(new ss(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="firebase-heartbeat-database",p2=1,Bc="firebase-heartbeat-store";let dp=null;function T1(){return dp||(dp=E1(m2,p2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zi.create("idb-open",{originalErrorMessage:t.message})})),dp}async function g2(t){try{const n=(await T1()).transaction(Bc),r=await n.objectStore(Bc).get(I1(t));return await n.done,r}catch(e){if(e instanceof ls)hi.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e?.message});hi.warn(n.message)}}}async function Sx(t,e){try{const r=(await T1()).transaction(Bc,"readwrite");await r.objectStore(Bc).put(e,I1(t)),await r.done}catch(n){if(n instanceof ls)hi.warn(n.message);else{const r=Zi.create("idb-set",{originalErrorMessage:n?.message});hi.warn(r.message)}}}function I1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=1024,v2=30;class x2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>v2){const i=E2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kx(),{heartbeatsToSend:n,unsentEntries:r}=w2(this._heartbeatsCache.heartbeats),i=ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return hi.warn(e),""}}}function kx(){return new Date().toISOString().substring(0,10)}function w2(t,e=y2){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Ax(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ax(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v1()?x1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ax(t){return ah(JSON.stringify({version:2,heartbeats:t})).length}function E2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t){Fs(new ss("platform-logger",e=>new Ok(e),"PRIVATE")),Fs(new ss("heartbeat",e=>new x2(e),"PRIVATE")),Mr(Dp,Ix,t),Mr(Dp,Ix,"esm2020"),Mr("fire-js","")}b2("");function N1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T2=N1,S1=new ta("auth","Firebase",N1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Hh("@firebase/auth");function I2(t,...e){ch.logLevel<=tt.WARN&&ch.warn(`Auth (${yl}): ${t}`,...e)}function Wd(t,...e){ch.logLevel<=tt.ERROR&&ch.error(`Auth (${yl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t,...e){throw Ag(t,...e)}function js(t,...e){return Ag(t,...e)}function k1(t,e,n){const r={...T2(),[e]:n};return new ta("auth","Firebase",r).create(e,{appName:t.name})}function li(t){return k1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ag(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return S1.create(t,...e)}function ze(t,e,...n){if(!t)throw Ag(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wd(e),new Error(e)}function fi(t,e){t||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(){return typeof self<"u"&&self.location?.href||""}function N2(){return Cx()==="http:"||Cx()==="https:"}function Cx(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(N2()||y1()||"connection"in navigator)?navigator.onLine:!0}function k2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=JS()||nk()}get(){return S2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t,e){fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],R2=new iu(3e4,6e4);function ao(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function vi(t,e,n,r,i={}){return C1(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=su({key:t.config.apiKey,...l}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...a};return tk()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&gl(t.emulatorConfig.host)&&(g.credentials="include"),A1.fetch()(await R1(t,t.config.apiHost,n,h),g)})}async function C1(t,e,n){t._canInitEmulator=!1;const r={...A2,...e};try{const i=new j2(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Cd(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[m,g]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cd(t,"credential-already-in-use",l);if(m==="EMAIL_EXISTS")throw Cd(t,"email-already-in-use",l);if(m==="USER_DISABLED")throw Cd(t,"user-disabled",l);const w=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw k1(t,w,g);is(t,w)}}catch(i){if(i instanceof ls)throw i;is(t,"network-request-failed",{message:String(i)})}}async function ou(t,e,n,r,i={}){const a=await vi(t,e,n,r,i);return"mfaPendingCredential"in a&&is(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function R1(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?Cg(t.config,i):`${t.config.apiScheme}://${i}`;return C2.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function P2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(js(this.auth,"network-request-failed")),R2.get())})}}function Cd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=js(t,e,r);return i.customData._tokenResponse=n,i}function Rx(t){return t!==void 0&&t.enterprise!==void 0}class D2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O2(t,e){return vi(t,"GET","/v2/recaptchaConfig",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(t,e){return vi(t,"POST","/v1/accounts:delete",e)}async function uh(t,e){return vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function V2(t,e=!1){const n=Mt(t),r=await n.getIdToken(e),i=Rg(r);ze(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:Rc(hp(i.auth_time)),issuedAtTime:Rc(hp(i.iat)),expirationTime:Rc(hp(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function hp(t){return Number(t)*1e3}function Rg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wd("JWT malformed, contained fewer than 3 sections"),null;try{const i=d1(n);return i?JSON.parse(i):(Wd("Failed to decode base64 JWT payload"),null)}catch(i){return Wd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Px(t){const e=Rg(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ls&&L2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function L2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rc(this.lastLoginAt),this.creationTime=Rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(t){const e=t.auth,n=await t.getIdToken(),r=await ol(t,uh(e,{idToken:n}));ze(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?P1(i.providerUserInfo):[],l=U2(t.providerData,a),h=t.isAnonymous,m=!(t.email&&i.passwordHash)&&!l?.length,g=h?m:!1,w={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Lp(i.createdAt,i.lastLoginAt),isAnonymous:g};Object.assign(t,w)}async function z2(t){const e=Mt(t);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function P1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(t,e){const n=await C1(t,{},async()=>{const r=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await R1(t,i,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:r};return t.emulatorConfig&&gl(t.emulatorConfig.host)&&(m.credentials="include"),A1.fetch()(l,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function B2(t,e){return vi(t,"POST","/v2/accounts:revokeToken",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Px(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=Px(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await $2(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Ja;return r&&(ze(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(ze(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(ze(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rs{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new F2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Lp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ol(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return V2(this,e)}reload(){return z2(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await ol(this,M2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,h=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:x,emailVerified:E,isAnonymous:C,providerData:O,stsTokenManager:U}=n;ze(x&&U,e,"internal-error");const M=Ja.fromJSON(this.name,U);ze(typeof x=="string",e,"internal-error"),Ui(r,e.name),Ui(i,e.name),ze(typeof E=="boolean",e,"internal-error"),ze(typeof C=="boolean",e,"internal-error"),Ui(a,e.name),Ui(l,e.name),Ui(h,e.name),Ui(m,e.name),Ui(g,e.name),Ui(w,e.name);const G=new rs({uid:x,auth:e,email:i,emailVerified:E,displayName:r,isAnonymous:C,photoURL:l,phoneNumber:a,tenantId:h,stsTokenManager:M,createdAt:g,lastLoginAt:w});return O&&Array.isArray(O)&&(G.providerData=O.map($=>({...$}))),m&&(G._redirectEventId=m),G}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ja;i.updateFromServerResponse(n);const a=new rs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ze(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?P1(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,h=new Ja;h.updateFromIdToken(r);const m=new rs({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:l}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Lp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new Map;function oi(t){fi(t instanceof Function,"Expected a class definition");let e=jx.get(t);return e?(fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}j1.type="NONE";const Dx=j1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t,e,n){return`firebase:${t}:${e}:${n}`}class el{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Gd(this.userKey,i.apiKey,a),this.fullPersistenceKey=Gd("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uh(this.auth,{idToken:e}).catch(()=>{});return n?rs._fromGetAccountInfoResponse(this.auth,n,e):null}return rs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new el(oi(Dx),e,r);const i=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=i[0]||oi(Dx);const l=Gd(r,e.config.apiKey,e.name);let h=null;for(const g of n)try{const w=await g._get(l);if(w){let x;if(typeof w=="string"){const E=await uh(e,{idToken:w}).catch(()=>{});if(!E)break;x=await rs._fromGetAccountInfoResponse(e,E,w)}else x=rs._fromJSON(e,w);g!==a&&(h=x),a=g;break}}catch{}const m=i.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!m.length?new el(a,e,r):(a=m[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==a)try{await g._remove(l)}catch{}})),new el(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(F1(e))return"Blackberry";if(z1(e))return"Webos";if(O1(e))return"Safari";if((e.includes("chrome/")||M1(e))&&!e.includes("edge/"))return"Chrome";if(L1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function D1(t=Mn()){return/firefox\//i.test(t)}function O1(t=Mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function M1(t=Mn()){return/crios\//i.test(t)}function V1(t=Mn()){return/iemobile/i.test(t)}function L1(t=Mn()){return/android/i.test(t)}function F1(t=Mn()){return/blackberry/i.test(t)}function z1(t=Mn()){return/webos/i.test(t)}function Pg(t=Mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function H2(t=Mn()){return Pg(t)&&!!window.navigator?.standalone}function q2(){return rk()&&document.documentMode===10}function U1(t=Mn()){return Pg(t)||L1(t)||z1(t)||F1(t)||/windows phone/i.test(t)||V1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t,e=[]){let n;switch(t){case"Browser":n=Ox(Mn());break;case"Worker":n=`${Ox(Mn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const m=e(a);l(m)}catch(m){h(m)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t,e={}){return vi(t,"GET","/v2/passwordPolicy",ao(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=6;class Z2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??K2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mx(this),this.idTokenSubscription=new Mx(this),this.beforeStateQueue=new W2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await el.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uh(this,{idToken:e}),r=await rs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Dr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===l)&&h?.user&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=k2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(li(this));const n=e?Mt(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await G2(this),n=new Z2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ta("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await B2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oi(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(h,this,"internal-error"),h.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,r,i);return()=>{l=!0,m()}}else{const m=e.addObserver(n);return()=>{l=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&I2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ra(t){return Mt(t)}class Mx{constructor(e){this.auth=e,this.observer=null,this.addObserver=uk(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y2(t){qh=t}function B1(t){return qh.loadJS(t)}function X2(){return qh.recaptchaEnterpriseScript}function J2(){return qh.gapiScript}function eA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tA{constructor(){this.enterprise=new nA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const rA="recaptcha-enterprise",H1="NO_RECAPTCHA";class sA{constructor(e){this.type=rA,this.auth=ra(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,h)=>{O2(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new D2(m);return a.tenantId==null?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,l(g.siteKey)}}).catch(m=>{h(m)})})}function i(a,l,h){const m=window.grecaptcha;Rx(m)?m.enterprise.ready(()=>{m.enterprise.execute(a,{action:e}).then(g=>{l(g)}).catch(()=>{l(H1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tA().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(h=>{if(!n&&Rx(window.grecaptcha))i(h,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let m=X2();m.length!==0&&(m+=h),B1(m).then(()=>{i(h,a,l)}).catch(g=>{l(g)})}}).catch(h=>{l(h)})})}}async function Vx(t,e,n,r=!1,i=!1){const a=new sA(t);let l;if(i)l=H1;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Fp(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Vx(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Vx(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t,e){const n=na(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(eo(a,e??{}))return i;is(i,"already-initialized")}return n.initialize({options:e})}function oA(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(oi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function aA(t,e,n){const r=ra(t);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=q1(e),{host:l,port:h}=lA(e),m=h===null?"":`:${h}`,g={url:`${a}//${l}${m}/`},w=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(eo(g,r.config.emulator)&&eo(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,gl(l)?(p1(`${a}//${l}${m}`),g1("Auth",!0)):cA()}function q1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lA(t){const e=q1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Lx(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Lx(l)}}}function Lx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function uA(t,e){return vi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(t,e){return ou(t,"POST","/v1/accounts:signInWithPassword",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(t,e){return ou(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}async function fA(t,e){return ou(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends jg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Hc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Hc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fp(e,n,"signInWithPassword",dA);case"emailLink":return hA(e,{email:this._email,oobCode:this._password});default:is(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fp(e,r,"signUpPassword",uA);case"emailLink":return fA(e,{idToken:n,email:this._email,oobCode:this._password});default:is(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t,e){return ou(t,"POST","/v1/accounts:signInWithIdp",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="http://localhost";class qo extends jg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):is("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new qo(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return tl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tl(e,n)}buildRequest(){const e={requestUri:mA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gA(t){const e=wc(_c(t)).link,n=e?wc(_c(e)).deep_link_id:null,r=wc(_c(t)).deep_link_id;return(r?wc(_c(r)).link:null)||r||n||e||t}class Dg{constructor(e){const n=wc(_c(e)),r=n.apiKey??null,i=n.oobCode??null,a=pA(n.mode??null);ze(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gA(e);try{return new Dg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,n){return Hc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dg.parseLink(n);return ze(r,"argument-error"),Hc._fromEmailAndCode(e,r.code,r.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends W1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends au{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.FACEBOOK_SIGN_IN_METHOD="facebook.com";$i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qo._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bi.credential(n,r)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends au{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends au{constructor(){super("twitter.com")}static credential(e,n){return qo._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qi.credential(n,r)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yA(t,e){return ou(t,"POST","/v1/accounts:signUp",ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await rs._fromIdTokenResponse(e,r,i),l=Fx(r);return new Wo({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Fx(r);return new Wo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Fx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends ls{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hh(e,n,r,i)}}function G1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(t,a,e,r):a})}async function vA(t,e,n=!1){const r=await ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xA(t,e,n=!1){const{auth:r}=t;if(Dr(r.app))return Promise.reject(li(r));const i="reauthenticate";try{const a=await ol(t,G1(r,i,e,t),n);ze(a.idToken,r,"internal-error");const l=Rg(a.idToken);ze(l,r,"internal-error");const{sub:h}=l;return ze(t.uid===h,r,"user-mismatch"),Wo._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&is(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(t,e,n=!1){if(Dr(t.app))return Promise.reject(li(t));const r="signIn",i=await G1(t,r,e),a=await Wo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function wA(t,e){return K1(ra(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(t){const e=ra(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _A(t,e,n){if(Dr(t.app))return Promise.reject(li(t));const r=ra(t),l=await Fp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yA).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Z1(t),m}),h=await Wo._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(h.user),h}function EA(t,e,n){return Dr(t.app)?Promise.reject(li(t)):wA(Mt(t),vl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Z1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(t,e){return vi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Mt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await ol(r,bA(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const h=r.providerData.find(({providerId:m})=>m==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function IA(t,e,n,r){return Mt(t).onIdTokenChanged(e,n,r)}function NA(t,e,n){return Mt(t).beforeAuthStateChanged(e,n)}function SA(t,e,n,r){return Mt(t).onAuthStateChanged(e,n,r)}function kA(t){return Mt(t).signOut()}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=1e3,CA=10;class Y1 extends Q1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,m)=>{this.notifyListeners(l,m)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);q2()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,CA):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},AA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y1.type="LOCAL";const RA=Y1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1 extends Q1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}X1.type="SESSION";const J1=X1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(l).map(async g=>g(n.origin,a)),m=await PA(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((h,m)=>{const g=Og("",20);i.port1.start();const w=setTimeout(()=>{m(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(x){const E=x;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(w),clearTimeout(a),m(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(){return window}function DA(t){Ds().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(){return typeof Ds().WorkerGlobalScope<"u"&&typeof Ds().importScripts=="function"}async function OA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MA(){return navigator?.serviceWorker?.controller||null}function VA(){return eE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="firebaseLocalStorageDb",LA=1,mh="firebaseLocalStorage",nE="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gh(t,e){return t.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function FA(){const t=indexedDB.deleteDatabase(tE);return new lu(t).toPromise()}function zp(){const t=indexedDB.open(tE,LA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mh,{keyPath:nE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(mh)?e(r):(r.close(),await FA(),e(await zp()))})})}async function zx(t,e,n){const r=Gh(t,!0).put({[nE]:e,value:n});return new lu(r).toPromise()}async function zA(t,e){const n=Gh(t,!1).get(e),r=await new lu(n).toPromise();return r===void 0?null:r.value}function Ux(t,e){const n=Gh(t,!0).delete(e);return new lu(n).toPromise()}const UA=800,$A=3;class rE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$A)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(VA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OA(),!this.activeServiceWorker)return;this.sender=new jA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zp();return await zx(e,fh,"1"),await Ux(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ux(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Gh(i,!1).getAll();return new lu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rE.type="LOCAL";const BA=rE;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t,e){return e?oi(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg extends jg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qA(t){return K1(t.auth,new Mg(t),t.bypassAuthState)}function WA(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),xA(n,new Mg(t),t.bypassAuthState)}async function GA(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),vA(n,new Mg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qA;case"linkViaPopup":case"linkViaRedirect":return GA;case"reauthViaPopup":case"reauthViaRedirect":return WA;default:is(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=new iu(2e3,1e4);class Ya extends sE{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=Og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KA.get())};e()}}Ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="pendingRedirect",Kd=new Map;class QA extends sE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kd.get(this.auth._key());if(!e){try{const r=await YA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kd.set(this.auth._key(),e)}return this.bypassAuthState||Kd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YA(t,e){const n=eC(e),r=JA(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function XA(t,e){Kd.set(t._key(),e)}function JA(t){return oi(t._redirectPersistence)}function eC(t){return Gd(ZA,t.config.apiKey,t.name)}async function tC(t,e,n=!1){if(Dr(t.app))return Promise.reject(li(t));const r=ra(t),i=HA(r,e),l=await new QA(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=600*1e3;class rC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!iE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(js(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nC&&this.cachedEventUids.clear(),this.cachedEventUids.has($x(e))}saveEventToCache(e){this.cachedEventUids.add($x(e)),this.lastProcessedEventTime=Date.now()}}function $x(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iE({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function sC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(t,e={}){return vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aC=/^https?/;async function lC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iC(t);for(const n of e)try{if(cC(n))return}catch{}is(t,"unauthorized-domain")}function cC(t){const e=Vp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!aC.test(n))return!1;if(oC.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new iu(3e4,6e4);function Bx(){const t=Ds().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dC(t){return new Promise((e,n)=>{function r(){Bx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bx(),n(js(t,"network-request-failed"))},timeout:uC.get()})}if(Ds().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ds().gapi?.load)r();else{const i=eA("iframefcb");return Ds()[i]=()=>{gapi.load?r():n(js(t,"network-request-failed"))},B1(`${J2()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw Zd=null,e})}let Zd=null;function hC(t){return Zd=Zd||dC(t),Zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new iu(5e3,15e3),mC="__/auth/iframe",pC="emulator/auth/iframe",gC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vC(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cg(e,pC):`https://${t.config.authDomain}/${mC}`,r={apiKey:e.apiKey,appName:t.name,v:yl},i=yC.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${su(r).slice(1)}`}async function xC(t){const e=await hC(t),n=Ds().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:vC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gC,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=js(t,"network-request-failed"),h=Ds().setTimeout(()=>{a(l)},fC.get());function m(){Ds().clearTimeout(h),i(r)}r.ping(m).then(m,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_C=500,EC=600,bC="_blank",TC="http://localhost";class Hx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IC(t,e,n,r=_C,i=EC){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const m={...wC,width:r.toString(),height:i.toString(),top:a,left:l},g=Mn().toLowerCase();n&&(h=M1(g)?bC:n),D1(g)&&(e=e||TC,m.scrollbars="yes");const w=Object.entries(m).reduce((E,[C,O])=>`${E}${C}=${O},`,"");if(H2(g)&&h!=="_self")return NC(e||"",h),new Hx(null);const x=window.open(e||"",h,w);ze(x,t,"popup-blocked");try{x.focus()}catch{}return new Hx(x)}function NC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="__/auth/handler",kC="emulator/auth/handler",AC=encodeURIComponent("fac");async function qx(t,e,n,r,i,a){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yl,eventId:i};if(e instanceof W1){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",ck(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,x]of Object.entries({}))l[w]=x}if(e instanceof au){const w=e.getScopes().filter(x=>x!=="");w.length>0&&(l.scopes=w.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const w of Object.keys(h))h[w]===void 0&&delete h[w];const m=await t._getAppCheckToken(),g=m?`#${AC}=${encodeURIComponent(m)}`:"";return`${CC(t)}?${su(h).slice(1)}${g}`}function CC({config:t}){return t.emulator?Cg(t,kC):`https://${t.authDomain}/${SC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="webStorageSupport";class RC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J1,this._completeRedirectFn=tC,this._overrideRedirectResult=XA}async _openPopup(e,n,r,i){fi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await qx(e,n,r,Vp(),i);return IC(e,a,Og())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await qx(e,n,r,Vp(),i);return DA(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(fi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xC(e),r=new rC(e);return n.register("authEvent",i=>(ze(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fp,{type:fp},i=>{const a=i?.[0]?.[fp];a!==void 0&&n(!!a),is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return U1()||O1()||Pg()}}const PC=RC;var Wx="@firebase/auth",Gx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OC(t){Fs(new ss("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;ze(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$1(t)},g=new Q2(r,i,a,m);return oA(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fs(new ss("auth-internal",e=>{const n=ra(e.getProvider("auth").getImmediate());return(r=>new jC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(Wx,Gx,DC(t)),Mr(Wx,Gx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=300,VC=m1("authIdTokenMaxAge")||MC;let Kx=null;const LC=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>VC)return;const i=n?.token;Kx!==i&&(Kx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function FC(t=kg()){const e=na(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iA(t,{popupRedirectResolver:PC,persistence:[BA,RA,J1]}),r=m1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=LC(a.toString());NA(n,l,()=>l(n.currentUser)),IA(n,h=>l(h))}}const i=h1("auth");return i&&aA(n,`http://${i}`),n}function zC(){return document.getElementsByTagName("head")?.[0]??document}Y2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=js("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",zC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OC("Browser");var UC="firebase",$C="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(UC,$C,"app");var Zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,oE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function A(){}A.prototype=I.prototype,k.F=I.prototype,k.prototype=new A,k.prototype.constructor=k,k.D=function(D,j,S){for(var N=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)N[Ae-2]=arguments[Ae];return I.prototype[j].apply(D,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,I,A){A||(A=0);const D=Array(16);if(typeof I=="string")for(var j=0;j<16;++j)D[j]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(j=0;j<16;++j)D[j]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=k.g[0],A=k.g[1],j=k.g[2];let S=k.g[3],N;N=I+(S^A&(j^S))+D[0]+3614090360&4294967295,I=A+(N<<7&4294967295|N>>>25),N=S+(j^I&(A^j))+D[1]+3905402710&4294967295,S=I+(N<<12&4294967295|N>>>20),N=j+(A^S&(I^A))+D[2]+606105819&4294967295,j=S+(N<<17&4294967295|N>>>15),N=A+(I^j&(S^I))+D[3]+3250441966&4294967295,A=j+(N<<22&4294967295|N>>>10),N=I+(S^A&(j^S))+D[4]+4118548399&4294967295,I=A+(N<<7&4294967295|N>>>25),N=S+(j^I&(A^j))+D[5]+1200080426&4294967295,S=I+(N<<12&4294967295|N>>>20),N=j+(A^S&(I^A))+D[6]+2821735955&4294967295,j=S+(N<<17&4294967295|N>>>15),N=A+(I^j&(S^I))+D[7]+4249261313&4294967295,A=j+(N<<22&4294967295|N>>>10),N=I+(S^A&(j^S))+D[8]+1770035416&4294967295,I=A+(N<<7&4294967295|N>>>25),N=S+(j^I&(A^j))+D[9]+2336552879&4294967295,S=I+(N<<12&4294967295|N>>>20),N=j+(A^S&(I^A))+D[10]+4294925233&4294967295,j=S+(N<<17&4294967295|N>>>15),N=A+(I^j&(S^I))+D[11]+2304563134&4294967295,A=j+(N<<22&4294967295|N>>>10),N=I+(S^A&(j^S))+D[12]+1804603682&4294967295,I=A+(N<<7&4294967295|N>>>25),N=S+(j^I&(A^j))+D[13]+4254626195&4294967295,S=I+(N<<12&4294967295|N>>>20),N=j+(A^S&(I^A))+D[14]+2792965006&4294967295,j=S+(N<<17&4294967295|N>>>15),N=A+(I^j&(S^I))+D[15]+1236535329&4294967295,A=j+(N<<22&4294967295|N>>>10),N=I+(j^S&(A^j))+D[1]+4129170786&4294967295,I=A+(N<<5&4294967295|N>>>27),N=S+(A^j&(I^A))+D[6]+3225465664&4294967295,S=I+(N<<9&4294967295|N>>>23),N=j+(I^A&(S^I))+D[11]+643717713&4294967295,j=S+(N<<14&4294967295|N>>>18),N=A+(S^I&(j^S))+D[0]+3921069994&4294967295,A=j+(N<<20&4294967295|N>>>12),N=I+(j^S&(A^j))+D[5]+3593408605&4294967295,I=A+(N<<5&4294967295|N>>>27),N=S+(A^j&(I^A))+D[10]+38016083&4294967295,S=I+(N<<9&4294967295|N>>>23),N=j+(I^A&(S^I))+D[15]+3634488961&4294967295,j=S+(N<<14&4294967295|N>>>18),N=A+(S^I&(j^S))+D[4]+3889429448&4294967295,A=j+(N<<20&4294967295|N>>>12),N=I+(j^S&(A^j))+D[9]+568446438&4294967295,I=A+(N<<5&4294967295|N>>>27),N=S+(A^j&(I^A))+D[14]+3275163606&4294967295,S=I+(N<<9&4294967295|N>>>23),N=j+(I^A&(S^I))+D[3]+4107603335&4294967295,j=S+(N<<14&4294967295|N>>>18),N=A+(S^I&(j^S))+D[8]+1163531501&4294967295,A=j+(N<<20&4294967295|N>>>12),N=I+(j^S&(A^j))+D[13]+2850285829&4294967295,I=A+(N<<5&4294967295|N>>>27),N=S+(A^j&(I^A))+D[2]+4243563512&4294967295,S=I+(N<<9&4294967295|N>>>23),N=j+(I^A&(S^I))+D[7]+1735328473&4294967295,j=S+(N<<14&4294967295|N>>>18),N=A+(S^I&(j^S))+D[12]+2368359562&4294967295,A=j+(N<<20&4294967295|N>>>12),N=I+(A^j^S)+D[5]+4294588738&4294967295,I=A+(N<<4&4294967295|N>>>28),N=S+(I^A^j)+D[8]+2272392833&4294967295,S=I+(N<<11&4294967295|N>>>21),N=j+(S^I^A)+D[11]+1839030562&4294967295,j=S+(N<<16&4294967295|N>>>16),N=A+(j^S^I)+D[14]+4259657740&4294967295,A=j+(N<<23&4294967295|N>>>9),N=I+(A^j^S)+D[1]+2763975236&4294967295,I=A+(N<<4&4294967295|N>>>28),N=S+(I^A^j)+D[4]+1272893353&4294967295,S=I+(N<<11&4294967295|N>>>21),N=j+(S^I^A)+D[7]+4139469664&4294967295,j=S+(N<<16&4294967295|N>>>16),N=A+(j^S^I)+D[10]+3200236656&4294967295,A=j+(N<<23&4294967295|N>>>9),N=I+(A^j^S)+D[13]+681279174&4294967295,I=A+(N<<4&4294967295|N>>>28),N=S+(I^A^j)+D[0]+3936430074&4294967295,S=I+(N<<11&4294967295|N>>>21),N=j+(S^I^A)+D[3]+3572445317&4294967295,j=S+(N<<16&4294967295|N>>>16),N=A+(j^S^I)+D[6]+76029189&4294967295,A=j+(N<<23&4294967295|N>>>9),N=I+(A^j^S)+D[9]+3654602809&4294967295,I=A+(N<<4&4294967295|N>>>28),N=S+(I^A^j)+D[12]+3873151461&4294967295,S=I+(N<<11&4294967295|N>>>21),N=j+(S^I^A)+D[15]+530742520&4294967295,j=S+(N<<16&4294967295|N>>>16),N=A+(j^S^I)+D[2]+3299628645&4294967295,A=j+(N<<23&4294967295|N>>>9),N=I+(j^(A|~S))+D[0]+4096336452&4294967295,I=A+(N<<6&4294967295|N>>>26),N=S+(A^(I|~j))+D[7]+1126891415&4294967295,S=I+(N<<10&4294967295|N>>>22),N=j+(I^(S|~A))+D[14]+2878612391&4294967295,j=S+(N<<15&4294967295|N>>>17),N=A+(S^(j|~I))+D[5]+4237533241&4294967295,A=j+(N<<21&4294967295|N>>>11),N=I+(j^(A|~S))+D[12]+1700485571&4294967295,I=A+(N<<6&4294967295|N>>>26),N=S+(A^(I|~j))+D[3]+2399980690&4294967295,S=I+(N<<10&4294967295|N>>>22),N=j+(I^(S|~A))+D[10]+4293915773&4294967295,j=S+(N<<15&4294967295|N>>>17),N=A+(S^(j|~I))+D[1]+2240044497&4294967295,A=j+(N<<21&4294967295|N>>>11),N=I+(j^(A|~S))+D[8]+1873313359&4294967295,I=A+(N<<6&4294967295|N>>>26),N=S+(A^(I|~j))+D[15]+4264355552&4294967295,S=I+(N<<10&4294967295|N>>>22),N=j+(I^(S|~A))+D[6]+2734768916&4294967295,j=S+(N<<15&4294967295|N>>>17),N=A+(S^(j|~I))+D[13]+1309151649&4294967295,A=j+(N<<21&4294967295|N>>>11),N=I+(j^(A|~S))+D[4]+4149444226&4294967295,I=A+(N<<6&4294967295|N>>>26),N=S+(A^(I|~j))+D[11]+3174756917&4294967295,S=I+(N<<10&4294967295|N>>>22),N=j+(I^(S|~A))+D[2]+718787259&4294967295,j=S+(N<<15&4294967295|N>>>17),N=A+(S^(j|~I))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+j&4294967295,k.g[3]=k.g[3]+S&4294967295}r.prototype.v=function(k,I){I===void 0&&(I=k.length);const A=I-this.blockSize,D=this.C;let j=this.h,S=0;for(;S<I;){if(j==0)for(;S<=A;)i(this,k,S),S+=this.blockSize;if(typeof k=="string"){for(;S<I;)if(D[j++]=k.charCodeAt(S++),j==this.blockSize){i(this,D),j=0;break}}else for(;S<I;)if(D[j++]=k[S++],j==this.blockSize){i(this,D),j=0;break}}this.h=j,this.o+=I},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;I=this.o*8;for(var A=k.length-8;A<k.length;++A)k[A]=I&255,I/=256;for(this.v(k),k=Array(16),I=0,A=0;A<4;++A)for(let D=0;D<32;D+=8)k[I++]=this.g[A]>>>D&255;return k};function a(k,I){var A=h;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=I(k)}function l(k,I){this.h=I;const A=[];let D=!0;for(let j=k.length-1;j>=0;j--){const S=k[j]|0;D&&S==I||(A[j]=S,D=!1)}this.g=A}var h={};function m(k){return-128<=k&&k<128?a(k,function(I){return new l([I|0],I<0?-1:0)}):new l([k|0],k<0?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return x;if(k<0)return M(g(-k));const I=[];let A=1;for(let D=0;k>=A;D++)I[D]=k/A|0,A*=4294967296;return new l(I,0)}function w(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return M(w(k.substring(1),I));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=g(Math.pow(I,8));let D=x;for(let S=0;S<k.length;S+=8){var j=Math.min(8,k.length-S);const N=parseInt(k.substring(S,S+j),I);j<8?(j=g(Math.pow(I,j)),D=D.j(j).add(g(N))):(D=D.j(A),D=D.add(g(N)))}return D}var x=m(0),E=m(1),C=m(16777216);t=l.prototype,t.m=function(){if(U(this))return-M(this).m();let k=0,I=1;for(let A=0;A<this.g.length;A++){const D=this.i(A);k+=(D>=0?D:4294967296+D)*I,I*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(O(this))return"0";if(U(this))return"-"+M(this).toString(k);const I=g(Math.pow(k,6));var A=this;let D="";for(;;){const j=ee(A,I).g;A=G(A,j.j(I));let S=((A.g.length>0?A.g[0]:A.h)>>>0).toString(k);if(A=j,O(A))return S+D;for(;S.length<6;)S="0"+S;D=S+D}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function O(k){if(k.h!=0)return!1;for(let I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function U(k){return k.h==-1}t.l=function(k){return k=G(this,k),U(k)?-1:O(k)?0:1};function M(k){const I=k.g.length,A=[];for(let D=0;D<I;D++)A[D]=~k.g[D];return new l(A,~k.h).add(E)}t.abs=function(){return U(this)?M(this):this},t.add=function(k){const I=Math.max(this.g.length,k.g.length),A=[];let D=0;for(let j=0;j<=I;j++){let S=D+(this.i(j)&65535)+(k.i(j)&65535),N=(S>>>16)+(this.i(j)>>>16)+(k.i(j)>>>16);D=N>>>16,S&=65535,N&=65535,A[j]=N<<16|S}return new l(A,A[A.length-1]&-2147483648?-1:0)};function G(k,I){return k.add(M(I))}t.j=function(k){if(O(this)||O(k))return x;if(U(this))return U(k)?M(this).j(M(k)):M(M(this).j(k));if(U(k))return M(this.j(M(k)));if(this.l(C)<0&&k.l(C)<0)return g(this.m()*k.m());const I=this.g.length+k.g.length,A=[];for(var D=0;D<2*I;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(let j=0;j<k.g.length;j++){const S=this.i(D)>>>16,N=this.i(D)&65535,Ae=k.i(j)>>>16,Be=k.i(j)&65535;A[2*D+2*j]+=N*Be,$(A,2*D+2*j),A[2*D+2*j+1]+=S*Be,$(A,2*D+2*j+1),A[2*D+2*j+1]+=N*Ae,$(A,2*D+2*j+1),A[2*D+2*j+2]+=S*Ae,$(A,2*D+2*j+2)}for(k=0;k<I;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=I;k<2*I;k++)A[k]=0;return new l(A,0)};function $(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function Q(k,I){this.g=k,this.h=I}function ee(k,I){if(O(I))throw Error("division by zero");if(O(k))return new Q(x,x);if(U(k))return I=ee(M(k),I),new Q(M(I.g),M(I.h));if(U(I))return I=ee(k,M(I)),new Q(M(I.g),I.h);if(k.g.length>30){if(U(k)||U(I))throw Error("slowDivide_ only works with positive integers.");for(var A=E,D=I;D.l(k)<=0;)A=B(A),D=B(D);var j=de(A,1),S=de(D,1);for(D=de(D,2),A=de(A,2);!O(D);){var N=S.add(D);N.l(k)<=0&&(j=j.add(A),S=N),D=de(D,1),A=de(A,1)}return I=G(k,j.j(I)),new Q(j,I)}for(j=x;k.l(I)>=0;){for(A=Math.max(1,Math.floor(k.m()/I.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),S=g(A),N=S.j(I);U(N)||N.l(k)>0;)A-=D,S=g(A),N=S.j(I);O(S)&&(S=E),j=j.add(S),k=G(k,N)}return new Q(j,k)}t.B=function(k){return ee(this,k).h},t.and=function(k){const I=Math.max(this.g.length,k.g.length),A=[];for(let D=0;D<I;D++)A[D]=this.i(D)&k.i(D);return new l(A,this.h&k.h)},t.or=function(k){const I=Math.max(this.g.length,k.g.length),A=[];for(let D=0;D<I;D++)A[D]=this.i(D)|k.i(D);return new l(A,this.h|k.h)},t.xor=function(k){const I=Math.max(this.g.length,k.g.length),A=[];for(let D=0;D<I;D++)A[D]=this.i(D)^k.i(D);return new l(A,this.h^k.h)};function B(k){const I=k.g.length+1,A=[];for(let D=0;D<I;D++)A[D]=k.i(D)<<1|k.i(D-1)>>>31;return new l(A,k.h)}function de(k,I){const A=I>>5;I%=32;const D=k.g.length-A,j=[];for(let S=0;S<D;S++)j[S]=I>0?k.i(S+A)>>>I|k.i(S+A+1)<<32-I:k.i(S+A);return new l(j,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oE=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=g,l.fromString=w,Qi=l}).apply(typeof Zx<"u"?Zx:typeof self<"u"?self:typeof window<"u"?window:{});var Rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aE,Ec,lE,Qd,Up,cE,uE,dE;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rd=="object"&&Rd];for(var v=0;v<d.length;++v){var _=d[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(d,v){if(v)e:{var _=r;d=d.split(".");for(var T=0;T<d.length-1;T++){var W=d[T];if(!(W in _))break e;_=_[W]}d=d[d.length-1],T=_[d],v=v(T),v!=T&&v!=null&&e(_,d,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(v){var _=[],T;for(T in v)Object.prototype.hasOwnProperty.call(v,T)&&_.push([T,v[T]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function h(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function m(d,v,_){return d.call.apply(d.bind,arguments)}function g(d,v,_){return g=m,g.apply(null,arguments)}function w(d,v){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),d.apply(this,T)}}function x(d,v){function _(){}_.prototype=v.prototype,d.Z=v.prototype,d.prototype=new _,d.prototype.constructor=d,d.Ob=function(T,W,X){for(var me=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)me[qe-2]=arguments[qe];return v.prototype[W].apply(T,me)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function C(d){const v=d.length;if(v>0){const _=Array(v);for(let T=0;T<v;T++)_[T]=d[T];return _}return[]}function O(d,v){for(let T=1;T<arguments.length;T++){const W=arguments[T];var _=typeof W;if(_=_!="object"?_:W?Array.isArray(W)?"array":_:"null",_=="array"||_=="object"&&typeof W.length=="number"){_=d.length||0;const X=W.length||0;d.length=_+X;for(let me=0;me<X;me++)d[_+me]=W[me]}else d.push(W)}}class U{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(d){l.setTimeout(()=>{throw d},0)}function G(){var d=k;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class ${constructor(){this.h=this.g=null}add(v,_){const T=Q.get();T.set(v,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Q=new U(()=>new ee,d=>d.reset());class ee{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let B,de=!1,k=new $,I=()=>{const d=Promise.resolve(void 0);B=()=>{d.then(A)}};function A(){for(var d;d=G();){try{d.h.call(d.g)}catch(_){M(_)}var v=Q;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}de=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var S=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const _=()=>{};l.addEventListener("test",_,v),l.removeEventListener("test",_,v)}catch{}return d})();function N(d){return/^[\s\xa0]*$/.test(d)}function Ae(d,v){j.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}x(Ae,j),Ae.prototype.init=function(d,v){const _=this.type=d.type,T=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(_=="mouseover"?v=d.fromElement:_=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Ae.Z.h.call(this)},Ae.prototype.h=function(){Ae.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Be="closure_listenable_"+(Math.random()*1e6|0),Te=0;function je(d,v,_,T,W){this.listener=d,this.proxy=null,this.src=v,this.type=_,this.capture=!!T,this.ha=W,this.key=++Te,this.da=this.fa=!1}function ce(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function xe(d,v,_){for(const T in d)v.call(_,d[T],T,d)}function fe(d,v){for(const _ in d)v.call(void 0,d[_],_,d)}function F(d){const v={};for(const _ in d)v[_]=d[_];return v}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(d,v){let _,T;for(let W=1;W<arguments.length;W++){T=arguments[W];for(_ in T)d[_]=T[_];for(let X=0;X<te.length;X++)_=te[X],Object.prototype.hasOwnProperty.call(T,_)&&(d[_]=T[_])}}function _e(d){this.src=d,this.g={},this.h=0}_e.prototype.add=function(d,v,_,T,W){const X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);const me=Ve(d,v,T,W);return me>-1?(v=d[me],_||(v.fa=!1)):(v=new je(v,this.src,X,!!T,W),v.fa=_,d.push(v)),v};function Se(d,v){const _=v.type;if(_ in d.g){var T=d.g[_],W=Array.prototype.indexOf.call(T,v,void 0),X;(X=W>=0)&&Array.prototype.splice.call(T,W,1),X&&(ce(v),d.g[_].length==0&&(delete d.g[_],d.h--))}}function Ve(d,v,_,T){for(let W=0;W<d.length;++W){const X=d[W];if(!X.da&&X.listener==v&&X.capture==!!_&&X.ha==T)return W}return-1}var Ze="closure_lm_"+(Math.random()*1e6|0),Ce={};function Qe(d,v,_,T,W){if(Array.isArray(v)){for(let X=0;X<v.length;X++)Qe(d,v[X],_,T,W);return null}return _=$s(_),d&&d[Be]?d.J(v,_,h(T)?!!T.capture:!1,W):Tt(d,v,_,!1,T,W)}function Tt(d,v,_,T,W,X){if(!v)throw Error("Invalid event type");const me=h(W)?!!W.capture:!!W;let qe=Br(d);if(qe||(d[Ze]=qe=new _e(d)),_=qe.add(v,_,T,me,X),_.proxy)return _;if(T=or(),_.proxy=T,T.src=d,T.listener=_,d.addEventListener)S||(W=me),W===void 0&&(W=!1),d.addEventListener(v.toString(),T,W);else if(d.attachEvent)d.attachEvent(ar(v.toString()),T);else if(d.addListener&&d.removeListener)d.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function or(){function d(_){return v.call(d.src,d.listener,_)}const v=Us;return d}function Vn(d,v,_,T,W){if(Array.isArray(v))for(var X=0;X<v.length;X++)Vn(d,v[X],_,T,W);else T=h(T)?!!T.capture:!!T,_=$s(_),d&&d[Be]?(d=d.i,X=String(v).toString(),X in d.g&&(v=d.g[X],_=Ve(v,_,T,W),_>-1&&(ce(v[_]),Array.prototype.splice.call(v,_,1),v.length==0&&(delete d.g[X],d.h--)))):d&&(d=Br(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Ve(v,_,T,W)),(_=d>-1?v[d]:null)&&br(_))}function br(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Be])Se(v.i,d);else{var _=d.type,T=d.proxy;v.removeEventListener?v.removeEventListener(_,T,d.capture):v.detachEvent?v.detachEvent(ar(_),T):v.addListener&&v.removeListener&&v.removeListener(T),(_=Br(v))?(Se(_,d),_.h==0&&(_.src=null,v[Ze]=null)):ce(d)}}}function ar(d){return d in Ce?Ce[d]:Ce[d]="on"+d}function Us(d,v){if(d.da)d=!0;else{v=new Ae(v,this);const _=d.listener,T=d.ha||d.src;d.fa&&br(d),d=_.call(T,v)}return d}function Br(d){return d=d[Ze],d instanceof _e?d:null}var Ln="__closure_events_fn_"+(Math.random()*1e9>>>0);function $s(d){return typeof d=="function"?d:(d[Ln]||(d[Ln]=function(v){return d.handleEvent(v)}),d[Ln])}function ot(){D.call(this),this.i=new _e(this),this.M=this,this.G=null}x(ot,D),ot.prototype[Be]=!0,ot.prototype.removeEventListener=function(d,v,_,T){Vn(this,d,v,_,T)};function P(d,v){var _,T=d.G;if(T)for(_=[];T;T=T.G)_.push(T);if(d=d.M,T=v.type||v,typeof v=="string")v=new j(v,d);else if(v instanceof j)v.target=v.target||d;else{var W=v;v=new j(T,d),ge(v,W)}W=!0;let X,me;if(_)for(me=_.length-1;me>=0;me--)X=v.g=_[me],W=H(X,T,!0,v)&&W;if(X=v.g=d,W=H(X,T,!0,v)&&W,W=H(X,T,!1,v)&&W,_)for(me=0;me<_.length;me++)X=v.g=_[me],W=H(X,T,!1,v)&&W}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const _=d.g[v];for(let T=0;T<_.length;T++)ce(_[T]);delete d.g[v],d.h--}}this.G=null},ot.prototype.J=function(d,v,_,T){return this.i.add(String(d),v,!1,_,T)},ot.prototype.K=function(d,v,_,T){return this.i.add(String(d),v,!0,_,T)};function H(d,v,_,T){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let W=!0;for(let X=0;X<v.length;++X){const me=v[X];if(me&&!me.da&&me.capture==_){const qe=me.listener,Ft=me.ha||me.src;me.fa&&Se(d.i,me),W=qe.call(Ft,T)!==!1&&W}}return W&&!T.defaultPrevented}function Y(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:l.setTimeout(d,v||0)}function pe(d){d.g=Y(()=>{d.g=null,d.i&&(d.i=!1,pe(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class he extends D{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:pe(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oe(d){D.call(this),this.h=d,this.g={}}x(oe,D);var be=[];function Ye(d){xe(d.g,function(v,_){this.g.hasOwnProperty(_)&&br(v)},d),d.g={}}oe.prototype.N=function(){oe.Z.N.call(this),Ye(this)},oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=l.JSON.stringify,Vt=l.JSON.parse,nn=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function qt(){}function lr(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tr(){j.call(this,"d")}x(Tr,j);function ds(){j.call(this,"c")}x(ds,j);var yn={},hs=null;function Fn(){return hs=hs||new ot}yn.Ia="serverreachability";function zn(d){j.call(this,yn.Ia,d)}x(zn,j);function Hr(d){const v=Fn();P(v,new zn(v))}yn.STAT_EVENT="statevent";function qr(d,v){j.call(this,yn.STAT_EVENT,d),this.stat=v}x(qr,j);function vt(d){const v=Fn();P(v,new qr(v,d))}yn.Ja="timingevent";function wi(d,v){j.call(this,yn.Ja,d),this.size=v}x(wi,j);function Fe(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},v)}function ht(){this.g=!0}ht.prototype.ua=function(){this.g=!1};function Lt(d,v,_,T,W,X){d.info(function(){if(d.g)if(X){var me="",qe=X.split("&");for(let dt=0;dt<qe.length;dt++){var Ft=qe[dt].split("=");if(Ft.length>1){const Kt=Ft[0];Ft=Ft[1];const pr=Kt.split("_");me=pr.length>=2&&pr[1]=="type"?me+(Kt+"="+Ft+"&"):me+(Kt+"=redacted&")}}}else me=null;else me=X;return"XMLHTTP REQ ("+T+") [attempt "+W+"]: "+v+`
`+_+`
`+me})}function ln(d,v,_,T,W,X,me){d.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+W+"]: "+v+`
`+_+`
`+X+" "+me})}function Un(d,v,_,T){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Wt(d,_)+(T?" "+T:"")})}function Dt(d,v){d.info(function(){return"TIMEOUT: "+v})}ht.prototype.info=function(){};function Wt(d,v){if(!d.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(d=0;d<X.length;d++)if(Array.isArray(X[d])){var _=X[d];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var W=T[0];if(W!="noop"&&W!="stop"&&W!="close")for(let me=1;me<T.length;me++)T[me]=""}}}}return Xe(X)}catch{return v}}var cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Nn;function Ir(){}x(Ir,qt),Ir.prototype.g=function(){return new XMLHttpRequest},Nn=new Ir;function cn(d){return encodeURIComponent(String(d))}function fo(d){var v=1;d=d.split(":");const _=[];for(;v>0&&d.length;)_.push(d.shift()),v--;return d.length&&_.push(d.join(":")),_}function Nr(d,v,_,T){this.j=d,this.i=v,this.l=_,this.S=T||1,this.V=new oe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _u}function _u(){this.i=null,this.g="",this.h=!1}var Eu={},kl={};function Wr(d,v,_){d.M=1,d.A=Hs(Sr(v)),d.u=_,d.R=!0,Al(d,null)}function Al(d,v){d.F=Date.now(),mo(d),d.B=Sr(d.A);var _=d.B,T=d.S;Array.isArray(T)||(T=[String(T)]),Fl(_.i,"t",T),d.C=0,_=d.j.L,d.h=new _u,d.g=Pu(d.j,_?v:null,!d.u),d.P>0&&(d.O=new he(g(d.Y,d,d.g),d.P)),v=d.V,_=d.g,T=d.ba;var W="readystatechange";Array.isArray(W)||(W&&(be[0]=W.toString()),W=be);for(let X=0;X<W.length;X++){const me=Qe(_,W[X],T||v.handleEvent,!1,v.h||v);if(!me)break;v.g[me.key]=me}v=d.J?F(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Hr(),Lt(d.i,d.v,d.B,d.l,d.S,d.u)}Nr.prototype.ba=function(d){d=d.target;const v=this.O;v&&xs(d)==3?v.j():this.Y(d)},Nr.prototype.Y=function(d){try{if(d==this.g)e:{const qe=xs(this.g),Ft=this.g.ya(),dt=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||Cu(this.g)))){this.K||qe!=4||Ft==7||(Ft==8||dt<=0?Hr(3):Hr(2)),da(this);var v=this.g.ca();this.X=v;var _=bu(this);if(this.o=v==200,ln(this.i,this.v,this.B,this.l,this.S,qe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var T,W=this.g;if((T=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(T)){var X=T;break t}}X=null}if(d=X)Un(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xt(this,d);else{this.o=!1,this.m=3,vt(12),Bs(this),po(this);break e}}if(this.R){d=!0;let Kt;for(;!this.K&&this.C<_.length;)if(Kt=Iu(this,_),Kt==kl){qe==4&&(this.m=4,vt(14),d=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==Eu){this.m=4,vt(15),Un(this.i,this.l,_,"[Invalid Chunk]"),d=!1;break}else Un(this.i,this.l,Kt,null),xt(this,Kt);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||_.length!=0||this.h.h||(this.m=1,vt(16),d=!1),this.o=this.o&&d,!d)Un(this.i,this.l,_,"[Invalid Chunked Response]"),Bs(this),po(this);else if(_.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),To(me),me.P=!0,vt(11))}}else Un(this.i,this.l,_,null),xt(this,_);qe==4&&Bs(this),this.o&&!this.K&&(qe==4?_a(this.j,this):(this.o=!1,mo(this)))}else Ul(this.g),v==400&&_.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),Bs(this),po(this)}}}catch{}finally{}};function bu(d){if(!Tu(d))return d.g.la();const v=Cu(d.g);if(v==="")return"";let _="";const T=v.length,W=xs(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Bs(d),po(d),"";d.h.i=new l.TextDecoder}for(let X=0;X<T;X++)d.h.h=!0,_+=d.h.i.decode(v[X],{stream:!(W&&X==T-1)});return v.length=0,d.h.g+=_,d.C=0,d.h.g}function Tu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Iu(d,v){var _=d.C,T=v.indexOf(`
`,_);return T==-1?kl:(_=Number(v.substring(_,T)),isNaN(_)?Eu:(T+=1,T+_>v.length?kl:(v=v.slice(T,T+_),d.C=T+_,v)))}Nr.prototype.cancel=function(){this.K=!0,Bs(this)};function mo(d){d.T=Date.now()+d.H,Cl(d,d.H)}function Cl(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Fe(g(d.aa,d),v)}function da(d){d.D&&(l.clearTimeout(d.D),d.D=null)}Nr.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Dt(this.i,this.B),this.M!=2&&(Hr(),vt(17)),Bs(this),this.m=2,po(this)):Cl(this,this.T-d)};function po(d){d.j.I==0||d.K||_a(d.j,d)}function Bs(d){da(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,Ye(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function xt(d,v){try{var _=d.j;if(_.I!=0&&(_.g==d||Pl(_.h,d))){if(!d.L&&Pl(_.h,d)&&_.I==3){try{var T=_.Ba.g.parse(v)}catch{T=null}if(Array.isArray(T)&&T.length==3){var W=T;if(W[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<d.F)wa(_),fr(_);else break e;Es(_),vt(18)}}else _.xa=W[1],0<_.xa-_.K&&W[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Fe(g(_.Va,_),6e3));go(_.h)<=1&&_.ta&&(_.ta=void 0)}else mr(_,11)}else if((d.L||_.g==d)&&wa(_),!N(v))for(W=_.Ba.g.parse(v),v=0;v<W.length;v++){let dt=W[v];const Kt=dt[0];if(!(Kt<=_.K))if(_.K=Kt,dt=dt[1],_.I==2)if(dt[0]=="c"){_.M=dt[1],_.ba=dt[2];const pr=dt[3];pr!=null&&(_.ka=pr,_.j.info("VER="+_.ka));const Zs=dt[4];Zs!=null&&(_.za=Zs,_.j.info("SVER="+_.za));const bs=dt[5];bs!=null&&typeof bs=="number"&&bs>0&&(T=1.5*bs,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Ts=d.g;if(Ts){const Ta=Ts.g?Ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ta){var X=T.h;X.g||Ta.indexOf("spdy")==-1&&Ta.indexOf("quic")==-1&&Ta.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(fa(X,X.h),X.h=null))}if(T.G){const Hl=Ts.g?Ts.g.getResponseHeader("X-HTTP-Session-Id"):null;Hl&&(T.wa=Hl,ct(T.J,T.G,Hl))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-d.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var me=d;if(T.na=Bl(T,T.L?T.ba:null,T.W),me.L){yo(T.h,me);var qe=me,Ft=T.O;Ft&&(qe.H=Ft),qe.D&&(da(qe),mo(qe)),T.g=me}else Sn(T);_.i.length>0&&Ks(_)}else dt[0]!="stop"&&dt[0]!="close"||mr(_,7);else _.I==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?mr(_,7):va(_):dt[0]!="noop"&&_.l&&_.l.qa(dt),_.A=0)}}Hr(4)}catch{}}var Rf=class{constructor(d,v){this.g=d,this.map=v}};function ha(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function go(d){return d.h?1:d.g?d.g.size:0}function Pl(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function fa(d,v){d.g?d.g.add(v):d.h=v}function yo(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}ha.prototype.cancel=function(){if(this.i=ur(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ur(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const _ of d.g.values())v=v.concat(_.G);return v}return C(d.i)}var Nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dr(d,v){if(d){d=d.split("&");for(let _=0;_<d.length;_++){const T=d[_].indexOf("=");let W,X=null;T>=0?(W=d[_].substring(0,T),X=d[_].substring(T+1)):W=d[_],v(W,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function fs(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof fs?(this.l=d.l,vo(this,d.j),this.o=d.o,this.g=d.g,ms(this,d.u),this.h=d.h,_i(this,zl(d.i)),this.m=d.m):d&&(v=String(d).match(Nu))?(this.l=!1,vo(this,v[1]||"",!0),this.o=xo(v[2]||""),this.g=xo(v[3]||"",!0),ms(this,v[4]),this.h=xo(v[5]||"",!0),_i(this,v[6]||"",!0),this.m=xo(v[7]||"")):(this.l=!1,this.i=new st(null,this.l))}fs.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(wo(v,Dl,!0),":");var _=this.g;return(_||v=="file")&&(d.push("//"),(v=this.o)&&d.push(wo(v,Dl,!0),"@"),d.push(cn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&d.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&d.push("/"),d.push(wo(_,_.charAt(0)=="/"?_o:Ol,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",wo(_,Ml)),d.join("")},fs.prototype.resolve=function(d){const v=Sr(this);let _=!!d.j;_?vo(v,d.j):_=!!d.o,_?v.o=d.o:_=!!d.g,_?v.g=d.g:_=d.u!=null;var T=d.h;if(_)ms(v,d.u);else if(_=!!d.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var W=v.h.lastIndexOf("/");W!=-1&&(T=v.h.slice(0,W+1)+T)}if(W=T,W==".."||W==".")T="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){T=W.lastIndexOf("/",0)==0,W=W.split("/");const X=[];for(let me=0;me<W.length;){const qe=W[me++];qe=="."?T&&me==W.length&&X.push(""):qe==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),T&&me==W.length&&X.push("")):(X.push(qe),T=!0)}T=X.join("/")}else T=W}return _?v.h=T:_=d.i.toString()!=="",_?_i(v,zl(d.i)):_=!!d.m,_&&(v.m=d.m),v};function Sr(d){return new fs(d)}function vo(d,v,_){d.j=_?xo(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function ms(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function _i(d,v,_){v instanceof st?(d.i=v,pa(d.i,d.l)):(_||(v=wo(v,Pf)),d.i=new st(v,d.l))}function ct(d,v,_){d.i.set(v,_)}function Hs(d){return ct(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function xo(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function wo(d,v,_){return typeof d=="string"?(d=encodeURI(d).replace(v,jl),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function jl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Dl=/[#\/\?@]/g,Ol=/[#\?:]/g,_o=/[#\?]/g,Pf=/[#\?@]/g,Ml=/#/g;function st(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function ps(d){d.g||(d.g=new Map,d.h=0,d.i&&dr(d.i,function(v,_){d.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}t=st.prototype,t.add=function(d,v){ps(this),this.i=null,d=gs(this,d);let _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(v),this.h+=1,this};function Vl(d,v){ps(d),v=gs(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function ma(d,v){return ps(d),v=gs(d,v),d.g.has(v)}t.forEach=function(d,v){ps(this),this.g.forEach(function(_,T){_.forEach(function(W){d.call(v,W,T,this)},this)},this)};function Ll(d,v){ps(d);let _=[];if(typeof v=="string")ma(d,v)&&(_=_.concat(d.g.get(gs(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)_=_.concat(d[v]);return _}t.set=function(d,v){return ps(this),this.i=null,d=gs(this,d),ma(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=Ll(this,d),d.length>0?String(d[0]):v):v};function Fl(d,v,_){Vl(d,v),_.length>0&&(d.i=null,d.g.set(gs(d,v),C(_)),d.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let T=0;T<v.length;T++){var _=v[T];const W=cn(_);_=Ll(this,_);for(let X=0;X<_.length;X++){let me=W;_[X]!==""&&(me+="="+cn(_[X])),d.push(me)}}return this.i=d.join("&")};function zl(d){const v=new st;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function gs(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function pa(d,v){v&&!d.j&&(ps(d),d.i=null,d.g.forEach(function(_,T){const W=T.toLowerCase();T!=W&&(Vl(this,T),Fl(this,W,_))},d)),d.j=v}function ys(d,v){const _=new ht;if(l.Image){const T=new Image;T.onload=w(vn,_,"TestLoadImage: loaded",!0,v,T),T.onerror=w(vn,_,"TestLoadImage: error",!1,v,T),T.onabort=w(vn,_,"TestLoadImage: abort",!1,v,T),T.ontimeout=w(vn,_,"TestLoadImage: timeout",!1,v,T),l.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=d}else v(!1)}function vs(d,v){const _=new ht,T=new AbortController,W=setTimeout(()=>{T.abort(),vn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:T.signal}).then(X=>{clearTimeout(W),X.ok?vn(_,"TestPingServer: ok",!0,v):vn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),vn(_,"TestPingServer: error",!1,v)})}function vn(d,v,_,T,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),T(_)}catch{}}function Eo(){this.g=new nn}function qs(d){this.i=d.Sb||null,this.h=d.ab||!1}x(qs,qt),qs.prototype.g=function(){return new hr(this.i,this.h)};function hr(d,v){ot.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(hr,ot),t=hr.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,Gr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||l).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Su(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Su(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Ei(this):Gr(this),this.readyState==3&&Su(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,Ei(this))},t.Na=function(d){this.g&&(this.response=d,Ei(this))},t.ga=function(){this.g&&Ei(this)};function Ei(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Gr(d)}t.setRequestHeader=function(d,v){this.A.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,d.push(_[0]+": "+_[1]),_=v.next();return d.join(`\r
`)};function Gr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ku(d){let v="";return xe(d,function(_,T){v+=T,v+=":",v+=_,v+=`\r
`}),v}function ga(d,v,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=ku(_),typeof d=="string"?_!=null&&cn(_):ct(d,v,_))}function ft(d){ot.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(ft,ot);var Au=/^https?$/i,jf=["POST","PUT"];t=ft.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,v,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Nn.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(X){bi(this,X);return}if(d=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var W in T)_.set(W,T[W]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const X of T.keys())_.set(X,T.get(X));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),W=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call(jf,v,void 0)>=0)||T||W||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,me]of _)this.g.setRequestHeader(X,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(X){bi(this,X)}};function bi(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,Ti(d),Gs(d)}function Ti(d){d.A||(d.A=!0,P(d,"complete"),P(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,P(this,"complete"),P(this,"abort"),Gs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gs(this,!0)),ft.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ws(this):this.Xa())},t.Xa=function(){Ws(this)};function Ws(d){if(d.h&&typeof a<"u"){if(d.v&&xs(d)==4)setTimeout(d.Ca.bind(d),0);else if(P(d,"readystatechange"),xs(d)==4){d.h=!1;try{const X=d.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var T;if(T=X===0){let me=String(d.D).match(Nu)[1]||null;!me&&l.self&&l.self.location&&(me=l.self.location.protocol.slice(0,-1)),T=!Au.test(me?me.toLowerCase():"")}_=T}if(_)P(d,"complete"),P(d,"success");else{d.o=6;try{var W=xs(d)>2?d.g.statusText:""}catch{W=""}d.l=W+" ["+d.ca()+"]",Ti(d)}}finally{Gs(d)}}}}function Gs(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const _=d.g;d.g=null,v||P(d,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xs(d){return d.g?d.g.readyState:0}t.ca=function(){try{return xs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Vt(v)}};function Cu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ul(d){const v={};d=(d.g&&xs(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<d.length;T++){if(N(d[T]))continue;var _=fo(d[T]);const W=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=v[W]||[];v[W]=X,X.push(_)}fe(v,function(T){return T.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(d,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||v}function ya(d){this.za=0,this.i=[],this.j=new ht,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ws("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ws("baseRetryDelayMs",5e3,d),this.Za=ws("retryDelaySeedMs",1e4,d),this.Ta=ws("forwardChannelMaxRetries",2,d),this.va=ws("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new ha(d&&d.concurrentRequestLimit),this.Ba=new Eo,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ya.prototype,t.ka=8,t.I=1,t.connect=function(d,v,_,T){vt(0),this.W=d,this.H=v||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=Bl(this,null,this.W),Ks(this)};function va(d){if(xa(d),d.I==3){var v=d.V++,_=Sr(d.J);if(ct(_,"SID",d.M),ct(_,"RID",v),ct(_,"TYPE","terminate"),_s(d,_),v=new Nr(d,d.j,v),v.M=2,v.A=Hs(Sr(_)),_=!1,l.navigator&&l.navigator.sendBeacon)try{_=l.navigator.sendBeacon(v.A.toString(),"")}catch{}!_&&l.Image&&(new Image().src=v.A,_=!0),_||(v.g=Pu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),mo(v)}Io(d)}function fr(d){d.g&&(To(d),d.g.cancel(),d.g=null)}function xa(d){fr(d),d.v&&(l.clearTimeout(d.v),d.v=null),wa(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function Ks(d){if(!Rl(d.h)&&!d.m){d.m=!0;var v=d.Ea;B||I(),de||(B(),de=!0),k.add(v,d),d.D=0}}function Ru(d,v){return go(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Fe(g(d.Ea,d,v),Ea(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const W=new Nr(this,this.j,d);let X=this.o;if(this.U&&(X?(X=F(X),ge(X,this.U)):X=this.U),this.u!==null||this.R||(W.J=X,X=null),this.S)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(v+=T,v>4096){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=$l(this,W,v),_=Sr(this.J),ct(_,"RID",d),ct(_,"CVER",22),this.G&&ct(_,"X-HTTP-Session-Id",this.G),_s(this,_),X&&(this.R?v="headers="+cn(ku(X))+"&"+v:this.u&&ga(_,this.u,X)),fa(this.h,W),this.Ra&&ct(_,"TYPE","init"),this.S?(ct(_,"$req",v),ct(_,"SID","null"),W.U=!0,Wr(W,_,null)):Wr(W,_,v),this.I=2}}else this.I==3&&(d?bo(this,d):this.i.length==0||Rl(this.h)||bo(this))};function bo(d,v){var _;v?_=v.l:_=d.V++;const T=Sr(d.J);ct(T,"SID",d.M),ct(T,"RID",_),ct(T,"AID",d.K),_s(d,T),d.u&&d.o&&ga(T,d.u,d.o),_=new Nr(d,d.j,_,d.D+1),d.u===null&&(_.J=d.o),v&&(d.i=v.G.concat(d.i)),v=$l(d,_,1e3),_.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),fa(d.h,_),Wr(_,T,v)}function _s(d,v){d.H&&xe(d.H,function(_,T){ct(v,T,_)}),d.l&&xe({},function(_,T){ct(v,T,_)})}function $l(d,v,_){_=Math.min(d.i.length,_);const T=d.l?g(d.l.Ka,d.l,d):null;e:{var W=d.i;let qe=-1;for(;;){const Ft=["count="+_];qe==-1?_>0?(qe=W[0].g,Ft.push("ofs="+qe)):qe=0:Ft.push("ofs="+qe);let dt=!0;for(let Kt=0;Kt<_;Kt++){var X=W[Kt].g;const pr=W[Kt].map;if(X-=qe,X<0)qe=Math.max(0,W[Kt].g-100),dt=!1;else try{X="req"+X+"_"||"";try{var me=pr instanceof Map?pr:Object.entries(pr);for(const[Zs,bs]of me){let Ts=bs;h(bs)&&(Ts=Xe(bs)),Ft.push(X+Zs+"="+encodeURIComponent(Ts))}}catch(Zs){throw Ft.push(X+"type="+encodeURIComponent("_badmap")),Zs}}catch{T&&T(pr)}}if(dt){me=Ft.join("&");break e}}me=void 0}return d=d.i.splice(0,_),v.G=d,me}function Sn(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;B||I(),de||(B(),de=!0),k.add(v,d),d.A=0}}function Es(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Fe(g(d.Da,d),Ea(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,Ii(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Fe(g(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),fr(this),Ii(this))};function To(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function Ii(d){d.g=new Nr(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Sr(d.na);ct(v,"RID","rpc"),ct(v,"SID",d.M),ct(v,"AID",d.K),ct(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&ct(v,"TO",d.ia),ct(v,"TYPE","xmlhttp"),_s(d,v),d.u&&d.o&&ga(v,d.u,d.o),d.O&&(d.g.H=d.O);var _=d.g;d=d.ba,_.M=1,_.A=Hs(Sr(v)),_.u=null,_.R=!0,Al(_,d)}t.Va=function(){this.C!=null&&(this.C=null,fr(this),Es(this),vt(19))};function wa(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function _a(d,v){var _=null;if(d.g==v){wa(d),To(d),d.g=null;var T=2}else if(Pl(d.h,v))_=v.G,yo(d.h,v),T=1;else return;if(d.I!=0){if(v.o)if(T==1){_=v.u?v.u.length:0,v=Date.now()-v.F;var W=d.D;T=Fn(),P(T,new wi(T,_)),Ks(d)}else Sn(d);else if(W=v.m,W==3||W==0&&v.X>0||!(T==1&&Ru(d,v)||T==2&&Es(d)))switch(_&&_.length>0&&(v=d.h,v.i=v.i.concat(_)),W){case 1:mr(d,5);break;case 4:mr(d,10);break;case 3:mr(d,6);break;default:mr(d,2)}}}function Ea(d,v){let _=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(_*=2),_*v}function mr(d,v){if(d.j.info("Error code "+v),v==2){var _=g(d.bb,d),T=d.Ua;const W=!T;T=new fs(T||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||vo(T,"https"),Hs(T),W?ys(T.toString(),_):vs(T.toString(),_)}else vt(2);d.I=0,d.l&&d.l.pa(v),Io(d),xa(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Io(d){if(d.I=0,d.ja=[],d.l){const v=ur(d.h);(v.length!=0||d.i.length!=0)&&(O(d.ja,v),O(d.ja,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.oa()}}function Bl(d,v,_){var T=_ instanceof fs?Sr(_):new fs(_);if(T.g!="")v&&(T.g=v+"."+T.g),ms(T,T.u);else{var W=l.location;T=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;const X=new fs(null);T&&vo(X,T),v&&(X.g=v),W&&ms(X,W),_&&(X.h=_),T=X}return _=d.G,v=d.wa,_&&v&&ct(T,_,v),ct(T,"VER",d.ka),_s(d,T),T}function Pu(d,v,_){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new ft(new qs({ab:_})):new ft(d.ma),v.Fa(d.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}t=ju.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ba(){}ba.prototype.g=function(d,v){return new xn(d,v)};function xn(d,v){ot.call(this),this.g=new ya(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!N(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Ni(this)}x(xn,ot),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){va(this.g)},xn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var _={};_.__data__=d,d=_}else this.v&&(_={},_.__data__=Xe(d),d=_);v.i.push(new Rf(v.Ya++,d)),v.I==3&&Ks(v)},xn.prototype.N=function(){this.g.l=null,delete this.j,va(this.g),delete this.g,xn.Z.N.call(this)};function Du(d){Tr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const _ in v){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}x(Du,Tr);function Ou(){ds.call(this),this.status=1}x(Ou,ds);function Ni(d){this.g=d}x(Ni,ju),Ni.prototype.ra=function(){P(this.g,"a")},Ni.prototype.qa=function(d){P(this.g,new Du(d))},Ni.prototype.pa=function(d){P(this.g,new Ou)},Ni.prototype.oa=function(){P(this.g,"b")},ba.prototype.createWebChannel=ba.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,dE=function(){return new ba},uE=function(){return Fn()},cE=yn,Up={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,Qd=cr,Gt.COMPLETE="complete",lE=Gt,lr.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",ot.prototype.listen=ot.prototype.J,Ec=lr,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,aE=ft}).apply(typeof Rd<"u"?Rd:typeof self<"u"?self:typeof window<"u"?window:{});const Qx="@firebase/firestore",Yx="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new Hh("@firebase/firestore");function Wa(){return Go.logLevel}function we(t,...e){if(Go.logLevel<=tt.DEBUG){const n=e.map(Vg);Go.debug(`Firestore (${xl}): ${t}`,...n)}}function mi(t,...e){if(Go.logLevel<=tt.ERROR){const n=e.map(Vg);Go.error(`Firestore (${xl}): ${t}`,...n)}}function al(t,...e){if(Go.logLevel<=tt.WARN){const n=e.map(Vg);Go.warn(`Firestore (${xl}): ${t}`,...n)}}function Vg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hE(t,r,n)}function hE(t,e,n){let r=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw mi(r),new Error(r)}function ut(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||hE(e,i,r)}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ls{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Dn.UNAUTHENTICATED)))}shutdown(){}}class HC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class qC{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let r=this.i;const i=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let a=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ci,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const m=a;e.enqueueRetryable((async()=>{await m.promise,await i(this.currentUser)}))},h=m=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ci)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string",31837,{l:r}),new fE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Dn(e)}}class WC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new WC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Xx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Xx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=ZC(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function $p(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return mp(i)===mp(a)?nt(i,a):mp(i)?1:-1}return nt(t.length,e.length)}const QC=55296,YC=57343;function mp(t){const e=t.charCodeAt(0);return e>=QC&&e<=YC}function ll(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="__name__";class Cs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Cs.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return nt(e.length,n.length)}static compareSegments(e,n){const r=Cs.isNumericId(e),i=Cs.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Cs.extractNumericId(e).compare(Cs.extractNumericId(n)):$p(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class gt extends Cs{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new gt(n)}static emptyPath(){return new gt([])}}const XC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends Cs{construct(e,n,r){return new Tn(e,n,r)}static isValidIdentifier(e){return XC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jx}static keyField(){return new Tn([Jx])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ye(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new ye(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ye(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else h==="`"?(l=!l,i++):h!=="."||l?(r+=h,i++):(a(),i++)}if(a(),l)throw new ye(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(gt.fromString(e))}static fromName(e){return new Pe(gt.fromString(e).popFirst(5))}static empty(){return new Pe(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t,e,n){if(!n)throw new ye(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JC(t,e,n,r){if(e===!0&&r===!0)throw new ye(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ew(t){if(!Pe.isDocumentKey(t))throw new ye(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tw(t){if(Pe.isDocumentKey(t))throw new ye(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Kh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function os(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(t);throw new ye(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t,e){const n={typeString:t};return e&&(n.value=e),n}function cu(t,e){if(!pE(t))throw new ye(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ye(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=-62135596800,rw=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*rw);return new bt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nw)throw new ye(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rw}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Jt("string",bt._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new bt(0,0))}static max(){return new He(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=-1;function eR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new to(i,Pe.empty(),e)}function tR(t){return new to(t.readTime,t.key,qc)}class to{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new to(He.min(),Pe.empty(),qc)}static max(){return new to(He.max(),Pe.empty(),qc)}}function nR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==rR)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,r)=>{n(e)}))}static reject(e){return new ne(((n,r)=>{r(e)}))}static waitFor(e){return new ne(((n,r)=>{let i=0,a=0,l=!1;e.forEach((h=>{++i,h.next((()=>{++a,l&&a===i&&n()}),(m=>r(m)))})),l=!0,a===i&&n()}))}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next((i=>i?ne.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ne(((r,i)=>{const a=e.length,l=new Array(a);let h=0;for(let m=0;m<a;m++){const g=m;n(e[g]).next((w=>{l[g]=w,++h,h===a&&r(l)}),(w=>i(w)))}}))}static doWhile(e,n){return new ne(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function iR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _l(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=-1;function Qh(t){return t==null}function ph(t){return t===0&&1/t==-1/0}function oR(t){return typeof t=="number"&&Number.isInteger(t)&&!ph(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="";function aR(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sw(e)),e=lR(t.get(n),e);return sw(e)}function lR(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case gE:n+="";break;default:n+=a}}return n}function sw(t){return t+gE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||bn.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pd(this.root,e,this.comparator,!0)}}class Pd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??bn.RED,this.left=i??bn.EMPTY,this.right=a??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new bn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ow(this.data.getIterator())}getIteratorFrom(e){return new ow(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class ow{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new wr([])}unionWith(e){let n=new on(Tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new vE("Invalid base64 string: "+a):a}})(e);return new In(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new In(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const cR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=cR.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ro(t){return typeof t=="string"?In.fromBase64String(t):In.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="server_timestamp",wE="__type__",_E="__previous_value__",EE="__local_write_time__";function zg(t){return(t?.mapValue?.fields||{})[wE]?.stringValue===xE}function Yh(t){const e=t.mapValue.fields[_E];return zg(e)?Yh(e):e}function Wc(t){const e=no(t.mapValue.fields[EE].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,r,i,a,l,h,m,g,w){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=w}}const gh="(default)";class Gc{constructor(e,n){this.projectId=e,this.database=n||gh}static empty(){return new Gc("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof Gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="__type__",dR="__max__",jd={mapValue:{}},TE="__vector__",yh="value";function so(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zg(t)?4:fR(t)?9007199254740991:hR(t)?10:11:Ue(28295,{value:t})}function zs(t,e){if(t===e)return!0;const n=so(t);if(n!==so(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wc(t).isEqual(Wc(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=no(i.timestampValue),h=no(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ro(i.bytesValue).isEqual(ro(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return $t(i.geoPointValue.latitude)===$t(a.geoPointValue.latitude)&&$t(i.geoPointValue.longitude)===$t(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return $t(i.integerValue)===$t(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=$t(i.doubleValue),h=$t(a.doubleValue);return l===h?ph(l)===ph(h):isNaN(l)&&isNaN(h)}return!1})(t,e);case 9:return ll(t.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},h=a.mapValue.fields||{};if(iw(l)!==iw(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(h[m]===void 0||!zs(l[m],h[m])))return!1;return!0})(t,e);default:return Ue(52216,{left:t})}}function Kc(t,e){return(t.values||[]).find((n=>zs(n,e)))!==void 0}function cl(t,e){if(t===e)return 0;const n=so(t),r=so(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const h=$t(a.integerValue||a.doubleValue),m=$t(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(t,e);case 3:return aw(t.timestampValue,e.timestampValue);case 4:return aw(Wc(t),Wc(e));case 5:return $p(t.stringValue,e.stringValue);case 6:return(function(a,l){const h=ro(a),m=ro(l);return h.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const h=a.split("/"),m=l.split("/");for(let g=0;g<h.length&&g<m.length;g++){const w=nt(h[g],m[g]);if(w!==0)return w}return nt(h.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const h=nt($t(a.latitude),$t(l.latitude));return h!==0?h:nt($t(a.longitude),$t(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return lw(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const h=a.fields||{},m=l.fields||{},g=h[yh]?.arrayValue,w=m[yh]?.arrayValue,x=nt(g?.values?.length||0,w?.values?.length||0);return x!==0?x:lw(g,w)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===jd.mapValue&&l===jd.mapValue)return 0;if(a===jd.mapValue)return 1;if(l===jd.mapValue)return-1;const h=a.fields||{},m=Object.keys(h),g=l.fields||{},w=Object.keys(g);m.sort(),w.sort();for(let x=0;x<m.length&&x<w.length;++x){const E=$p(m[x],w[x]);if(E!==0)return E;const C=cl(h[m[x]],g[w[x]]);if(C!==0)return C}return nt(m.length,w.length)})(t.mapValue,e.mapValue);default:throw Ue(23264,{he:n})}}function aw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=no(t),r=no(e),i=nt(n.seconds,r.seconds);return i!==0?i:nt(n.nanos,r.nanos)}function lw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=cl(n[i],r[i]);if(a)return a}return nt(n.length,r.length)}function ul(t){return Bp(t)}function Bp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=no(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ro(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Bp(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Bp(n.fields[l])}`;return i+"}"})(t.mapValue):Ue(61005,{value:t})}function Yd(t){switch(so(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yh(t);return e?16+Yd(e):16;case 5:return 2*t.stringValue.length;case 6:return ro(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Yd(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return lo(r.fields,((a,l)=>{i+=a.length+Yd(l)})),i})(t.mapValue);default:throw Ue(13486,{value:t})}}function cw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hp(t){return!!t&&"integerValue"in t}function Ug(t){return!!t&&"arrayValue"in t}function uw(t){return!!t&&"nullValue"in t}function dw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xd(t){return!!t&&"mapValue"in t}function hR(t){return(t?.mapValue?.fields||{})[bE]?.stringValue===TE}function Pc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return lo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Pc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pc(t.arrayValue.values[n]);return e}return{...t}}function fR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pc(n)}setAll(e){let n=Tn.emptyPath(),r={},i=[];e.forEach(((l,h)=>{if(!n.isImmediateParentOf(h)){const m=this.getFieldsMap(n);this.applyChanges(m,r,i),r={},i=[],n=h.popLast()}l?r[h.lastSegment()]=Pc(l):i.push(h.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){lo(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new sr(Pc(this.value))}}function IE(t){const e=[];return lo(t.fields,((n,r)=>{const i=new Tn([n]);if(Xd(r)){const a=IE(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n,r,i,a,l,h){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new On(e,0,He.min(),He.min(),He.min(),sr.empty(),0)}static newFoundDocument(e,n,r,i){return new On(e,1,n,He.min(),r,i,0)}static newNoDocument(e,n){return new On(e,2,n,He.min(),He.min(),sr.empty(),0)}static newUnknownDocument(e,n){return new On(e,3,n,He.min(),He.min(),sr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.position=e,this.inclusive=n}}function hw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Pe.comparator(Pe.fromName(l.referenceValue),n.key):r=cl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function fw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function mR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{}class Xt extends NE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gR(e,n,r):n==="array-contains"?new xR(e,r):n==="in"?new wR(e,r):n==="not-in"?new _R(e,r):n==="array-contains-any"?new ER(e,r):new Xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yR(e,r):new vR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cl(n,this.value)):n!==null&&so(this.value)===so(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class as extends NE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new as(e,n)}matches(e){return SE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SE(t){return t.op==="and"}function kE(t){return pR(t)&&SE(t)}function pR(t){for(const e of t.filters)if(e instanceof as)return!1;return!0}function qp(t){if(t instanceof Xt)return t.field.canonicalString()+t.op.toString()+ul(t.value);if(kE(t))return t.filters.map((e=>qp(e))).join(",");{const e=t.filters.map((n=>qp(n))).join(",");return`${t.op}(${e})`}}function AE(t,e){return t instanceof Xt?(function(r,i){return i instanceof Xt&&r.op===i.op&&r.field.isEqual(i.field)&&zs(r.value,i.value)})(t,e):t instanceof as?(function(r,i){return i instanceof as&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,h)=>a&&AE(l,i.filters[h])),!0):!1})(t,e):void Ue(19439)}function CE(t){return t instanceof Xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ul(n.value)}`})(t):t instanceof as?(function(n){return n.op.toString()+" {"+n.getFilters().map(CE).join(" ,")+"}"})(t):"Filter"}class gR extends Xt{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class yR extends Xt{constructor(e,n){super(e,"in",n),this.keys=RE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class vR extends Xt{constructor(e,n){super(e,"not-in",n),this.keys=RE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function RE(t,e){return(e.arrayValue?.values||[]).map((n=>Pe.fromName(n.referenceValue)))}class xR extends Xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ug(n)&&Kc(n.arrayValue,this.value)}}class wR extends Xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kc(this.value.arrayValue,n)}}class _R extends Xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kc(this.value.arrayValue,n)}}class ER extends Xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Kc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n=null,r=[],i=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=h,this.Te=null}}function mw(t,e=null,n=[],r=[],i=null,a=null,l=null){return new bR(t,e,n,r,i,a,l)}function $g(t){const e=We(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>qp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ul(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ul(r))).join(",")),e.Te=n}return e.Te}function Bg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fw(t.startAt,e.startAt)&&fw(t.endAt,e.endAt)}function Wp(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n=null,r=[],i=[],a=null,l="F",h=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TR(t,e,n,r,i,a,l,h){return new El(t,e,n,r,i,a,l,h)}function Hg(t){return new El(t)}function pw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PE(t){return t.collectionGroup!==null}function jc(t){const e=We(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new on(Tn.comparator);return l.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Zc(a,r))})),n.has(Tn.keyField().canonicalString())||e.Ie.push(new Zc(Tn.keyField(),r))}return e.Ie}function Os(t){const e=We(t);return e.Ee||(e.Ee=IR(e,jc(t))),e.Ee}function IR(t,e){if(t.limitType==="F")return mw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Zc(i.field,a)}));const n=t.endAt?new vh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vh(t.startAt.position,t.startAt.inclusive):null;return mw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gp(t,e){const n=t.filters.concat([e]);return new El(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kp(t,e,n){return new El(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xh(t,e){return Bg(Os(t),Os(e))&&t.limitType===e.limitType}function jE(t){return`${$g(Os(t))}|lt:${t.limitType}`}function Ga(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>CE(i))).join(", ")}]`),Qh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>ul(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>ul(i))).join(",")),`Target(${r})`})(Os(t))}; limitType=${t.limitType})`}function Jh(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Pe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of jc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,h,m){const g=hw(l,h,m);return l.inclusive?g<=0:g<0})(r.startAt,jc(r),i)||r.endAt&&!(function(l,h,m){const g=hw(l,h,m);return l.inclusive?g>=0:g>0})(r.endAt,jc(r),i))})(t,e)}function NR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DE(t){return(e,n)=>{let r=!1;for(const i of jc(t)){const a=SR(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function SR(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):(function(a,l,h){const m=l.data.field(a),g=h.data.field(a);return m!==null&&g!==null?cl(m,g):Ue(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return yE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Pt(Pe.comparator);function pi(){return kR}const OE=new Pt(Pe.comparator);function bc(...t){let e=OE;for(const n of t)e=e.insert(n.key,n);return e}function ME(t){let e=OE;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Uo(){return Dc()}function VE(){return Dc()}function Dc(){return new sa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const AR=new Pt(Pe.comparator),CR=new on(Pe.comparator);function rt(...t){let e=CR;for(const n of t)e=e.add(n);return e}const RR=new on(nt);function PR(){return RR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function LE(t){return{integerValue:""+t}}function jR(t,e){return oR(e)?LE(e):qg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this._=void 0}}function DR(t,e,n){return t instanceof xh?(function(i,a){const l={fields:{[wE]:{stringValue:xE},[EE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&zg(a)&&(a=Yh(a)),a&&(l.fields[_E]=a),{mapValue:l}})(n,e):t instanceof Qc?zE(t,e):t instanceof Yc?UE(t,e):(function(i,a){const l=FE(i,a),h=gw(l)+gw(i.Ae);return Hp(l)&&Hp(i.Ae)?LE(h):qg(i.serializer,h)})(t,e)}function OR(t,e,n){return t instanceof Qc?zE(t,e):t instanceof Yc?UE(t,e):n}function FE(t,e){return t instanceof wh?(function(r){return Hp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class xh extends ef{}class Qc extends ef{constructor(e){super(),this.elements=e}}function zE(t,e){const n=$E(e);for(const r of t.elements)n.some((i=>zs(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Yc extends ef{constructor(e){super(),this.elements=e}}function UE(t,e){let n=$E(e);for(const r of t.elements)n=n.filter((i=>!zs(i,r)));return{arrayValue:{values:n}}}class wh extends ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gw(t){return $t(t.integerValue||t.doubleValue)}function $E(t){return Ug(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function MR(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Qc&&i instanceof Qc||r instanceof Yc&&i instanceof Yc?ll(r.elements,i.elements,zs):r instanceof wh&&i instanceof wh?zs(r.Ae,i.Ae):r instanceof xh&&i instanceof xh})(t.transform,e.transform)}class VR{constructor(e,n){this.version=e,this.transformResults=n}}class Vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tf{}function BE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wg(t.key,Vr.none()):new uu(t.key,t.data,Vr.none());{const n=t.data,r=sr.empty();let i=new on(Tn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new co(t.key,r,new wr(i.toArray()),Vr.none())}}function LR(t,e,n){t instanceof uu?(function(i,a,l){const h=i.value.clone(),m=vw(i.fieldTransforms,a,l.transformResults);h.setAll(m),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(t,e,n):t instanceof co?(function(i,a,l){if(!Jd(i.precondition,a))return void a.convertToUnknownDocument(l.version);const h=vw(i.fieldTransforms,a,l.transformResults),m=a.data;m.setAll(HE(i)),m.setAll(h),a.convertToFoundDocument(l.version,m).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Oc(t,e,n,r){return t instanceof uu?(function(a,l,h,m){if(!Jd(a.precondition,l))return h;const g=a.value.clone(),w=xw(a.fieldTransforms,m,l);return g.setAll(w),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),null})(t,e,n,r):t instanceof co?(function(a,l,h,m){if(!Jd(a.precondition,l))return h;const g=xw(a.fieldTransforms,m,l),w=l.data;return w.setAll(HE(a)),w.setAll(g),l.convertToFoundDocument(l.version,w).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((x=>x.field)))})(t,e,n,r):(function(a,l,h){return Jd(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h})(t,e,n)}function FR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=FE(r.transform,i||null);a!=null&&(n===null&&(n=sr.empty()),n.set(r.field,a))}return n||null}function yw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ll(r,i,((a,l)=>MR(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uu extends tf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class co extends tf{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function HE(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function vw(t,e,n){const r=new Map;ut(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,h=e.data.field(a.field);r.set(a.field,OR(l,h,n[i]))}return r}function xw(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,DR(a,l,e))}return r}class Wg extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zR extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&LR(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Oc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Oc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VE();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(i.key)?null:h;const m=BE(l,h);m!==null&&r.set(i.key,m),l.isValidDocument()||l.convertToNoDocument(He.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),rt())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,((n,r)=>yw(n,r)))&&ll(this.baseMutations,e.baseMutations,((n,r)=>yw(n,r)))}}class Gg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ut(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return AR})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Gg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,it;function HR(t){switch(t){case J.OK:return Ue(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function qE(t){if(t===void 0)return mi("GRPC error has no .code"),J.UNKNOWN;switch(t){case Yt.OK:return J.OK;case Yt.CANCELLED:return J.CANCELLED;case Yt.UNKNOWN:return J.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return J.INTERNAL;case Yt.UNAVAILABLE:return J.UNAVAILABLE;case Yt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Yt.NOT_FOUND:return J.NOT_FOUND;case Yt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Yt.ABORTED:return J.ABORTED;case Yt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Yt.DATA_LOSS:return J.DATA_LOSS;default:return Ue(39323,{code:t})}}(it=Yt||(Yt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new Qi([4294967295,4294967295],0);function ww(t){const e=qR().encode(t),n=new oE;return n.update(e),new Uint8Array(n.digest())}function _w(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Qi([n,r],0),new Qi([i,a],0)]}class Kg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tc(`Invalid padding: ${n}`);if(r<0)throw new Tc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Tc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qi.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Qi.fromNumber(r)));return i.compare(WR)===1&&(i=new Qi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ww(e),[r,i]=_w(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Kg(a,i,n);return r.forEach((h=>l.insert(h))),l}insert(e){if(this.ge===0)return;const n=ww(e),[r,i]=_w(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nf(He.min(),i,new Pt(nt),pi(),rt())}}class du{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new du(r,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class WE{constructor(e,n){this.targetId=e,this.Ce=n}}class GE{constructor(e,n,r=In.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ew{constructor(){this.ve=0,this.Fe=bw(),this.Me=In.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rt(),n=rt(),r=rt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ue(38017,{changeType:a})}})),new du(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=bw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GR{constructor(e){this.Ge=e,this.ze=new Map,this.je=pi(),this.Je=Dd(),this.He=Dd(),this.Ye=new Pt(nt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Wp(a))if(r===0){const l=new Pe(a.path);this.et(n,l,On.newNoDocument(l,He.min()))}else ut(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const h=this.ut(e),m=h?this.ct(h,e,l):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,h;try{l=ro(r).toUint8Array()}catch(m){if(m instanceof vE)return al("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new Kg(l,i,a)}catch(m){return al(m instanceof Tc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const h=this.ot(l);if(h){if(a.current&&Wp(h.target)){const m=new Pe(h.target.path);this.It(m).has(l)||this.Et(l,m)||this.et(l,m,On.newNoDocument(m,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=rt();this.He.forEach(((a,l)=>{let h=!0;l.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new nf(e,n,this.Ye,this.je,r);return this.je=pi(),this.Je=Dd(),this.He=Dd(),this.Ye=new Pt(nt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ew,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new on(nt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new on(nt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ew),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Dd(){return new Pt(Pe.comparator)}function bw(){return new Pt(Pe.comparator)}const KR={asc:"ASCENDING",desc:"DESCENDING"},ZR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QR={and:"AND",or:"OR"};class YR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zp(t,e){return t.useProto3Json||Qh(e)?e:{value:e}}function _h(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XR(t,e){return _h(t,e.toTimestamp())}function Ms(t){return ut(!!t,49232),He.fromTimestamp((function(n){const r=no(n);return new bt(r.seconds,r.nanos)})(t))}function Zg(t,e){return Qp(t,e).canonicalString()}function Qp(t,e){const n=(function(i){return new gt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ZE(t){const e=gt.fromString(t);return ut(eb(e),10190,{key:e.toString()}),e}function Yp(t,e){return Zg(t.databaseId,e.path)}function pp(t,e){const n=ZE(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(YE(n))}function QE(t,e){return Zg(t.databaseId,e)}function JR(t){const e=ZE(t);return e.length===4?gt.emptyPath():YE(e)}function Xp(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YE(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Tw(t,e,n){return{name:Yp(t,e),fields:n.value.mapValue.fields}}function eP(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ue(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(g,w){return g.useProto3Json?(ut(w===void 0||typeof w=="string",58123),In.fromBase64String(w||"")):(ut(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),In.fromUint8Array(w||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&(function(g){const w=g.code===void 0?J.UNKNOWN:qE(g.code);return new ye(w,g.message||"")})(l);n=new GE(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pp(t,r.document.name),a=Ms(r.document.updateTime),l=r.document.createTime?Ms(r.document.createTime):He.min(),h=new sr({mapValue:{fields:r.document.fields}}),m=On.newFoundDocument(i,a,l,h),g=r.targetIds||[],w=r.removedTargetIds||[];n=new eh(g,w,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pp(t,r.document),a=r.readTime?Ms(r.readTime):He.min(),l=On.newNoDocument(i,a),h=r.removedTargetIds||[];n=new eh([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pp(t,r.document),a=r.removedTargetIds||[];n=new eh([],a,i,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new BR(i,a),h=r.targetId;n=new WE(h,l)}}return n}function tP(t,e){let n;if(e instanceof uu)n={update:Tw(t,e.key,e.value)};else if(e instanceof Wg)n={delete:Yp(t,e.key)};else if(e instanceof co)n={update:Tw(t,e.key,e.data),updateMask:uP(e.fieldMask)};else{if(!(e instanceof zR))return Ue(16599,{Vt:e.type});n={verify:Yp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const h=l.transform;if(h instanceof xh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Qc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Yc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof wh)return{fieldPath:l.field.canonicalString(),increment:h.Ae};throw Ue(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:XR(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ue(27497)})(t,e.precondition)),n}function nP(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?Ms(i.updateTime):Ms(a);return l.isEqual(He.min())&&(l=Ms(a)),new VR(l,i.transformResults||[])})(n,e)))):[]}function rP(t,e){return{documents:[QE(t,e.path)]}}function sP(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QE(t,i);const a=(function(g){if(g.length!==0)return JE(as.create(g,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(g){if(g.length!==0)return g.map((w=>(function(E){return{field:Ka(E.field),direction:aP(E.dir)}})(w)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=Zp(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:i}}function iP(t){let e=JR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ut(r===1,65062);const w=n.from[0];w.allDescendants?i=w.collectionId:e=e.child(w.collectionId)}let a=[];n.where&&(a=(function(x){const E=XE(x);return E instanceof as&&kE(E)?E.getFilters():[E]})(n.where));let l=[];n.orderBy&&(l=(function(x){return x.map((E=>(function(O){return new Zc(Za(O.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(x){let E;return E=typeof x=="object"?x.value:x,Qh(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(x){const E=!!x.before,C=x.values||[];return new vh(C,E)})(n.startAt));let g=null;return n.endAt&&(g=(function(x){const E=!x.before,C=x.values||[];return new vh(C,E)})(n.endAt)),TR(e,i,l,a,h,"F",m,g)}function oP(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XE(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Za(n.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Za(n.unaryFilter.field);return Xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Za(n.unaryFilter.field);return Xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Za(n.unaryFilter.field);return Xt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Xt.create(Za(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return as.create(n.compositeFilter.filters.map((r=>XE(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(n.compositeFilter.op))})(t):Ue(30097,{filter:t})}function aP(t){return KR[t]}function lP(t){return ZR[t]}function cP(t){return QR[t]}function Ka(t){return{fieldPath:t.canonicalString()}}function Za(t){return Tn.fromServerFormat(t.fieldPath)}function JE(t){return t instanceof Xt?(function(n){if(n.op==="=="){if(dw(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NAN"}};if(uw(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dw(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NAN"}};if(uw(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(n.field),op:lP(n.op),value:n.value}}})(t):t instanceof as?(function(n){const r=n.getFilters().map((i=>JE(i)));return r.length===1?r[0]:{compositeFilter:{op:cP(n.op),filters:r}}})(t):Ue(54877,{filter:t})}function uP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function eb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n,r,i,a=He.min(),l=He.min(),h=In.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.yt=e}}function hP(t){const e=iP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.Cn=new mP}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(to.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(to.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class mP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new on(gt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new on(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tb=41943040;class er{static withCacheSize(e){return new er(e,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */er.DEFAULT_COLLECTION_PERCENTILE=10,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,er.DEFAULT=new er(tb,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),er.DISABLED=new er(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new dl(0)}static cr(){return new dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="LruGarbageCollector",pP=1048576;function Sw([t,e],[n,r]){const i=nt(t,n);return i===0?nt(e,r):i}class gP{constructor(e){this.Ir=e,this.buffer=new on(Sw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Sw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yP{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(Nw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_l(n)?we(Nw,"Ignoring IndexedDB error during garbage collection: ",n):await wl(n)}await this.Vr(3e5)}))}}class vP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Zh.ce);const r=new gP(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Iw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,h,m,g;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,l=Date.now(),this.nthSequenceNumber(e,i)))).next((x=>(r=x,h=Date.now(),this.removeTargets(e,r,n)))).next((x=>(a=x,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(g=Date.now(),Wa()<=tt.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-w}ms
	Determined least recently used ${i} in `+(h-l)+`ms
	Removed ${a} targets in `+(m-h)+`ms
	Removed ${x} documents in `+(g-m)+`ms
Total Duration: ${g-w}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x}))))}}function xP(t,e){return new vP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.changes=new sa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Oc(r.mutation,i,wr.empty(),bt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,rt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=rt()){const i=Uo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=bc();return a.forEach(((h,m)=>{l=l.insert(h,m.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Uo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,rt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,h)=>{n.set(l,h)}))}))}computeViews(e,n,r,i){let a=pi();const l=Dc(),h=(function(){return Dc()})();return n.forEach(((m,g)=>{const w=r.get(g.key);i.has(g.key)&&(w===void 0||w.mutation instanceof co)?a=a.insert(g.key,g):w!==void 0?(l.set(g.key,w.mutation.getFieldMask()),Oc(w.mutation,g,w.mutation.getFieldMask(),bt.now())):l.set(g.key,wr.empty())})),this.recalculateAndSaveOverlays(e,a).next((m=>(m.forEach(((g,w)=>l.set(g,w))),n.forEach(((g,w)=>h.set(g,new _P(w,l.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Dc();let i=new Pt(((l,h)=>l-h)),a=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const h of l)h.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let w=r.get(m)||wr.empty();w=h.applyToLocalView(g,w),r.set(m,w);const x=(i.get(h.batchId)||rt()).add(m);i=i.insert(h.batchId,x)}))})).next((()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),g=m.key,w=m.value,x=VE();w.forEach((E=>{if(!a.has(E)){const C=BE(n.get(E),r.get(E));C!==null&&x.set(E,C),a=a.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,g,x))}return ne.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Pe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ne.resolve(Uo());let h=qc,m=a;return l.next((g=>ne.forEach(g,((w,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),a.get(w)?ne.resolve():this.remoteDocumentCache.getEntry(e,w).next((E=>{m=m.insert(w,E)}))))).next((()=>this.populateOverlays(e,g,a))).next((()=>this.computeViews(e,m,g,rt()))).next((w=>({batchId:h,changes:ME(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next((r=>{let i=bc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=bc();return this.indexManager.getCollectionParents(e,a).next((h=>ne.forEach(h,(m=>{const g=(function(x,E){return new El(E,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,m.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,r,i).next((w=>{w.forEach(((x,E)=>{l=l.insert(x,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((m,g)=>{const w=g.getKey();l.get(w)===null&&(l=l.insert(w,On.newInvalidDocument(w)))}));let h=bc();return l.forEach(((m,g)=>{const w=a.get(m);w!==void 0&&Oc(w.mutation,g,wr.empty(),bt.now()),Jh(n,g)&&(h=h.insert(m,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ms(i.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:hP(i.bundledQuery),readTime:Ms(i.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.overlays=new Pt(Pe.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Uo();return ne.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const i=Uo(),a=n.length+1,l=new Pe(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const m=h.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Pt(((g,w)=>g-w));const l=this.overlays.getIterator();for(;l.hasNext();){const g=l.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let w=a.get(g.largestBatchId);w===null&&(w=Uo(),a=a.insert(g.largestBatchId,w)),w.set(g.getKey(),g)}}const h=Uo(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,w)=>h.set(g,w))),!(h.size()>=i)););return ne.resolve(h)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new $R(n,r));let a=this.qr.get(n);a===void 0&&(a=rt(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.Qr=new on(mn.$r),this.Ur=new on(mn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new mn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new mn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Pe(new gt([])),r=new mn(n,e),i=new mn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Pe(new gt([])),r=new mn(n,e),i=new mn(n,e+1);let a=rt();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new mn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Pe.comparator(e.key,n.key)||nt(e.Yr,n.Yr)}static Kr(e,n){return nt(e.Yr,n.Yr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new on(mn.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new UR(a,n,r,i);this.mutationQueue.push(l);for(const h of i)this.Zr=this.Zr.add(new mn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Fg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mn(n,0),i=new mn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const h=this.Xr(l.Yr);a.push(h)})),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new on(nt);return n.forEach((i=>{const a=new mn(i,0),l=new mn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(h=>{r=r.add(h.Yr)}))})),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Pe.isDocumentKey(a)||(a=a.child(""));const l=new mn(new Pe(a),0);let h=new on(nt);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===i&&(h=h.add(m.Yr)),!0)}),l),ne.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(n.mutations,(i=>{const a=new mn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new mn(n,0),i=this.Zr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.ri=e,this.docs=(function(){return new Pt(Pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let r=pi();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():On.newInvalidDocument(i))})),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=pi();const l=n.path,h=new Pe(l.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:g,value:{document:w}}=m.getNext();if(!l.isPrefixOf(g.path))break;g.path.length>l.length+1||nR(tR(w),r)<=0||(i.has(w.key)||Jh(n,w))&&(a=a.insert(w.key,w.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ue(9500)}ii(e,n){return ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new kP(this)}getSize(e){return ne.resolve(this.size)}}class kP extends wP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.persistence=e,this.si=new sa((n=>$g(n)),Bg),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.oi=0,this._i=new Qg,this.targetCount=0,this.ai=dl.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),ne.waitFor(a).next((()=>i))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),ne.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Zh(0),this.li=!1,this.li=!0,this.hi=new IP,this.referenceDelegate=e(this),this.Pi=new AP(this),this.indexManager=new fP,this.remoteDocumentCache=(function(i){return new SP(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new dP(n),this.Ii=new bP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new NP(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new CP(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class CP extends sR{constructor(e){super(),this.currentSequenceNumber=e}}class Yg{constructor(e){this.persistence=e,this.Ri=new Qg,this.Vi=null}static mi(e){return new Yg(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(r=>{const i=Pe.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,He.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Eh{constructor(e,n){this.persistence=e,this.pi=new sa((r=>aR(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=xP(this,n)}static mi(e,n){return new Eh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?ne.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((h=>{h||(r++,a.removeEntry(l,He.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yd(e.data.value)),n}br(e,n,r){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ne.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=rt(),i=rt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Xg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sk()?8:iR(Mn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new RP;return this.Ss(e,n,l).next((h=>{if(a.result=h,this.Vs)return this.bs(e,n,l,h.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Wa()<=tt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Wa()<=tt.DEBUG&&we("QueryEngine","Query:",Ga(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Wa()<=tt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Os(n))):ne.resolve())}ys(e,n){if(pw(n))return ne.resolve(null);let r=Os(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Kp(n,null,"F"),r=Os(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=rt(...a);return this.ps.getDocuments(e,l).next((h=>this.indexManager.getMinOffset(e,r).next((m=>{const g=this.Ds(n,h);return this.Cs(n,g,l,m.readTime)?this.ys(e,Kp(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,r,i){return pw(n)||i.isEqual(He.min())?ne.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?ne.resolve(null):(Wa()<=tt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ga(n)),this.vs(e,l,n,eR(i,qc)).next((h=>h)))}))}Ds(e,n){let r=new on(DE(e));return n.forEach(((i,a)=>{Jh(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Wa()<=tt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.ps.getDocumentsMatchingQuery(e,n,to.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="LocalStore",jP=3e8;class DP{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Pt(nt),this.xs=new sa((a=>$g(a)),Bg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function OP(t,e,n,r){return new DP(t,e,n,r)}async function rb(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],h=[];let m=rt();for(const g of i){l.push(g.batchId);for(const w of g.mutations)m=m.add(w.key)}for(const g of a){h.push(g.batchId);for(const w of g.mutations)m=m.add(w.key)}return n.localDocuments.getDocuments(r,m).next((g=>({Ls:g,removedBatchIds:l,addedBatchIds:h})))}))}))}function MP(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,g,w){const x=g.batch,E=x.keys();let C=ne.resolve();return E.forEach((O=>{C=C.next((()=>w.getEntry(m,O))).next((U=>{const M=g.docVersions.get(O);ut(M!==null,48541),U.version.compareTo(M)<0&&(x.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),w.addEntry(U)))}))})),C.next((()=>h.mutationQueue.removeMutationBatch(m,x)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let m=rt();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(m=m.add(h.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function sb(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function VP(t,e){const n=We(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const h=[];e.targetChanges.forEach(((w,x)=>{const E=i.get(x);if(!E)return;h.push(n.Pi.removeMatchingKeys(a,w.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(a,w.addedDocuments,x))));let C=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(x)!==null?C=C.withResumeToken(In.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):w.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(w.resumeToken,r)),i=i.insert(x,C),(function(U,M,G){return U.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=jP?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(E,C,w)&&h.push(n.Pi.updateTargetData(a,C))}));let m=pi(),g=rt();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,w))})),h.push(LP(a,l,e.documentUpdates).next((w=>{m=w.ks,g=w.qs}))),!r.isEqual(He.min())){const w=n.Pi.getLastRemoteSnapshotVersion(a).next((x=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(w)}return ne.waitFor(h).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,m,g))).next((()=>m))})).then((a=>(n.Ms=i,a)))}function LP(t,e,n){let r=rt(),i=rt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=pi();return n.forEach(((h,m)=>{const g=a.get(h);m.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(h)),m.isNoDocument()&&m.version.isEqual(He.min())?(e.removeEntry(h,m.readTime),l=l.insert(h,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),l=l.insert(h,m)):we(Jg,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",m.version)})),{ks:l,qs:i}}))}function FP(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Fg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function zP(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,ne.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Gi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Jp(t,e,n){const r=We(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!_l(l))throw l;we(Jg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function kw(t,e,n){const r=We(t);let i=He.min(),a=rt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(m,g,w){const x=We(m),E=x.xs.get(w);return E!==void 0?ne.resolve(x.Ms.get(E)):x.Pi.getTargetData(g,w)})(r,l,Os(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,h.targetId).next((m=>{a=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:He.min(),n?a:rt()))).next((h=>(UP(r,NR(e),h),{documents:h,Qs:a})))))}function UP(t,e,n){let r=t.Os.get(e)||He.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class Aw{constructor(){this.activeTargetIds=PR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $P{constructor(){this.Mo=new Aw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Aw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="ConnectivityMonitor";class Rw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(Cw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(Cw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od=null;function eg(){return Od===null?Od=(function(){return 268435456+Math.round(2147483648*Math.random())})():Od++,"0x"+Od.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="RestConnection",HP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===gh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=eg(),h=this.zo(e,n.toUriEncodedString());we(gp,`Sending RPC '${e}' ${l}:`,h,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,i,a);const{host:g}=new URL(h),w=gl(g);return this.Jo(e,h,m,r,w).then((x=>(we(gp,`Received RPC '${e}' ${l}: `,x),x)),(x=>{throw al(gp,`RPC '${e}' ${l} failed with error: `,x,"url: ",h,"request:",r),x}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=HP[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="WebChannelConnection";class GP extends qP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=eg();return new Promise(((h,m)=>{const g=new aE;g.setWithCredentials(!0),g.listenOnce(lE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Qd.NO_ERROR:const x=g.getResponseJson();we(Pn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(x)),h(x);break;case Qd.TIMEOUT:we(Pn,`RPC '${e}' ${l} timed out`),m(new ye(J.DEADLINE_EXCEEDED,"Request time out"));break;case Qd.HTTP_ERROR:const E=g.getStatus();if(we(Pn,`RPC '${e}' ${l} failed with status:`,E,"response text:",g.getResponseText()),E>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const O=C?.error;if(O&&O.status&&O.message){const U=(function(G){const $=G.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf($)>=0?$:J.UNKNOWN})(O.status);m(new ye(U,O.message))}else m(new ye(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ye(J.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:l,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{we(Pn,`RPC '${e}' ${l} completed.`)}}));const w=JSON.stringify(i);we(Pn,`RPC '${e}' ${l} sending request:`,i),g.send(n,"POST",w,r,15)}))}T_(e,n,r){const i=eg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=dE(),h=uE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const w=a.join("");we(Pn,`Creating RPC '${e}' stream ${i}: ${w}`,m);const x=l.createWebChannel(w,m);this.I_(x);let E=!1,C=!1;const O=new WP({Yo:M=>{C?we(Pn,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(E||(we(Pn,`Opening RPC '${e}' stream ${i} transport.`),x.open(),E=!0),we(Pn,`RPC '${e}' stream ${i} sending:`,M),x.send(M))},Zo:()=>x.close()}),U=(M,G,$)=>{M.listen(G,(Q=>{try{$(Q)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return U(x,Ec.EventType.OPEN,(()=>{C||(we(Pn,`RPC '${e}' stream ${i} transport opened.`),O.o_())})),U(x,Ec.EventType.CLOSE,(()=>{C||(C=!0,we(Pn,`RPC '${e}' stream ${i} transport closed`),O.a_(),this.E_(x))})),U(x,Ec.EventType.ERROR,(M=>{C||(C=!0,al(Pn,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),O.a_(new ye(J.UNAVAILABLE,"The operation could not be completed")))})),U(x,Ec.EventType.MESSAGE,(M=>{if(!C){const G=M.data[0];ut(!!G,16349);const $=G,Q=$?.error||$[0]?.error;if(Q){we(Pn,`RPC '${e}' stream ${i} received error:`,Q);const ee=Q.status;let B=(function(I){const A=Yt[I];if(A!==void 0)return qE(A)})(ee),de=Q.message;B===void 0&&(B=J.INTERNAL,de="Unknown error status: "+ee+" with message "+Q.message),C=!0,O.a_(new ye(B,de)),x.close()}else we(Pn,`RPC '${e}' stream ${i} received:`,G),O.u_(G)}})),U(h,cE.STAT_EVENT,(M=>{M.stat===Up.PROXY?we(Pn,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Up.NOPROXY&&we(Pn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(t){return new YR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="PersistentStream";class ob{constructor(e,n,r,i,a,l,h,m){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ib(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ye(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(Pw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(we(Pw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KP extends ob{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=eP(this.serializer,e),r=(function(a){if(!("targetChange"in a))return He.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?He.min():l.readTime?Ms(l.readTime):He.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Xp(this.serializer),n.addTarget=(function(a,l){let h;const m=l.target;if(h=Wp(m)?{documents:rP(a,m)}:{query:sP(a,m).ft},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=KE(a,l.resumeToken);const g=Zp(a,l.expectedCount);g!==null&&(h.expectedCount=g)}else if(l.snapshotVersion.compareTo(He.min())>0){h.readTime=_h(a,l.snapshotVersion.toTimestamp());const g=Zp(a,l.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const r=oP(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Xp(this.serializer),n.removeTarget=e,this.q_(n)}}class ZP extends ob{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nP(e.writeResults,e.commitTime),r=Ms(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Xp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>tP(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{}class YP extends QP{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ye(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,Qp(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(J.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Ho(e,Qp(n,r),i,l,h,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(J.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mi(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="RemoteStore";class JP{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{ia(this)&&(we(Ko,"Restarting streams for network reachability change."),await(async function(m){const g=We(m);g.Ea.add(4),await hu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await sf(g)})(this))}))})),this.Ra=new XP(r,i)}}async function sf(t){if(ia(t))for(const e of t.da)await e(!0)}async function hu(t){for(const e of t.da)await e(!1)}function ab(t,e){const n=We(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ry(n)?ny(n):bl(n).O_()&&ty(n,e))}function ey(t,e){const n=We(t),r=bl(n);n.Ia.delete(e),r.O_()&&lb(n,e),n.Ia.size===0&&(r.O_()?r.L_():ia(n)&&n.Ra.set("Unknown"))}function ty(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bl(t).Y_(e)}function lb(t,e){t.Va.Ue(e),bl(t).Z_(e)}function ny(t){t.Va=new GR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),bl(t).start(),t.Ra.ua()}function ry(t){return ia(t)&&!bl(t).x_()&&t.Ia.size>0}function ia(t){return We(t).Ea.size===0}function cb(t){t.Va=void 0}async function ej(t){t.Ra.set("Online")}async function tj(t){t.Ia.forEach(((e,n)=>{ty(t,e)}))}async function nj(t,e){cb(t),ry(t)?(t.Ra.ha(e),ny(t)):t.Ra.set("Unknown")}async function rj(t,e,n){if(t.Ra.set("Online"),e instanceof GE&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const h of a.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,l),i.Ia.delete(h),i.Va.removeTarget(h))})(t,e)}catch(r){we(Ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bh(t,r)}else if(e instanceof eh?t.Va.Ze(e):e instanceof WE?t.Va.st(e):t.Va.tt(e),!n.isEqual(He.min()))try{const r=await sb(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const h=a.Va.Tt(l);return h.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const w=a.Ia.get(g);w&&a.Ia.set(g,w.withResumeToken(m.resumeToken,l))}})),h.targetMismatches.forEach(((m,g)=>{const w=a.Ia.get(m);if(!w)return;a.Ia.set(m,w.withResumeToken(In.EMPTY_BYTE_STRING,w.snapshotVersion)),lb(a,m);const x=new Gi(w.target,m,g,w.sequenceNumber);ty(a,x)})),a.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){we(Ko,"Failed to raise snapshot:",r),await bh(t,r)}}async function bh(t,e,n){if(!_l(e))throw e;t.Ea.add(1),await hu(t),t.Ra.set("Offline"),n||(n=()=>sb(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(Ko,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await sf(t)}))}function ub(t,e){return e().catch((n=>bh(t,n,e)))}async function of(t){const e=We(t),n=io(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fg;for(;sj(e);)try{const i=await FP(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,ij(e,i)}catch(i){await bh(e,i)}db(e)&&hb(e)}function sj(t){return ia(t)&&t.Ta.length<10}function ij(t,e){t.Ta.push(e);const n=io(t);n.O_()&&n.X_&&n.ea(e.mutations)}function db(t){return ia(t)&&!io(t).x_()&&t.Ta.length>0}function hb(t){io(t).start()}async function oj(t){io(t).ra()}async function aj(t){const e=io(t);for(const n of t.Ta)e.ea(n.mutations)}async function lj(t,e,n){const r=t.Ta.shift(),i=Gg.from(r,e,n);await ub(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await of(t)}async function cj(t,e){e&&io(t).X_&&await(async function(r,i){if((function(l){return HR(l)&&l!==J.ABORTED})(i.code)){const a=r.Ta.shift();io(r).B_(),await ub(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await of(r)}})(t,e),db(t)&&hb(t)}async function jw(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),we(Ko,"RemoteStore received new credentials");const r=ia(n);n.Ea.add(3),await hu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sf(n)}async function uj(t,e){const n=We(t);e?(n.Ea.delete(2),await sf(n)):e||(n.Ea.add(2),await hu(n),n.Ra.set("Unknown"))}function bl(t){return t.ma||(t.ma=(function(n,r,i){const a=We(n);return a.sa(),new KP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:ej.bind(null,t),t_:tj.bind(null,t),r_:nj.bind(null,t),H_:rj.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),ry(t)?ny(t):t.Ra.set("Unknown")):(await t.ma.stop(),cb(t))}))),t.ma}function io(t){return t.fa||(t.fa=(function(n,r,i){const a=We(n);return a.sa(),new ZP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:oj.bind(null,t),r_:cj.bind(null,t),ta:aj.bind(null,t),na:lj.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await of(t)):(await t.fa.stop(),t.Ta.length>0&&(we(Ko,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,h=new sy(e,n,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(t,e){if(mi("AsyncQueue",`${e}: ${t}`),_l(t))return new ye(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=bc(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.ga=new Pt(Pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class hl{constructor(e,n,r,i,a,l,h,m,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((h=>{l.push({type:0,doc:h})})),new hl(e,n,nl.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hj{constructor(){this.queries=Ow(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=We(n),a=i.queries;i.queries=Ow(),a.forEach(((l,h)=>{for(const m of h.Sa)m.onError(r)}))})(this,new ye(J.ABORTED,"Firestore shutting down"))}}function Ow(){return new sa((t=>jE(t)),Xh)}async function fb(t,e){const n=We(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new dj,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const h=iy(l,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(h)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&oy(n)}async function mb(t,e){const n=We(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fj(t,e){const n=We(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const h of l.Sa)h.Fa(i)&&(r=!0);l.wa=i}}r&&oy(n)}function mj(t,e,n){const r=We(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function oy(t){t.Ca.forEach((e=>{e.next()}))}var tg,Mw;(Mw=tg||(tg={})).Ma="default",Mw.Cache="cache";class pb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.key=e}}class yb{constructor(e){this.key=e}}class pj{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=rt(),this.mutatedKeys=rt(),this.eu=DE(e),this.tu=new nl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Dw,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,h=!1;const m=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((w,x)=>{const E=i.get(w),C=Jh(this.query,x)?x:null,O=!!E&&this.mutatedKeys.has(E.key),U=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let M=!1;E&&C?E.data.isEqual(C.data)?O!==U&&(r.track({type:3,doc:C}),M=!0):this.su(E,C)||(r.track({type:2,doc:C}),M=!0,(m&&this.eu(C,m)>0||g&&this.eu(C,g)<0)&&(h=!0)):!E&&C?(r.track({type:0,doc:C}),M=!0):E&&!C&&(r.track({type:1,doc:E}),M=!0,(m||g)&&(h=!0)),M&&(C?(l=l.add(C),a=U?a.add(w):a.delete(w)):(l=l.delete(w),a=a.delete(w)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const w=this.query.limitType==="F"?l.last():l.first();l=l.delete(w.key),a=a.delete(w.key),r.track({type:1,doc:w})}return{tu:l,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((w,x)=>(function(C,O){const U=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:M})}};return U(C)-U(O)})(w.type,x.type)||this.eu(w.doc,x.doc))),this.ou(r),i=i??!1;const h=n&&!i?this._u():[],m=this.Xa.size===0&&this.current&&!i?1:0,g=m!==this.Za;return this.Za=m,l.length!==0||g?{snapshot:new hl(this.query,e.tu,a,l,e.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Dw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=rt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new yb(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new gb(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=rt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ay="SyncEngine";class gj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yj{constructor(e){this.key=e,this.hu=!1}}class vj{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new sa((h=>jE(h)),Xh),this.Iu=new Map,this.Eu=new Set,this.du=new Pt(Pe.comparator),this.Au=new Map,this.Ru=new Qg,this.Vu={},this.mu=new Map,this.fu=dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xj(t,e,n=!0){const r=bb(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await vb(r,e,n,!0),i}async function wj(t,e){const n=bb(t);await vb(n,e,!0,!1)}async function vb(t,e,n,r){const i=await zP(t.localStore,Os(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await _j(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&ab(t.remoteStore,i),h}async function _j(t,e,n,r,i){t.pu=(x,E,C)=>(async function(U,M,G,$){let Q=M.view.ru(G);Q.Cs&&(Q=await kw(U.localStore,M.query,!1).then((({documents:k})=>M.view.ru(k,Q))));const ee=$&&$.targetChanges.get(M.targetId),B=$&&$.targetMismatches.get(M.targetId)!=null,de=M.view.applyChanges(Q,U.isPrimaryClient,ee,B);return Lw(U,M.targetId,de.au),de.snapshot})(t,x,E,C);const a=await kw(t.localStore,e,!0),l=new pj(e,a.Qs),h=l.ru(a.documents),m=du.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),g=l.applyChanges(h,t.isPrimaryClient,m);Lw(t,n,g.au);const w=new gj(e,n,l);return t.Tu.set(e,w),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function Ej(t,e,n){const r=We(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!Xh(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jp(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ey(r.remoteStore,i.targetId),ng(r,i.targetId)})).catch(wl)):(ng(r,i.targetId),await Jp(r.localStore,i.targetId,!0))}async function bj(t,e){const n=We(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ey(n.remoteStore,r.targetId))}async function Tj(t,e,n){const r=Rj(t);try{const i=await(function(l,h){const m=We(l),g=bt.now(),w=h.reduce(((C,O)=>C.add(O.key)),rt());let x,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let O=pi(),U=rt();return m.Ns.getEntries(C,w).next((M=>{O=M,O.forEach(((G,$)=>{$.isValidDocument()||(U=U.add(G))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,O))).next((M=>{x=M;const G=[];for(const $ of h){const Q=FR($,x.get($.key).overlayedDocument);Q!=null&&G.push(new co($.key,Q,IE(Q.value.mapValue),Vr.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,G,h)})).next((M=>{E=M;const G=M.applyToLocalDocumentSet(x,U);return m.documentOverlayCache.saveOverlays(C,M.batchId,G)}))})).then((()=>({batchId:E.batchId,changes:ME(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,h,m){let g=l.Vu[l.currentUser.toKey()];g||(g=new Pt(nt)),g=g.insert(h,m),l.Vu[l.currentUser.toKey()]=g})(r,i.batchId,n),await fu(r,i.changes),await of(r.remoteStore)}catch(i){const a=iy(i,"Failed to persist write");n.reject(a)}}async function xb(t,e){const n=We(t);try{const r=await VP(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?ut(l.hu,14607):i.removedDocuments.size>0&&(ut(l.hu,42227),l.hu=!1))})),await fu(n,r,e)}catch(r){await wl(r)}}function Vw(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const h=l.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(l,h){const m=We(l);m.onlineState=h;let g=!1;m.queries.forEach(((w,x)=>{for(const E of x.Sa)E.va(h)&&(g=!0)})),g&&oy(m)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ij(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new Pt(Pe.comparator);l=l.insert(a,On.newNoDocument(a,He.min()));const h=rt().add(a),m=new nf(He.min(),new Map,new Pt(nt),l,h);await xb(r,m),r.du=r.du.remove(a),r.Au.delete(e),ly(r)}else await Jp(r.localStore,e,!1).then((()=>ng(r,e,n))).catch(wl)}async function Nj(t,e){const n=We(t),r=e.batch.batchId;try{const i=await MP(n.localStore,e);_b(n,r,null),wb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fu(n,i)}catch(i){await wl(i)}}async function Sj(t,e,n){const r=We(t);try{const i=await(function(l,h){const m=We(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let w;return m.mutationQueue.lookupMutationBatch(g,h).next((x=>(ut(x!==null,37113),w=x.keys(),m.mutationQueue.removeMutationBatch(g,x)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,w,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,w))).next((()=>m.localDocuments.getDocuments(g,w)))}))})(r.localStore,e);_b(r,e,n),wb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fu(r,i)}catch(i){await wl(i)}}function wb(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function _b(t,e,n){const r=We(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function ng(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||Eb(t,r)}))}function Eb(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ey(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ly(t))}function Lw(t,e,n){for(const r of n)r instanceof gb?(t.Ru.addReference(r.key,e),kj(t,r)):r instanceof yb?(we(ay,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Eb(t,r.key)):Ue(19791,{wu:r})}function kj(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(we(ay,"New document in limbo: "+n),t.Eu.add(r),ly(t))}function ly(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Pe(gt.fromString(e)),r=t.fu.next();t.Au.set(r,new yj(n)),t.du=t.du.insert(n,r),ab(t.remoteStore,new Gi(Os(Hg(n.path)),r,"TargetPurposeLimboResolution",Zh.ce))}}async function fu(t,e,n){const r=We(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,m)=>{l.push(r.pu(m,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const w=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(g){i.push(g);const w=Xg.As(m.targetId,g);a.push(w)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(m,g){const w=We(m);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ne.forEach(g,(E=>ne.forEach(E.Es,(C=>w.persistence.referenceDelegate.addReference(x,E.targetId,C))).next((()=>ne.forEach(E.ds,(C=>w.persistence.referenceDelegate.removeReference(x,E.targetId,C)))))))))}catch(x){if(!_l(x))throw x;we(Jg,"Failed to update sequence numbers: "+x)}for(const x of g){const E=x.targetId;if(!x.fromCache){const C=w.Ms.get(E),O=C.snapshotVersion,U=C.withLastLimboFreeSnapshotVersion(O);w.Ms=w.Ms.insert(E,U)}}})(r.localStore,a))}async function Aj(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){we(ay,"User change. New user:",e.toKey());const r=await rb(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((h=>{h.forEach((m=>{m.reject(new ye(J.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fu(n,r.Ls)}}function Cj(t,e){const n=We(t),r=n.Au.get(e);if(r&&r.hu)return rt().add(r.key);{let i=rt();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const h=n.Tu.get(l);i=i.unionWith(h.view.nu)}return i}}function bb(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ij.bind(null,e),e.Pu.H_=fj.bind(null,e.eventManager),e.Pu.yu=mj.bind(null,e.eventManager),e}function Rj(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sj.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return OP(this.persistence,new PP,e.initialUser,this.serializer)}Cu(e){return new nb(Yg.mi,this.serializer)}Du(e){return new $P}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class Pj extends Th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof Eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yP(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?er.withCacheSize(this.cacheSizeBytes):er.DEFAULT;return new nb((r=>Eh.mi(r,n)),this.serializer)}}class rg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Vw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Aj.bind(null,this.syncEngine),await uj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hj})()}createDatastore(e){const n=rf(e.databaseInfo.databaseId),r=(function(a){return new GP(a)})(e.databaseInfo);return(function(a,l,h,m){return new YP(a,l,h,m)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,h){return new JP(r,i,a,l,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>Vw(this.syncEngine,n,0)),(function(){return Rw.v()?new Rw:new BP})())}createSyncEngine(e,n){return(function(i,a,l,h,m,g,w){const x=new vj(i,a,l,h,m,g);return w&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=We(n);we(Ko,"RemoteStore shutting down."),r.Ea.add(5),await hu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rg.provider={build:()=>new rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="FirestoreClient";class jj{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dn.UNAUTHENTICATED,this.clientId=Lg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{we(oo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(we(oo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function vp(t,e){t.asyncQueue.verifyOperationInProgress(),we(oo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await rb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Fw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Dj(t);we(oo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>jw(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>jw(e.remoteStore,i))),t._onlineComponents=e}async function Dj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(oo,"Using user provided OfflineComponentProvider");try{await vp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;al("Error using user provided cache. Falling back to memory cache: "+n),await vp(t,new Th)}}else we(oo,"Using default OfflineComponentProvider"),await vp(t,new Pj(void 0));return t._offlineComponents}async function Ib(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(oo,"Using user provided OnlineComponentProvider"),await Fw(t,t._uninitializedComponentsProvider._online)):(we(oo,"Using default OnlineComponentProvider"),await Fw(t,new rg))),t._onlineComponents}function Oj(t){return Ib(t).then((e=>e.syncEngine))}async function Nb(t){const e=await Ib(t),n=e.eventManager;return n.onListen=xj.bind(null,e.syncEngine),n.onUnlisten=Ej.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bj.bind(null,e.syncEngine),n}function Mj(t,e,n={}){const r=new ci;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,h,m,g){const w=new Tb({next:E=>{w.Nu(),l.enqueueAndForget((()=>mb(a,x)));const C=E.docs.has(h);!C&&E.fromCache?g.reject(new ye(J.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&m&&m.source==="server"?g.reject(new ye(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),x=new pb(Hg(h.path),w,{includeMetadataChanges:!0,qa:!0});return fb(a,x)})(await Nb(t),t.asyncQueue,e,n,r))),r.promise}function Vj(t,e,n={}){const r=new ci;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,h,m,g){const w=new Tb({next:E=>{w.Nu(),l.enqueueAndForget((()=>mb(a,x))),E.fromCache&&m.source==="server"?g.reject(new ye(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(E)},error:E=>g.reject(E)}),x=new pb(h,w,{includeMetadataChanges:!0,qa:!0});return fb(a,x)})(await Nb(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firestore.googleapis.com",Uw=!0;class $w{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kb,this.ssl=Uw}else this.host=e.host,this.ssl=e.ssl??Uw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pP)throw new ye(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ye(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ye(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ye(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class af{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $w({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $w(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new BC;switch(r.type){case"firstParty":return new GC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=zw.get(n);r&&(we("ComponentProvider","Removing Datastore"),zw.delete(n),r.terminate())})(this),Promise.resolve()}}function Lj(t,e,n,r={}){t=os(t,af);const i=gl(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;i&&(p1(`https://${h}`),g1("Firestore",!0)),a.host!==kb&&a.host!==h&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...a,host:h,ssl:i,emulatorOptions:r};if(!eo(m,l)&&(t._setSettings(m),r.mockUserToken)){let g,w;if(typeof r.mockUserToken=="string")g=r.mockUserToken,w=Dn.MOCK_USER;else{g=QS(r.mockUserToken,t._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new ye(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Dn(x)}t._authCredentials=new HC(new fE(g,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oa(this.firestore,e,this._query)}}class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(cu(n,Ht._jsonSchema))return new Ht(e,r||null,new Pe(gt.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Jt("string",Ht._jsonSchemaVersion),referencePath:Jt("string")};class Yi extends oa{constructor(e,n,r){super(e,n,Hg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Pe(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function Ut(t,e,...n){if(t=Mt(t),mE("collection","path",e),t instanceof af){const r=gt.fromString(e,...n);return tw(r),new Yi(t,null,r)}{if(!(t instanceof Ht||t instanceof Yi))throw new ye(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return tw(r),new Yi(t.firestore,null,r)}}function Nt(t,e,...n){if(t=Mt(t),arguments.length===1&&(e=Lg.newId()),mE("doc","path",e),t instanceof af){const r=gt.fromString(e,...n);return ew(r),new Ht(t,null,new Pe(r))}{if(!(t instanceof Ht||t instanceof Yi))throw new ye(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return ew(r),new Ht(t.firestore,t instanceof Yi?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="AsyncQueue";class Hw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ib(this,"async_queue_retry"),this._c=()=>{const r=yp();r&&we(Bw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=yp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=yp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ci;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_l(e))throw e;we(Bw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,mi("INTERNAL UNHANDLED ERROR: ",qw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=sy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ue(47125,{Pc:qw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class aa extends af{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Hw,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hw(e),this._firestoreClient=void 0,await e}}}function Fj(t,e){const n=typeof t=="object"?t:kg(),r=typeof t=="string"?t:gh,i=na(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=KS("firestore");a&&Lj(i,...a)}return i}function cy(t){if(t._terminated)throw new ye(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zj(t),t._firestoreClient}function zj(t){const e=t._freezeSettings(),n=(function(i,a,l,h){return new uR(i,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Sb(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new jj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Or(In.fromBase64String(e))}catch(n){throw new ye(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Or(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,Or._jsonSchema))return Or.fromBase64String(e.bytes)}}Or._jsonSchemaVersion="firestore/bytes/1.0",Or._jsonSchema={type:Jt("string",Or._jsonSchemaVersion),bytes:Jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vs._jsonSchemaVersion}}static fromJSON(e){if(cu(e,Vs._jsonSchema))return new Vs(e.latitude,e.longitude)}}Vs._jsonSchemaVersion="firestore/geoPoint/1.0",Vs._jsonSchema={type:Jt("string",Vs._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ls._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,Ls._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ls(e.vectorValues);throw new ye(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ls._jsonSchemaVersion="firestore/vectorValue/1.0",Ls._jsonSchema={type:Jt("string",Ls._jsonSchemaVersion),vectorValues:Jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=/^__.*__$/;class $j{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}class Ab{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Cb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:t})}}class dy{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Cb(this.Ac)&&Uj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Bj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rf(e)}Cc(e,n,r,i=!1){return new dy({Ac:e,methodName:n,Dc:r,path:Tn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cf(t){const e=t._freezeSettings(),n=rf(t._databaseId);return new Bj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Rb(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);hy("Data must be an object, but it was:",l,r);const h=Pb(r,l);let m,g;if(a.merge)m=new wr(l.fieldMask),g=l.fieldTransforms;else if(a.mergeFields){const w=[];for(const x of a.mergeFields){const E=sg(e,x,n);if(!l.contains(E))throw new ye(J.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Db(w,E)||w.push(E)}m=new wr(w),g=l.fieldTransforms.filter((x=>m.covers(x.field)))}else m=null,g=l.fieldTransforms;return new $j(new sr(h),m,g)}class uf extends uy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uf}}function Hj(t,e,n,r){const i=t.Cc(1,e,n);hy("Data must be an object, but it was:",i,r);const a=[],l=sr.empty();lo(r,((m,g)=>{const w=fy(e,m,n);g=Mt(g);const x=i.yc(w);if(g instanceof uf)a.push(w);else{const E=mu(g,x);E!=null&&(a.push(w),l.set(w,E))}}));const h=new wr(a);return new Ab(l,h,i.fieldTransforms)}function qj(t,e,n,r,i,a){const l=t.Cc(1,e,n),h=[sg(e,r,n)],m=[i];if(a.length%2!=0)throw new ye(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)h.push(sg(e,a[E])),m.push(a[E+1]);const g=[],w=sr.empty();for(let E=h.length-1;E>=0;--E)if(!Db(g,h[E])){const C=h[E];let O=m[E];O=Mt(O);const U=l.yc(C);if(O instanceof uf)g.push(C);else{const M=mu(O,U);M!=null&&(g.push(C),w.set(C,M))}}const x=new wr(g);return new Ab(w,x,l.fieldTransforms)}function Wj(t,e,n,r=!1){return mu(n,t.Cc(r?4:3,e))}function mu(t,e){if(jb(t=Mt(t)))return hy("Unsupported field value:",e,t),Pb(t,e);if(t instanceof uy)return(function(r,i){if(!Cb(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const h of r){let m=mu(h,i.wc(l));m==null&&(m={nullValue:"NULL_VALUE"}),a.push(m),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=bt.fromDate(r);return{timestampValue:_h(i.serializer,a)}}if(r instanceof bt){const a=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_h(i.serializer,a)}}if(r instanceof Vs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Or)return{bytesValue:KE(i.serializer,r._byteString)};if(r instanceof Ht){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Zg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ls)return(function(l,h){return{mapValue:{fields:{[bE]:{stringValue:TE},[yh]:{arrayValue:{values:l.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return qg(h.serializer,g)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Kh(r)}`)})(t,e)}function Pb(t,e){const n={};return yE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(t,((r,i)=>{const a=mu(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function jb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof Vs||t instanceof Or||t instanceof Ht||t instanceof uy||t instanceof Ls)}function hy(t,e,n){if(!jb(n)||!pE(n)){const r=Kh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function sg(t,e,n){if((e=Mt(e))instanceof lf)return e._internalPath;if(typeof e=="string")return fy(t,e);throw Ih("Field path arguments must be of type string or ",t,!1,void 0,n)}const Gj=new RegExp("[~\\*/\\[\\]]");function fy(t,e,n){if(e.search(Gj)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lf(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ih(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(a||l)&&(m+=" (found",a&&(m+=` in field ${r}`),l&&(m+=` in document ${i}`),m+=")"),new ye(J.INVALID_ARGUMENT,h+t+m)}function Db(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Kj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(df("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Kj extends Ob{data(){return super.data()}}function df(t,e){return typeof e=="string"?fy(t,e):e instanceof lf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class my{}class Mb extends my{}function nr(t,e,...n){let r=[];e instanceof my&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((m=>m instanceof py)).length,h=a.filter((m=>m instanceof hf)).length;if(l>1||l>0&&h>0)throw new ye(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class hf extends Mb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hf(e,n,r)}_apply(e){const n=this._parse(e);return Vb(e._query,n),new oa(e.firestore,e.converter,Gp(e._query,n))}_parse(e){const n=cf(e.firestore);return(function(a,l,h,m,g,w,x){let E;if(g.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ye(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Gw(x,w);const O=[];for(const U of x)O.push(Ww(m,a,U));E={arrayValue:{values:O}}}else E=Ww(m,a,x)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Gw(x,w),E=Wj(h,l,x,w==="in"||w==="not-in");return Xt.create(g,w,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Et(t,e,n){const r=e,i=df("where",t);return hf._create(i,r,n)}class py extends my{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new py(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:as.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const h=a.getFlattenedFilters();for(const m of h)Vb(l,m),l=Gp(l,m)})(e._query,n),new oa(e.firestore,e.converter,Gp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gy extends Mb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gy(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new ye(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ye(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zc(a,l)})(e._query,this._field,this._direction);return new oa(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new El(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Ic(t,e="asc"){const n=e,r=df("orderBy",t);return gy._create(r,n)}function Ww(t,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new ye(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PE(e)&&n.indexOf("/")!==-1)throw new ye(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(gt.fromString(n));if(!Pe.isDocumentKey(r))throw new ye(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cw(t,new Pe(r))}if(n instanceof Ht)return cw(t,n._key);throw new ye(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function Gw(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vb(t,e){const n=(function(i,a){for(const l of i)for(const h of l.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Qj{convertValue(e,n="none"){switch(so(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return lo(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[yh].arrayValue?.values?.map((r=>$t(r.doubleValue)));return new Ls(n)}convertGeoPoint(e){return new Vs($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const n=no(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);ut(eb(r),9688,{name:e});const i=new Gc(r.get(1),r.get(3)),a=new Pe(r.popFirst(5));return i.isEqual(n)||mi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Nc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ho extends Ob{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(df("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ho._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ho._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ho._jsonSchema={type:Jt("string",Ho._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class th extends Ho{data(e={}){return super.data(e)}}class rl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Nc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new th(this._firestore,this._userDataWriter,r.key,r,new Nc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((h=>{const m=new th(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Nc(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const m=new th(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Nc(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,w=-1;return h.type!==0&&(g=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),w=l.indexOf(h.doc.key)),{type:Yj(h.type),doc:m,oldIndex:g,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Yj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t){t=os(t,Ht);const e=os(t.firestore,aa);return Mj(cy(e),t._key).then((n=>Jj(e,t,n)))}rl._jsonSchemaVersion="firestore/querySnapshot/1.0",rl._jsonSchema={type:Jt("string",rl._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class Fb extends Qj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Or(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function pn(t){t=os(t,oa);const e=os(t.firestore,aa),n=cy(e),r=new Fb(e);return Zj(t._query),Vj(n,t._query).then((i=>new rl(e,r,t,i)))}function ff(t,e,n){t=os(t,Ht);const r=os(t.firestore,aa),i=Lb(t.converter,e);return pf(r,[Rb(cf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Vr.none())])}function fl(t,e,n,...r){t=os(t,Ht);const i=os(t.firestore,aa),a=cf(i);let l;return l=typeof(e=Mt(e))=="string"||e instanceof lf?qj(a,"updateDoc",t._key,e,n,r):Hj(a,"updateDoc",t._key,e),pf(i,[l.toMutation(t._key,Vr.exists(!0))])}function mf(t){return pf(os(t.firestore,aa),[new Wg(t._key,Vr.none())])}function Xj(t,e){const n=os(t.firestore,aa),r=Nt(t),i=Lb(t.converter,e);return pf(n,[Rb(cf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Vr.exists(!1))]).then((()=>r))}function pf(t,e){return(function(r,i){const a=new ci;return r.asyncQueue.enqueueAndForget((async()=>Tj(await Oj(r),i,a))),a.promise})(cy(t),e)}function Jj(t,e,n){const r=n.docs.get(e._key),i=new Fb(t);return new Ho(t,i,e._key,r,new Nc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){xl=i})(yl),Fs(new ss("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),h=new aa(new qC(r.getProvider("auth-internal")),new KC(l,r.getProvider("app-check-internal")),(function(g,w){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gc(g.options.projectId,w)})(l,i),l);return a={useFetchStreams:n,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Mr(Qx,Yx,e),Mr(Qx,Yx,"esm2020")})();const zb="@firebase/installations",yy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=1e4,$b=`w:${yy}`,Bb="FIS_v2",e4="https://firebaseinstallations.googleapis.com/v1",t4=3600*1e3,n4="installations",r4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Zo=new ta(n4,r4,s4);function Hb(t){return t instanceof ls&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb({projectId:t}){return`${e4}/projects/${t}/installations`}function Wb(t){return{token:t.token,requestStatus:2,expiresIn:o4(t.expiresIn),creationTime:Date.now()}}async function Gb(t,e){const r=(await e.json()).error;return Zo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Kb({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function i4(t,{refreshToken:e}){const n=Kb(t);return n.append("Authorization",a4(e)),n}async function Zb(t){const e=await t();return e.status>=500&&e.status<600?t():e}function o4(t){return Number(t.replace("s","000"))}function a4(t){return`${Bb} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=qb(t),i=Kb(t),a=e.getImmediate({optional:!0});if(a){const g=await a.getHeartbeatsHeader();g&&i.append("x-firebase-client",g)}const l={fid:n,authVersion:Bb,appId:t.appId,sdkVersion:$b},h={method:"POST",headers:i,body:JSON.stringify(l)},m=await Zb(()=>fetch(r,h));if(m.ok){const g=await m.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:Wb(g.authToken)}}else throw await Gb("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=/^[cdef][\w-]{21}$/,ig="";function d4(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=h4(t);return u4.test(n)?n:ig}catch{return ig}}function h4(t){return c4(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=new Map;function Xb(t,e){const n=gf(t);Jb(n,e),f4(n,e)}function Jb(t,e){const n=Yb.get(t);if(n)for(const r of n)r(e)}function f4(t,e){const n=m4();n&&n.postMessage({key:t,fid:e}),p4()}let $o=null;function m4(){return!$o&&"BroadcastChannel"in self&&($o=new BroadcastChannel("[Firebase] FID Change"),$o.onmessage=t=>{Jb(t.data.key,t.data.fid)}),$o}function p4(){Yb.size===0&&$o&&($o.close(),$o=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="firebase-installations-database",y4=1,Qo="firebase-installations-store";let xp=null;function vy(){return xp||(xp=E1(g4,y4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Qo)}}})),xp}async function Nh(t,e){const n=gf(t),i=(await vy()).transaction(Qo,"readwrite"),a=i.objectStore(Qo),l=await a.get(n);return await a.put(e,n),await i.done,(!l||l.fid!==e.fid)&&Xb(t,e.fid),e}async function eT(t){const e=gf(t),r=(await vy()).transaction(Qo,"readwrite");await r.objectStore(Qo).delete(e),await r.done}async function yf(t,e){const n=gf(t),i=(await vy()).transaction(Qo,"readwrite"),a=i.objectStore(Qo),l=await a.get(n),h=e(l);return h===void 0?await a.delete(n):await a.put(h,n),await i.done,h&&(!l||l.fid!==h.fid)&&Xb(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xy(t){let e;const n=await yf(t.appConfig,r=>{const i=v4(r),a=x4(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===ig?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function v4(t){const e=t||{fid:d4(),registrationStatus:0};return tT(e)}function x4(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Zo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=w4(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:_4(t)}:{installationEntry:e}}async function w4(t,e){try{const n=await l4(t,e);return Nh(t.appConfig,n)}catch(n){throw Hb(n)&&n.customData.serverCode===409?await eT(t.appConfig):await Nh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function _4(t){let e=await Kw(t.appConfig);for(;e.registrationStatus===1;)await Qb(100),e=await Kw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await xy(t);return r||n}return e}function Kw(t){return yf(t,e=>{if(!e)throw Zo.create("installation-not-found");return tT(e)})}function tT(t){return E4(t)?{fid:t.fid,registrationStatus:0}:t}function E4(t){return t.registrationStatus===1&&t.registrationTime+Ub<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4({appConfig:t,heartbeatServiceProvider:e},n){const r=T4(t,n),i=i4(t,n),a=e.getImmediate({optional:!0});if(a){const g=await a.getHeartbeatsHeader();g&&i.append("x-firebase-client",g)}const l={installation:{sdkVersion:$b,appId:t.appId}},h={method:"POST",headers:i,body:JSON.stringify(l)},m=await Zb(()=>fetch(r,h));if(m.ok){const g=await m.json();return Wb(g)}else throw await Gb("Generate Auth Token",m)}function T4(t,{fid:e}){return`${qb(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wy(t,e=!1){let n;const r=await yf(t.appConfig,a=>{if(!nT(a))throw Zo.create("not-registered");const l=a.authToken;if(!e&&S4(l))return a;if(l.requestStatus===1)return n=I4(t,e),a;{if(!navigator.onLine)throw Zo.create("app-offline");const h=A4(a);return n=N4(t,h),h}});return n?await n:r.authToken}async function I4(t,e){let n=await Zw(t.appConfig);for(;n.authToken.requestStatus===1;)await Qb(100),n=await Zw(t.appConfig);const r=n.authToken;return r.requestStatus===0?wy(t,e):r}function Zw(t){return yf(t,e=>{if(!nT(e))throw Zo.create("not-registered");const n=e.authToken;return C4(n)?{...e,authToken:{requestStatus:0}}:e})}async function N4(t,e){try{const n=await b4(t,e),r={...e,authToken:n};return await Nh(t.appConfig,r),n}catch(n){if(Hb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await eT(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Nh(t.appConfig,r)}throw n}}function nT(t){return t!==void 0&&t.registrationStatus===2}function S4(t){return t.requestStatus===2&&!k4(t)}function k4(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+t4}function A4(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function C4(t){return t.requestStatus===1&&t.requestTime+Ub<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(t){const e=t,{installationEntry:n,registrationPromise:r}=await xy(e);return r?r.catch(console.error):wy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(t,e=!1){const n=t;return await j4(n),(await wy(n,e)).token}async function j4(t){const{registrationPromise:e}=await xy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){if(!t||!t.options)throw wp("App Configuration");if(!t.name)throw wp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw wp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function wp(t){return Zo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="installations",O4="installations-internal",M4=t=>{const e=t.getProvider("app").getImmediate(),n=D4(e),r=na(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},V4=t=>{const e=t.getProvider("app").getImmediate(),n=na(e,rT).getImmediate();return{getId:()=>R4(n),getToken:i=>P4(n,i)}};function L4(){Fs(new ss(rT,M4,"PUBLIC")),Fs(new ss(O4,V4,"PRIVATE"))}L4();Mr(zb,yy);Mr(zb,yy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="analytics",F4="firebase_id",z4="origin",U4=60*1e3,$4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_y="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new Hh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_r=new ta("analytics","Analytics",B4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t){if(!t.startsWith(_y)){const e=_r.create("invalid-gtag-resource",{gtagURL:t});return Hn.warn(e.message),""}return t}function sT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function q4(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function W4(t,e){const n=q4("firebase-js-sdk-policy",{createScriptURL:H4}),r=document.createElement("script"),i=`${_y}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function G4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function K4(t,e,n,r,i,a){const l=r[i];try{if(l)await e[l];else{const m=(await sT(n)).find(g=>g.measurementId===i);m&&await e[m.appId]}}catch(h){Hn.error(h)}t("config",i,a)}async function Z4(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const h=await sT(n);for(const m of l){const g=h.find(x=>x.measurementId===m),w=g&&e[g.appId];if(w)a.push(w);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){Hn.error(a)}}function Q4(t,e,n,r){async function i(a,...l){try{if(a==="event"){const[h,m]=l;await Z4(t,e,n,h,m)}else if(a==="config"){const[h,m]=l;await K4(t,e,n,r,h,m)}else if(a==="consent"){const[h,m]=l;t("consent",h,m)}else if(a==="get"){const[h,m,g]=l;t("get",h,m,g)}else if(a==="set"){const[h]=l;t("set",h)}else t(a,...l)}catch(h){Hn.error(h)}}return i}function Y4(t,e,n,r,i){let a=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=Q4(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function X4(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(_y)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=30,eD=1e3;class tD{constructor(e={},n=eD){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const iT=new tD;function nD(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function rD(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:nD(n)},i=$4.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let l="";try{const h=await a.json();h.error?.message&&(l=h.error.message)}catch{}throw _r.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function sD(t,e=iT,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw _r.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw _r.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new aD;return setTimeout(async()=>{h.abort()},U4),oT({appId:r,apiKey:i,measurementId:a},l,h,e)}async function oT(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=iT){const{appId:a,measurementId:l}=t;try{await iD(r,e)}catch(h){if(l)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:a,measurementId:l};throw h}try{const h=await rD(t);return i.deleteThrottleMetadata(a),h}catch(h){const m=h;if(!oD(m)){if(i.deleteThrottleMetadata(a),l)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:a,measurementId:l};throw h}const g=Number(m?.customData?.httpStatus)===503?_x(n,i.intervalMillis,J4):_x(n,i.intervalMillis),w={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return i.setThrottleMetadata(a,w),Hn.debug(`Calling attemptFetch again in ${g} millis`),oT(t,w,r,i)}}function iD(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(_r.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function oD(t){if(!(t instanceof ls)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class aD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function lD(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,l={...r,send_to:a};t("event",n,l)}}async function cD(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(){if(v1())try{await x1()}catch(t){return Hn.warn(_r.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Hn.warn(_r.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function dD(t,e,n,r,i,a,l){const h=sD(t);h.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>Hn.error(E)),e.push(h);const m=uD().then(E=>{if(E)return r.getId()}),[g,w]=await Promise.all([h,m]);X4(a)||W4(a,g.measurementId),i("js",new Date);const x=l?.config??{};return x[z4]="firebase",x.update=!0,w!=null&&(x[F4]=w),i("config",g.measurementId,x),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hD=class{constructor(e){this.app=e}_delete(){return delete sl[this.app.options.appId],Promise.resolve()}},sl={},Qw=[];const Yw={};let _p="dataLayer",fD="gtag",Xw,Ey,Jw=!1;function mD(){const t=[];if(y1()&&t.push("This is a browser extension environment."),ik()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=_r.create("invalid-analytics-context",{errorInfo:e});Hn.warn(n.message)}}function pD(t,e,n){mD();const r=t.options.appId;if(!r)throw _r.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _r.create("no-api-key");if(sl[r]!=null)throw _r.create("already-exists",{id:r});if(!Jw){G4(_p);const{wrappedGtag:a,gtagCore:l}=Y4(sl,Qw,Yw,_p,fD);Ey=a,Xw=l,Jw=!0}return sl[r]=dD(t,Qw,Yw,e,Xw,_p,n),new hD(t)}function gD(t=kg()){t=Mt(t);const e=na(t,Sh);return e.isInitialized()?e.getImmediate():yD(t)}function yD(t,e={}){const n=na(t,Sh);if(n.isInitialized()){const i=n.getImmediate();if(eo(e,n.getOptions()))return i;throw _r.create("already-initialized")}return n.initialize({options:e})}function vD(t,e,n){t=Mt(t),cD(Ey,sl[t.app.options.appId],e,n).catch(r=>Hn.error(r))}function xD(t,e,n,r){t=Mt(t),lD(Ey,sl[t.app.options.appId],e,n,r).catch(i=>Hn.error(i))}const e_="@firebase/analytics",t_="0.10.19";function wD(){Fs(new ss(Sh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return pD(r,i,n)},"PUBLIC")),Fs(new ss("analytics-internal",t,"PRIVATE")),Mr(e_,t_),Mr(e_,t_,"esm2020");function t(e){try{const n=e.getProvider(Sh).getImmediate();return{logEvent:(r,i,a)=>xD(n,r,i,a),setUserProperties:(r,i)=>vD(n,r,i)}}catch(n){throw _r.create("interop-component-reg-failed",{reason:n})}}}wD();const _D={apiKey:"AIzaSyArsLiVQo7C_eMKrUnAikiPvaLLD12AUMw",authDomain:"hotelmanagementsystem-85d35.firebaseapp.com",projectId:"hotelmanagementsystem-85d35",storageBucket:"hotelmanagementsystem-85d35.firebasestorage.app",messagingSenderId:"429417604265",appId:"1:429417604265:web:7c68e30d23e16ab872f5b8",measurementId:"G-3N0ZGCZHGB"},by=b1(_D),pu=FC(by),Ke=Fj(by);gD(by);function En(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ED=typeof Symbol=="function"&&Symbol.observable||"@@observable",n_=ED,Ep=()=>Math.random().toString(36).substring(7).split("").join("."),bD={INIT:`@@redux/INIT${Ep()}`,REPLACE:`@@redux/REPLACE${Ep()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ep()}`},kh=bD;function Ty(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function aT(t,e,n){if(typeof t!="function")throw new Error(En(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(En(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(En(1));return n(aT)(t,e)}let r=t,i=e,a=new Map,l=a,h=0,m=!1;function g(){l===a&&(l=new Map,a.forEach((M,G)=>{l.set(G,M)}))}function w(){if(m)throw new Error(En(3));return i}function x(M){if(typeof M!="function")throw new Error(En(4));if(m)throw new Error(En(5));let G=!0;g();const $=h++;return l.set($,M),function(){if(G){if(m)throw new Error(En(6));G=!1,g(),l.delete($),a=null}}}function E(M){if(!Ty(M))throw new Error(En(7));if(typeof M.type>"u")throw new Error(En(8));if(typeof M.type!="string")throw new Error(En(17));if(m)throw new Error(En(9));try{m=!0,i=r(i,M)}finally{m=!1}return(a=l).forEach($=>{$()}),M}function C(M){if(typeof M!="function")throw new Error(En(10));r=M,E({type:kh.REPLACE})}function O(){const M=x;return{subscribe(G){if(typeof G!="object"||G===null)throw new Error(En(11));function $(){const ee=G;ee.next&&ee.next(w())}return $(),{unsubscribe:M($)}},[n_](){return this}}}return E({type:kh.INIT}),{dispatch:E,subscribe:x,getState:w,replaceReducer:C,[n_]:O}}function TD(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:kh.INIT})>"u")throw new Error(En(12));if(typeof n(void 0,{type:kh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(En(13))})}function ID(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const l=e[a];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{TD(n)}catch(a){i=a}return function(l={},h){if(i)throw i;let m=!1;const g={};for(let w=0;w<r.length;w++){const x=r[w],E=n[x],C=l[x],O=E(C,h);if(typeof O>"u")throw h&&h.type,new Error(En(14));g[x]=O,m=m||O!==C}return m=m||r.length!==Object.keys(l).length,m?g:l}}function Ah(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function ND(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(En(15))};const l={getState:i.getState,dispatch:(m,...g)=>a(m,...g)},h=t.map(m=>m(l));return a=Ah(...h)(i.dispatch),{...i,dispatch:a}}}function SD(t){return Ty(t)&&"type"in t&&typeof t.type=="string"}var lT=Symbol.for("immer-nothing"),r_=Symbol.for("immer-draftable"),Er=Symbol.for("immer-state");function es(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ml=Object.getPrototypeOf;function Yo(t){return!!t&&!!t[Er]}function gi(t){return t?cT(t)||Array.isArray(t)||!!t[r_]||!!t.constructor?.[r_]||gu(t)||xf(t):!1}var kD=Object.prototype.constructor.toString();function cT(t){if(!t||typeof t!="object")return!1;const e=ml(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===kD}function Ch(t,e){vf(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function vf(t){const e=t[Er];return e?e.type_:Array.isArray(t)?1:gu(t)?2:xf(t)?3:0}function og(t,e){return vf(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function uT(t,e,n){const r=vf(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function AD(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function gu(t){return t instanceof Map}function xf(t){return t instanceof Set}function zo(t){return t.copy_||t.base_}function ag(t,e){if(gu(t))return new Map(t);if(xf(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=cT(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Er];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],h=r[l];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(r[l]={configurable:!0,writable:!0,enumerable:h.enumerable,value:t[l]})}return Object.create(ml(t),r)}else{const r=ml(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Iy(t,e=!1){return wf(t)||Yo(t)||!gi(t)||(vf(t)>1&&Object.defineProperties(t,{set:{value:Md},add:{value:Md},clear:{value:Md},delete:{value:Md}}),Object.freeze(t),e&&Object.values(t).forEach(n=>Iy(n,!0))),t}function Md(){es(2)}function wf(t){return Object.isFrozen(t)}var CD={};function Xo(t){const e=CD[t];return e||es(0,t),e}var Xc;function dT(){return Xc}function RD(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function s_(t,e){e&&(Xo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function lg(t){cg(t),t.drafts_.forEach(PD),t.drafts_=null}function cg(t){t===Xc&&(Xc=t.parent_)}function i_(t){return Xc=RD(Xc,t)}function PD(t){const e=t[Er];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function o_(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Er].modified_&&(lg(e),es(4)),gi(t)&&(t=Rh(e,t),e.parent_||Ph(e,t)),e.patches_&&Xo("Patches").generateReplacementPatches_(n[Er].base_,t,e.patches_,e.inversePatches_)):t=Rh(e,n,[]),lg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==lT?t:void 0}function Rh(t,e,n){if(wf(e))return e;const r=e[Er];if(!r)return Ch(e,(i,a)=>a_(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Ph(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,l=!1;r.type_===3&&(a=new Set(i),i.clear(),l=!0),Ch(a,(h,m)=>a_(t,r,i,h,m,n,l)),Ph(t,i,!1),n&&t.patches_&&Xo("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function a_(t,e,n,r,i,a,l){if(Yo(i)){const h=a&&e&&e.type_!==3&&!og(e.assigned_,r)?a.concat(r):void 0,m=Rh(t,i,h);if(uT(n,r,m),Yo(m))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(gi(i)&&!wf(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Rh(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(gu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ph(t,i)}}function Ph(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Iy(e,n)}function jD(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:dT(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Ny;n&&(i=[r],a=Jc);const{revoke:l,proxy:h}=Proxy.revocable(i,a);return r.draft_=h,r.revoke_=l,h}var Ny={get(t,e){if(e===Er)return t;const n=zo(t);if(!og(n,e))return DD(t,n,e);const r=n[e];return t.finalized_||!gi(r)?r:r===bp(t.base_,e)?(Tp(t),t.copy_[e]=dg(r,t)):r},has(t,e){return e in zo(t)},ownKeys(t){return Reflect.ownKeys(zo(t))},set(t,e,n){const r=hT(zo(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=bp(zo(t),e),a=i?.[Er];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(AD(n,i)&&(n!==void 0||og(t.base_,e)))return!0;Tp(t),ug(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return bp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Tp(t),ug(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=zo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){es(11)},getPrototypeOf(t){return ml(t.base_)},setPrototypeOf(){es(12)}},Jc={};Ch(Ny,(t,e)=>{Jc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Jc.deleteProperty=function(t,e){return Jc.set.call(this,t,e,void 0)};Jc.set=function(t,e,n){return Ny.set.call(this,t[0],e,n,t[0])};function bp(t,e){const n=t[Er];return(n?zo(n):t)[e]}function DD(t,e,n){const r=hT(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function hT(t,e){if(!(e in t))return;let n=ml(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ml(n)}}function ug(t){t.modified_||(t.modified_=!0,t.parent_&&ug(t.parent_))}function Tp(t){t.copy_||(t.copy_=ag(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var OD=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const l=this;return function(m=a,...g){return l.produce(m,w=>n.call(this,w,...g))}}typeof n!="function"&&es(6),r!==void 0&&typeof r!="function"&&es(7);let i;if(gi(e)){const a=i_(this),l=dg(e,void 0);let h=!0;try{i=n(l),h=!1}finally{h?lg(a):cg(a)}return s_(a,r),o_(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===lT&&(i=void 0),this.autoFreeze_&&Iy(i,!0),r){const a=[],l=[];Xo("Patches").generateReplacementPatches_(e,i,a,l),r(a,l)}return i}else es(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...h)=>this.produceWithPatches(l,m=>e(m,...h));let r,i;return[this.produce(e,n,(l,h)=>{r=l,i=h}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){gi(t)||es(8),Yo(t)&&(t=MD(t));const e=i_(this),n=dg(t,void 0);return n[Er].isManual_=!0,cg(e),n}finishDraft(t,e){const n=t&&t[Er];(!n||!n.isManual_)&&es(9);const{scope_:r}=n;return s_(r,e),o_(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Xo("Patches").applyPatches_;return Yo(t)?r(t,e):this.produce(t,i=>r(i,e))}};function dg(t,e){const n=gu(t)?Xo("MapSet").proxyMap_(t,e):xf(t)?Xo("MapSet").proxySet_(t,e):jD(t,e);return(e?e.scope_:dT()).drafts_.push(n),n}function MD(t){return Yo(t)||es(10,t),fT(t)}function fT(t){if(!gi(t)||wf(t))return t;const e=t[Er];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=ag(t,e.scope_.immer_.useStrictShallowCopy_)}else n=ag(t,!0);return Ch(n,(r,i)=>{uT(n,r,fT(i))}),e&&(e.finalized_=!1),n}var VD=new OD,mT=VD.produce;function pT(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var LD=pT(),FD=pT,zD=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ah:Ah.apply(null,arguments)},UD=t=>t&&typeof t.match=="function";function Mc(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ui(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>SD(r)&&r.type===t,n}var gT=class Sc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Sc.prototype)}static get[Symbol.species](){return Sc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Sc(...e[0].concat(this)):new Sc(...e.concat(this))}};function l_(t){return gi(t)?mT(t,()=>{}):t}function Vd(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function $D(t){return typeof t=="boolean"}var BD=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new gT;return n&&($D(n)?l.push(LD):l.push(FD(n.extraArgument))),l},HD="RTK_autoBatch",c_=t=>e=>{setTimeout(e,t)},qD=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,l=!1;const h=new Set,m=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:c_(10):t.type==="callback"?t.queueNotification:c_(t.timeout),g=()=>{l=!1,a&&(a=!1,h.forEach(w=>w()))};return Object.assign({},r,{subscribe(w){const x=()=>i&&w(),E=r.subscribe(x);return h.add(w),()=>{E(),h.delete(w)}},dispatch(w){try{return i=!w?.meta?.[HD],a=!i,a&&(l||(l=!0,m(g))),r.dispatch(w)}finally{i=!0}}})},WD=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new gT(t);return r&&i.push(qD(typeof r=="object"?r:void 0)),i};function GD(t){const e=BD(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let h;if(typeof n=="function")h=n;else if(Ty(n))h=ID(n);else throw new Error(ui(1));let m;typeof r=="function"?m=r(e):m=e();let g=Ah;i&&(g=zD({trace:!1,...typeof i=="object"&&i}));const w=ND(...m),x=WD(w);let E=typeof l=="function"?l(x):x();const C=g(...E);return aT(h,a,C)}function yT(t){const e={},n=[];let r;const i={addCase(a,l){const h=typeof a=="string"?a:a.type;if(!h)throw new Error(ui(28));if(h in e)throw new Error(ui(29));return e[h]=l,i},addAsyncThunk(a,l){return l.pending&&(e[a.pending.type]=l.pending),l.rejected&&(e[a.rejected.type]=l.rejected),l.fulfilled&&(e[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function KD(t){return typeof t=="function"}function ZD(t,e){let[n,r,i]=yT(e),a;if(KD(t))a=()=>l_(t());else{const h=l_(t);a=()=>h}function l(h=a(),m){let g=[n[m.type],...r.filter(({matcher:w})=>w(m)).map(({reducer:w})=>w)];return g.filter(w=>!!w).length===0&&(g=[i]),g.reduce((w,x)=>{if(x)if(Yo(w)){const C=x(w,m);return C===void 0?w:C}else{if(gi(w))return mT(w,E=>x(E,m));{const E=x(w,m);if(E===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return w},h)}return l.getInitialState=a,l}var QD=(t,e)=>UD(t)?t.match(e):t(e);function YD(...t){return e=>t.some(n=>QD(n,e))}var XD="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",JD=(t=21)=>{let e="",n=t;for(;n--;)e+=XD[Math.random()*64|0];return e},eO=["name","message","stack","code"],Ip=class{constructor(t,e){this.payload=t,this.meta=e}_type},u_=class{constructor(t,e){this.payload=t,this.meta=e}_type},tO=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of eO)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},d_="External signal was aborted",Sy=(()=>{function t(e,n,r){const i=Mc(e+"/fulfilled",(m,g,w,x)=>({payload:m,meta:{...x||{},arg:w,requestId:g,requestStatus:"fulfilled"}})),a=Mc(e+"/pending",(m,g,w)=>({payload:void 0,meta:{...w||{},arg:g,requestId:m,requestStatus:"pending"}})),l=Mc(e+"/rejected",(m,g,w,x,E)=>({payload:x,error:(r&&r.serializeError||tO)(m||"Rejected"),meta:{...E||{},arg:w,requestId:g,rejectedWithValue:!!x,requestStatus:"rejected",aborted:m?.name==="AbortError",condition:m?.name==="ConditionError"}}));function h(m,{signal:g}={}){return(w,x,E)=>{const C=r?.idGenerator?r.idGenerator(m):JD(),O=new AbortController;let U,M;function G(Q){M=Q,O.abort()}g&&(g.aborted?G(d_):g.addEventListener("abort",()=>G(d_),{once:!0}));const $=(async function(){let Q;try{let B=r?.condition?.(m,{getState:x,extra:E});if(rO(B)&&(B=await B),B===!1||O.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const de=new Promise((k,I)=>{U=()=>{I({name:"AbortError",message:M||"Aborted"})},O.signal.addEventListener("abort",U)});w(a(C,m,r?.getPendingMeta?.({requestId:C,arg:m},{getState:x,extra:E}))),Q=await Promise.race([de,Promise.resolve(n(m,{dispatch:w,getState:x,extra:E,requestId:C,signal:O.signal,abort:G,rejectWithValue:(k,I)=>new Ip(k,I),fulfillWithValue:(k,I)=>new u_(k,I)})).then(k=>{if(k instanceof Ip)throw k;return k instanceof u_?i(k.payload,C,m,k.meta):i(k,C,m)})])}catch(B){Q=B instanceof Ip?l(null,C,m,B.payload,B.meta):l(B,C,m)}finally{U&&O.signal.removeEventListener("abort",U)}return r&&!r.dispatchConditionRejection&&l.match(Q)&&Q.meta.condition||w(Q),Q})();return Object.assign($,{abort:G,requestId:C,arg:m,unwrap(){return $.then(nO)}})}}return Object.assign(h,{pending:a,rejected:l,fulfilled:i,settled:YD(l,i),typePrefix:e})}return t.withTypes=()=>t,t})();function nO(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function rO(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var sO=Symbol.for("rtk-slice-createasyncthunk");function iO(t,e){return`${t}/${e}`}function oO({creators:t}={}){const e=t?.asyncThunk?.[sO];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(ui(11));const l=(typeof r.reducers=="function"?r.reducers(lO()):r.reducers)||{},h=Object.keys(l),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(Q,ee){const B=typeof Q=="string"?Q:Q.type;if(!B)throw new Error(ui(12));if(B in m.sliceCaseReducersByType)throw new Error(ui(13));return m.sliceCaseReducersByType[B]=ee,g},addMatcher(Q,ee){return m.sliceMatchers.push({matcher:Q,reducer:ee}),g},exposeAction(Q,ee){return m.actionCreators[Q]=ee,g},exposeCaseReducer(Q,ee){return m.sliceCaseReducersByName[Q]=ee,g}};h.forEach(Q=>{const ee=l[Q],B={reducerName:Q,type:iO(i,Q),createNotation:typeof r.reducers=="function"};uO(ee)?hO(B,ee,g,e):cO(B,ee,g)});function w(){const[Q={},ee=[],B=void 0]=typeof r.extraReducers=="function"?yT(r.extraReducers):[r.extraReducers],de={...Q,...m.sliceCaseReducersByType};return ZD(r.initialState,k=>{for(let I in de)k.addCase(I,de[I]);for(let I of m.sliceMatchers)k.addMatcher(I.matcher,I.reducer);for(let I of ee)k.addMatcher(I.matcher,I.reducer);B&&k.addDefaultCase(B)})}const x=Q=>Q,E=new Map,C=new WeakMap;let O;function U(Q,ee){return O||(O=w()),O(Q,ee)}function M(){return O||(O=w()),O.getInitialState()}function G(Q,ee=!1){function B(k){let I=k[Q];return typeof I>"u"&&ee&&(I=Vd(C,B,M)),I}function de(k=x){const I=Vd(E,ee,()=>new WeakMap);return Vd(I,k,()=>{const A={};for(const[D,j]of Object.entries(r.selectors??{}))A[D]=aO(j,k,()=>Vd(C,k,M),ee);return A})}return{reducerPath:Q,getSelectors:de,get selectors(){return de(B)},selectSlice:B}}const $={name:i,reducer:U,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:M,...G(a),injectInto(Q,{reducerPath:ee,...B}={}){const de=ee??a;return Q.inject({reducerPath:de,reducer:U},B),{...$,...G(de,!0)}}};return $}}function aO(t,e,n,r){function i(a,...l){let h=e(a);return typeof h>"u"&&r&&(h=n()),t(h,...l)}return i.unwrapped=t,i}var vT=oO();function lO(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function cO({type:t,reducerName:e,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!dO(r))throw new Error(ui(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,l?Mc(t,l):Mc(t))}function uO(t){return t._reducerDefinitionType==="asyncThunk"}function dO(t){return t._reducerDefinitionType==="reducerWithPrepare"}function hO({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ui(18));const{payloadCreator:a,fulfilled:l,pending:h,rejected:m,settled:g,options:w}=n,x=i(t,a,w);r.exposeAction(e,x),l&&r.addCase(x.fulfilled,l),h&&r.addCase(x.pending,h),m&&r.addCase(x.rejected,m),g&&r.addMatcher(x.settled,g),r.exposeCaseReducer(e,{fulfilled:l||Ld,pending:h||Ld,rejected:m||Ld,settled:g||Ld})}function Ld(){}function ui(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const xT=async t=>{let n=(await ai(Nt(Ke,"users",t.uid))).data();if(!n){const r=Ut(Ke,"users"),i=nr(r,Et("email","==",t.email)),a=await pn(i);a.empty||(n=a.docs[0].data(),await ff(Nt(Ke,"users",t.uid),{...n,firebaseUid:t.uid,updatedAt:new Date().toISOString()}))}return{id:t.uid,email:t.email,firstName:n?.firstName||t.displayName?.split(" ")[0]||"",lastName:n?.lastName||t.displayName?.split(" ")[1]||"",phone:n?.phone||"",role:n?.role||"customer",createdAt:n?.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()}},fO=async t=>{try{const{email:e,password:n,firstName:r,lastName:i,phone:a}=t,h=(await _A(pu,e,n)).user;await TA(h,{displayName:`${r} ${i}`});const m={firstName:r,lastName:i,email:e,phone:a||"",role:"customer",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return await ff(Nt(Ke,"users",h.uid),m),{id:h.uid,...m}}catch(e){throw new Error(e.message||"Failed to create account")}},mO=async t=>{try{const{email:e,password:n}=t,i=(await EA(pu,e,n)).user;return await xT(i)}catch(e){throw new Error(e.message||"Failed to sign in")}},pO=async()=>{try{await kA(pu)}catch(t){throw new Error(t.message||"Failed to sign out")}},gO=async()=>{const t=pu.currentUser;return t?await xT(t):null},yO={user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,loading:!1},nh=Sy("auth/loginUser",async(t,{rejectWithValue:e})=>{try{return await mO(t)}catch(n){return e(n.message)}}),rh=Sy("auth/signupUser",async(t,{rejectWithValue:e})=>{try{return await fO(t)}catch(n){return e(n.message)}}),Vc=Sy("auth/logoutUser",async(t,{rejectWithValue:e})=>{try{await pO()}catch(n){return e(n.message)}}),wT=vT({name:"auth",initialState:yO,reducers:{setUser:(t,e)=>{t.user=e.payload,t.isAuthenticated=!!e.payload,t.loading=!1},setLoading:(t,e)=>{t.loading=e.payload},clearError:t=>{t.error=void 0}},extraReducers:t=>{t.addCase(nh.pending,e=>{e.loading=!0,e.error=void 0}).addCase(nh.fulfilled,(e,n)=>{e.loading=!1,e.user=n.payload,e.isAuthenticated=!0,e.error=void 0}).addCase(nh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(rh.pending,e=>{e.loading=!0,e.error=void 0}).addCase(rh.fulfilled,(e,n)=>{e.loading=!1,e.user=n.payload,e.isAuthenticated=!0,e.error=void 0}).addCase(rh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(Vc.pending,e=>{e.loading=!0}).addCase(Vc.fulfilled,e=>{e.loading=!1,e.user=null,e.isAuthenticated=!1,e.accessToken=null,e.refreshToken=null,e.error=void 0}).addCase(Vc.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),{setUser:sh,setLoading:h_,clearError:_T}=wT.actions,vO=wT.reducer,f_={selectedRoom:null,checkIn:"",checkOut:"",guests:1,extras:[],guestInfo:null,promoCode:"",discount:0,step:1},ET=vT({name:"booking",initialState:f_,reducers:{setBookingDates:(t,e)=>{t.checkIn=e.payload.checkIn,t.checkOut=e.payload.checkOut,t.guests=e.payload.guests},setSelectedRoom:(t,e)=>{t.selectedRoom=e.payload},addExtra:(t,e)=>{const n=t.extras.findIndex(r=>r.id===e.payload.id);n>=0?t.extras[n].quantity+=e.payload.quantity:t.extras.push(e.payload)},removeExtra:(t,e)=>{t.extras=t.extras.filter(n=>n.id!==e.payload)},updateExtraQuantity:(t,e)=>{const n=t.extras.find(r=>r.id===e.payload.id);n&&(n.quantity=e.payload.quantity)},setGuestInfo:(t,e)=>{t.guestInfo=e.payload},setPromoCode:(t,e)=>{t.promoCode=e.payload.code,t.discount=e.payload.discount},clearPromoCode:t=>{t.promoCode="",t.discount=0},setBookingStep:(t,e)=>{t.step=e.payload},nextStep:t=>{t.step+=1},previousStep:t=>{t.step-=1},clearBooking:t=>f_}}),{setBookingDates:vF,setSelectedRoom:xF,addExtra:xO,removeExtra:wO,updateExtraQuantity:wF,setGuestInfo:_O,setPromoCode:_F,clearPromoCode:EF,setBookingStep:bF,nextStep:TF,previousStep:IF,clearBooking:NF}=ET.actions,EO=ET.reducer,bO=GD({reducer:{auth:vO,booking:EO}});/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var m_="popstate";function TO(t={}){function e(r,i){let{pathname:a,search:l,hash:h}=r.location;return hg("",{pathname:a,search:l,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:eu(i)}return NO(e,n,null,t)}function St(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IO(){return Math.random().toString(36).substring(2,10)}function p_(t,e){return{usr:t.state,key:t.key,idx:e}}function hg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Tl(e):e,state:n,key:e&&e.key||r||IO()}}function eu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Tl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function NO(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,h="POP",m=null,g=w();g==null&&(g=0,l.replaceState({...l.state,idx:g},""));function w(){return(l.state||{idx:null}).idx}function x(){h="POP";let M=w(),G=M==null?null:M-g;g=M,m&&m({action:h,location:U.location,delta:G})}function E(M,G){h="PUSH";let $=hg(U.location,M,G);g=w()+1;let Q=p_($,g),ee=U.createHref($);try{l.pushState(Q,"",ee)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(ee)}a&&m&&m({action:h,location:U.location,delta:1})}function C(M,G){h="REPLACE";let $=hg(U.location,M,G);g=w();let Q=p_($,g),ee=U.createHref($);l.replaceState(Q,"",ee),a&&m&&m({action:h,location:U.location,delta:0})}function O(M){return SO(M)}let U={get action(){return h},get location(){return t(i,l)},listen(M){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(m_,x),m=M,()=>{i.removeEventListener(m_,x),m=null}},createHref(M){return e(i,M)},createURL:O,encodeLocation(M){let G=O(M);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:E,replace:C,go(M){return l.go(M)}};return U}function SO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),St(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:eu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function bT(t,e,n="/"){return kO(t,e,n,!1)}function kO(t,e,n,r){let i=typeof e=="string"?Tl(e):e,a=yi(i.pathname||"/",n);if(a==null)return null;let l=TT(t);AO(l);let h=null;for(let m=0;h==null&&m<l.length;++m){let g=zO(a);h=LO(l[m],g,r)}return h}function TT(t,e=[],n=[],r="",i=!1){let a=(l,h,m=i,g)=>{let w={relativePath:g===void 0?l.path||"":g,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(r)&&m)return;St(w.relativePath.startsWith(r),`Absolute route path "${w.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(r.length)}let x=di([r,w.relativePath]),E=n.concat(w);l.children&&l.children.length>0&&(St(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),TT(l.children,e,E,x,m)),!(l.path==null&&!l.index)&&e.push({path:x,score:MO(x,l.index),routesMeta:E})};return t.forEach((l,h)=>{if(l.path===""||!l.path?.includes("?"))a(l,h);else for(let m of IT(l.path))a(l,h,!0,m)}),e}function IT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=IT(r.join("/")),h=[];return h.push(...l.map(m=>m===""?a:[a,m].join("/"))),i&&h.push(...l),h.map(m=>t.startsWith("/")&&m===""?"/":m)}function AO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var CO=/^:[\w-]+$/,RO=3,PO=2,jO=1,DO=10,OO=-2,g_=t=>t==="*";function MO(t,e){let n=t.split("/"),r=n.length;return n.some(g_)&&(r+=OO),e&&(r+=PO),n.filter(i=>!g_(i)).reduce((i,a)=>i+(CO.test(a)?RO:a===""?jO:DO),r)}function VO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function LO(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let h=0;h<r.length;++h){let m=r[h],g=h===r.length-1,w=a==="/"?e:e.slice(a.length)||"/",x=jh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},w),E=m.route;if(!x&&g&&n&&!r[r.length-1].route.index&&(x=jh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},w)),!x)return null;Object.assign(i,x.params),l.push({params:i,pathname:di([a,x.pathname]),pathnameBase:HO(di([a,x.pathnameBase])),route:E}),x.pathnameBase!=="/"&&(a=di([a,x.pathnameBase]))}return l}function jh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=FO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((g,{paramName:w,isOptional:x},E)=>{if(w==="*"){let O=h[E]||"";l=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const C=h[E];return x&&!C?g[w]=void 0:g[w]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:l,pattern:t}}function FO(t,e=!1,n=!0){Lr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,m)=>(r.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function yi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function UO(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Tl(t):t;return{pathname:n?n.startsWith("/")?n:$O(n,e):e,search:qO(r),hash:WO(i)}}function $O(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Np(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ky(t){let e=BO(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ay(t,e,n,r=!1){let i;typeof t=="string"?i=Tl(t):(i={...t},St(!i.pathname||!i.pathname.includes("?"),Np("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),Np("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),Np("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,h;if(l==null)h=n;else{let x=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),x-=1;i.pathname=E.join("/")}h=x>=0?e[x]:"/"}let m=UO(i,h),g=l&&l!=="/"&&l.endsWith("/"),w=(a||l===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||w)&&(m.pathname+="/"),m}var di=t=>t.join("/").replace(/\/\/+/g,"/"),HO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var NT=["POST","PUT","PATCH","DELETE"];new Set(NT);var KO=["GET",...NT];new Set(KO);var Il=z.createContext(null);Il.displayName="DataRouter";var _f=z.createContext(null);_f.displayName="DataRouterState";z.createContext(!1);var ST=z.createContext({isTransitioning:!1});ST.displayName="ViewTransition";var ZO=z.createContext(new Map);ZO.displayName="Fetchers";var QO=z.createContext(null);QO.displayName="Await";var cs=z.createContext(null);cs.displayName="Navigation";var yu=z.createContext(null);yu.displayName="Location";var zr=z.createContext({outlet:null,matches:[],isDataRoute:!1});zr.displayName="Route";var Cy=z.createContext(null);Cy.displayName="RouteError";function YO(t,{relative:e}={}){St(Nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=z.useContext(cs),{hash:i,pathname:a,search:l}=vu(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:di([n,a])),r.createHref({pathname:h,search:l,hash:i})}function Nl(){return z.useContext(yu)!=null}function us(){return St(Nl(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(yu).location}var kT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AT(t){z.useContext(cs).static||z.useLayoutEffect(t)}function Ur(){let{isDataRoute:t}=z.useContext(zr);return t?h6():XO()}function XO(){St(Nl(),"useNavigate() may be used only in the context of a <Router> component.");let t=z.useContext(Il),{basename:e,navigator:n}=z.useContext(cs),{matches:r}=z.useContext(zr),{pathname:i}=us(),a=JSON.stringify(ky(r)),l=z.useRef(!1);return AT(()=>{l.current=!0}),z.useCallback((m,g={})=>{if(Lr(l.current,kT),!l.current)return;if(typeof m=="number"){n.go(m);return}let w=Ay(m,JSON.parse(a),i,g.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:di([e,w.pathname])),(g.replace?n.replace:n.push)(w,g.state,g)},[e,n,a,i,t])}var JO=z.createContext(null);function e6(t){let e=z.useContext(zr).outlet;return z.useMemo(()=>e&&z.createElement(JO.Provider,{value:t},e),[e,t])}function CT(){let{matches:t}=z.useContext(zr),e=t[t.length-1];return e?e.params:{}}function vu(t,{relative:e}={}){let{matches:n}=z.useContext(zr),{pathname:r}=us(),i=JSON.stringify(ky(n));return z.useMemo(()=>Ay(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function t6(t,e){return RT(t,e)}function RT(t,e,n,r,i){St(Nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=z.useContext(cs),{matches:l}=z.useContext(zr),h=l[l.length-1],m=h?h.params:{},g=h?h.pathname:"/",w=h?h.pathnameBase:"/",x=h&&h.route;{let $=x&&x.path||"";PT(g,!x||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let E=us(),C;if(e){let $=typeof e=="string"?Tl(e):e;St(w==="/"||$.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${$.pathname}" was given in the \`location\` prop.`),C=$}else C=E;let O=C.pathname||"/",U=O;if(w!=="/"){let $=w.replace(/^\//,"").split("/");U="/"+O.replace(/^\//,"").split("/").slice($.length).join("/")}let M=bT(t,{pathname:U});Lr(x||M!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Lr(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=o6(M&&M.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:di([w,a.encodeLocation?a.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?w:di([w,a.encodeLocation?a.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),l,n,r,i);return e&&G?z.createElement(yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},G):G}function n6(){let t=d6(),e=GO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:a},"ErrorBoundary")," or"," ",z.createElement("code",{style:a},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,l)}var r6=z.createElement(n6,null),s6=class extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?z.createElement(zr.Provider,{value:this.props.routeContext},z.createElement(Cy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function i6({routeContext:t,match:e,children:n}){let r=z.useContext(Il);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(zr.Provider,{value:t},n)}function o6(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let g=a.findIndex(w=>w.route.id&&l?.[w.route.id]!==void 0);St(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<a.length;g++){let w=a[g];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=g),w.route.id){let{loaderData:x,errors:E}=n,C=w.route.loader&&!x.hasOwnProperty(w.route.id)&&(!E||E[w.route.id]===void 0);if(w.route.lazy||C){h=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,w,x)=>{let E,C=!1,O=null,U=null;n&&(E=l&&w.route.id?l[w.route.id]:void 0,O=w.route.errorElement||r6,h&&(m<0&&x===0?(PT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,U=null):m===x&&(C=!0,U=w.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,x+1)),G=()=>{let $;return E?$=O:C?$=U:w.route.Component?$=z.createElement(w.route.Component,null):w.route.element?$=w.route.element:$=g,z.createElement(i6,{match:w,routeContext:{outlet:g,matches:M,isDataRoute:n!=null},children:$})};return n&&(w.route.ErrorBoundary||w.route.errorElement||x===0)?z.createElement(s6,{location:n.location,revalidation:n.revalidation,component:O,error:E,children:G(),routeContext:{outlet:null,matches:M,isDataRoute:!0},unstable_onError:r}):G()},null)}function Ry(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a6(t){let e=z.useContext(Il);return St(e,Ry(t)),e}function l6(t){let e=z.useContext(_f);return St(e,Ry(t)),e}function c6(t){let e=z.useContext(zr);return St(e,Ry(t)),e}function Py(t){let e=c6(t),n=e.matches[e.matches.length-1];return St(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function u6(){return Py("useRouteId")}function d6(){let t=z.useContext(Cy),e=l6("useRouteError"),n=Py("useRouteError");return t!==void 0?t:e.errors?.[n]}function h6(){let{router:t}=a6("useNavigate"),e=Py("useNavigate"),n=z.useRef(!1);return AT(()=>{n.current=!0}),z.useCallback(async(i,a={})=>{Lr(n.current,kT),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var y_={};function PT(t,e,n){!e&&!y_[t]&&(y_[t]=!0,Lr(!1,n))}z.memo(f6);function f6({routes:t,future:e,state:n,unstable_onError:r}){return RT(t,void 0,n,r,e)}function Fd({to:t,replace:e,state:n,relative:r}){St(Nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=z.useContext(cs);Lr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=z.useContext(zr),{pathname:l}=us(),h=Ur(),m=Ay(t,ky(a),l,r==="path"),g=JSON.stringify(m);return z.useEffect(()=>{h(JSON.parse(g),{replace:e,state:n,relative:r})},[h,g,r,e,n]),null}function m6(t){return e6(t.context)}function jn(t){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function p6({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){St(!Nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),h=z.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=Tl(n));let{pathname:m="/",search:g="",hash:w="",state:x=null,key:E="default"}=n,C=z.useMemo(()=>{let O=yi(m,l);return O==null?null:{location:{pathname:O,search:g,hash:w,state:x,key:E},navigationType:r}},[l,m,g,w,x,E,r]);return Lr(C!=null,`<Router basename="${l}"> is not able to match the URL "${m}${g}${w}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:z.createElement(cs.Provider,{value:h},z.createElement(yu.Provider,{children:e,value:C}))}function g6({children:t,location:e}){return t6(fg(t),e)}function fg(t,e=[]){let n=[];return z.Children.forEach(t,(r,i)=>{if(!z.isValidElement(r))return;let a=[...e,i];if(r.type===z.Fragment){n.push.apply(n,fg(r.props.children,a));return}St(r.type===jn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=fg(r.props.children,a)),n.push(l)}),n}var ih="get",oh="application/x-www-form-urlencoded";function Ef(t){return t!=null&&typeof t.tagName=="string"}function y6(t){return Ef(t)&&t.tagName.toLowerCase()==="button"}function v6(t){return Ef(t)&&t.tagName.toLowerCase()==="form"}function x6(t){return Ef(t)&&t.tagName.toLowerCase()==="input"}function w6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _6(t,e){return t.button===0&&(!e||e==="_self")&&!w6(t)}function mg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function E6(t,e){let n=mg(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var zd=null;function b6(){if(zd===null)try{new FormData(document.createElement("form"),0),zd=!1}catch{zd=!0}return zd}var T6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sp(t){return t!=null&&!T6.has(t)?(Lr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):t}function I6(t,e){let n,r,i,a,l;if(v6(t)){let h=t.getAttribute("action");r=h?yi(h,e):null,n=t.getAttribute("method")||ih,i=Sp(t.getAttribute("enctype"))||oh,a=new FormData(t)}else if(y6(t)||x6(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||h.getAttribute("action");if(r=m?yi(m,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||ih,i=Sp(t.getAttribute("formenctype"))||Sp(h.getAttribute("enctype"))||oh,a=new FormData(h,t),!b6()){let{name:g,type:w,value:x}=t;if(w==="image"){let E=g?`${g}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else g&&a.append(g,x)}}else{if(Ef(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ih,r=null,i=oh,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function N6(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&yi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function S6(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function A6(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await S6(a,n);return l.links?l.links():[]}return[]}));return j6(r.flat(1).filter(k6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function v_(t,e,n,r,i,a){let l=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,h=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return a==="assets"?e.filter((m,g)=>l(m,g)||h(m,g)):a==="data"?e.filter((m,g)=>{let w=r.routes[m.route.id];if(!w||!w.hasLoader)return!1;if(l(m,g)||h(m,g))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function C6(t,e,{includeHydrateFallback:n}={}){return R6(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function R6(t){return[...new Set(t)]}function P6(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function j6(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(P6(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function jT(){let t=z.useContext(Il);return jy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function D6(){let t=z.useContext(_f);return jy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Dy=z.createContext(void 0);Dy.displayName="FrameworkContext";function DT(){let t=z.useContext(Dy);return jy(t,"You must render this element inside a <HydratedRouter> element"),t}function O6(t,e){let n=z.useContext(Dy),[r,i]=z.useState(!1),[a,l]=z.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:g,onMouseLeave:w,onTouchStart:x}=e,E=z.useRef(null);z.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let U=G=>{G.forEach($=>{l($.isIntersecting)})},M=new IntersectionObserver(U,{threshold:.5});return E.current&&M.observe(E.current),()=>{M.disconnect()}}},[t]),z.useEffect(()=>{if(r){let U=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(U)}}},[r]);let C=()=>{i(!0)},O=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:gc(h,C),onBlur:gc(m,O),onMouseEnter:gc(g,C),onMouseLeave:gc(w,O),onTouchStart:gc(x,C)}]:[!1,E,{}]}function gc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function M6({page:t,...e}){let{router:n}=jT(),r=z.useMemo(()=>bT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?z.createElement(L6,{page:t,matches:r,...e}):null}function V6(t){let{manifest:e,routeModules:n}=DT(),[r,i]=z.useState([]);return z.useEffect(()=>{let a=!1;return A6(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function L6({page:t,matches:e,...n}){let r=us(),{manifest:i,routeModules:a}=DT(),{basename:l}=jT(),{loaderData:h,matches:m}=D6(),g=z.useMemo(()=>v_(t,e,m,i,r,"data"),[t,e,m,i,r]),w=z.useMemo(()=>v_(t,e,m,i,r,"assets"),[t,e,m,i,r]),x=z.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let O=new Set,U=!1;if(e.forEach(G=>{let $=i.routes[G.route.id];!$||!$.hasLoader||(!g.some(Q=>Q.route.id===G.route.id)&&G.route.id in h&&a[G.route.id]?.shouldRevalidate||$.hasClientLoader?U=!0:O.add(G.route.id))}),O.size===0)return[];let M=N6(t,l,"data");return U&&O.size>0&&M.searchParams.set("_routes",e.filter(G=>O.has(G.route.id)).map(G=>G.route.id).join(",")),[M.pathname+M.search]},[l,h,r,i,g,e,t,a]),E=z.useMemo(()=>C6(w,i),[w,i]),C=V6(w);return z.createElement(z.Fragment,null,x.map(O=>z.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),E.map(O=>z.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),C.map(({key:O,link:U})=>z.createElement("link",{key:O,nonce:n.nonce,...U})))}function F6(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OT&&(window.__reactRouterVersion="7.9.4")}catch{}function z6({basename:t,children:e,window:n}){let r=z.useRef();r.current==null&&(r.current=TO({window:n,v5Compat:!0}));let i=r.current,[a,l]=z.useState({action:i.action,location:i.location}),h=z.useCallback(m=>{z.startTransition(()=>l(m))},[l]);return z.useLayoutEffect(()=>i.listen(h),[i,h]),z.createElement(p6,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var MT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=z.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:h,target:m,to:g,preventScrollReset:w,viewTransition:x,...E},C){let{basename:O}=z.useContext(cs),U=typeof g=="string"&&MT.test(g),M,G=!1;if(typeof g=="string"&&U&&(M=g,OT))try{let A=new URL(window.location.href),D=g.startsWith("//")?new URL(A.protocol+g):new URL(g),j=yi(D.pathname,O);D.origin===A.origin&&j!=null?g=j+D.search+D.hash:G=!0}catch{Lr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=YO(g,{relative:i}),[Q,ee,B]=O6(r,E),de=H6(g,{replace:l,state:h,target:m,preventScrollReset:w,relative:i,viewTransition:x});function k(A){e&&e(A),A.defaultPrevented||de(A)}let I=z.createElement("a",{...E,...B,href:M||$,onClick:G||a?e:k,ref:F6(C,ee),target:m,"data-discover":!U&&n==="render"?"true":void 0});return Q&&!U?z.createElement(z.Fragment,null,I,z.createElement(M6,{page:$})):I});Le.displayName="Link";var U6=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:h,children:m,...g},w){let x=vu(l,{relative:g.relative}),E=us(),C=z.useContext(_f),{navigator:O,basename:U}=z.useContext(cs),M=C!=null&&Z6(x)&&h===!0,G=O.encodeLocation?O.encodeLocation(x).pathname:x.pathname,$=E.pathname,Q=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||($=$.toLowerCase(),Q=Q?Q.toLowerCase():null,G=G.toLowerCase()),Q&&U&&(Q=yi(Q,U)||Q);const ee=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let B=$===G||!i&&$.startsWith(G)&&$.charAt(ee)==="/",de=Q!=null&&(Q===G||!i&&Q.startsWith(G)&&Q.charAt(G.length)==="/"),k={isActive:B,isPending:de,isTransitioning:M},I=B?e:void 0,A;typeof r=="function"?A=r(k):A=[r,B?"active":null,de?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(k):a;return z.createElement(Le,{...g,"aria-current":I,className:A,ref:w,style:D,to:l,viewTransition:h},typeof m=="function"?m(k):m)});U6.displayName="NavLink";var $6=z.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=ih,action:h,onSubmit:m,relative:g,preventScrollReset:w,viewTransition:x,...E},C)=>{let O=G6(),U=K6(h,{relative:g}),M=l.toLowerCase()==="get"?"get":"post",G=typeof h=="string"&&MT.test(h),$=Q=>{if(m&&m(Q),Q.defaultPrevented)return;Q.preventDefault();let ee=Q.nativeEvent.submitter,B=ee?.getAttribute("formmethod")||l;O(ee||Q.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:i,state:a,relative:g,preventScrollReset:w,viewTransition:x})};return z.createElement("form",{ref:C,method:M,action:U,onSubmit:r?m:$,...E,"data-discover":!G&&t==="render"?"true":void 0})});$6.displayName="Form";function B6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VT(t){let e=z.useContext(Il);return St(e,B6(t)),e}function H6(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let h=Ur(),m=us(),g=vu(t,{relative:a});return z.useCallback(w=>{if(_6(w,e)){w.preventDefault();let x=n!==void 0?n:eu(m)===eu(g);h(t,{replace:x,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[m,h,g,n,r,e,t,i,a,l])}function LT(t){Lr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=z.useRef(mg(t)),n=z.useRef(!1),r=us(),i=z.useMemo(()=>E6(r.search,n.current?null:e.current),[r.search]),a=Ur(),l=z.useCallback((h,m)=>{const g=mg(typeof h=="function"?h(new URLSearchParams(i)):h);n.current=!0,a("?"+g,m)},[a,i]);return[i,l]}var q6=0,W6=()=>`__${String(++q6)}__`;function G6(){let{router:t}=VT("useSubmit"),{basename:e}=z.useContext(cs),n=u6();return z.useCallback(async(r,i={})=>{let{action:a,method:l,encType:h,formData:m,body:g}=I6(r,e);if(i.navigate===!1){let w=i.fetcherKey||W6();await t.fetch(w,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:m,body:g,formMethod:i.method||l,formEncType:i.encType||h,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:m,body:g,formMethod:i.method||l,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function K6(t,{relative:e}={}){let{basename:n}=z.useContext(cs),r=z.useContext(zr);St(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...vu(t||".",{relative:e})},l=us();if(t==null){a.search=l.search;let h=new URLSearchParams(a.search),m=h.getAll("index");if(m.some(w=>w==="")){h.delete("index"),m.filter(x=>x).forEach(x=>h.append("index",x));let w=h.toString();a.search=w?`?${w}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:di([n,a.pathname])),eu(a)}function Z6(t,{relative:e}={}){let n=z.useContext(ST);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=VT("useViewTransitionState"),i=vu(t,{relative:e});if(!n.isTransitioning)return!1;let a=yi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=yi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jh(i.pathname,l)!=null||jh(i.pathname,a)!=null}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y6=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),x_=t=>{const e=Y6(t);return e.charAt(0).toUpperCase()+e.slice(1)},FT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var X6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...h},m)=>z.createElement("svg",{ref:m,...X6,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:FT("lucide",i),...h},[...l.map(([g,w])=>z.createElement(g,w)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,e)=>{const n=z.forwardRef(({className:r,...i},a)=>z.createElement(J6,{ref:a,iconNode:e,className:FT(`lucide-${Q6(x_(t))}`,`lucide-${t}`,r),...i}));return n.displayName=x_(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],pg=Ge("award",eM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],nM=Ge("bell",tM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],zT=Ge("building",rM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ps=Ge("calendar",sM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],oM=Ge("chart-column",iM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Lc=Ge("circle-alert",aM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],cM=Ge("circle-check-big",lM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],dM=Ge("circle-x",uM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Oy=Ge("clock",hM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],mM=Ge("credit-card",fM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],UT=Ge("dollar-sign",pM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],$T=Ge("download",gM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],vM=Ge("ellipsis-vertical",yM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],gg=Ge("eye-off",xM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tu=Ge("eye",wM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],EM=Ge("facebook",_M);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],BT=Ge("funnel",bM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],HT=Ge("headphones",TM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],NM=Ge("heart",IM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],kM=Ge("house",SM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],CM=Ge("instagram",AM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],PM=Ge("linkedin",RM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],DM=Ge("lock",jM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],qT=Ge("log-out",OM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Fc=Ge("mail",MM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Dh=Ge("map-pin",VM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],FM=Ge("maximize-2",LM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],UM=Ge("menu",zM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],BM=Ge("message-square",$M);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],zc=Ge("phone",HM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],WM=Ge("plus",qM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Oh=Ge("search",GM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ZM=Ge("send",KM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yg=Ge("settings",QM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],My=Ge("shield",YM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],w_=Ge("sliders-horizontal",XM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Vy=Ge("star",JM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],tV=Ge("trash-2",eV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],WT=Ge("trending-up",nV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yc=Ge("triangle-alert",rV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],iV=Ge("twitter",sV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Mh=Ge("user",oV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],pl=Ge("users",aV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],GT=Ge("x",lV),uo=()=>aS(),Fr=uS,cV=()=>{const[t,e]=z.useState(!1),[n,r]=z.useState(!1),{isAuthenticated:i,user:a}=Fr(g=>g.auth),l=uo(),h=Ur(),m=async()=>{try{await l(Vc()).unwrap(),h("/"),r(!1)}catch(g){console.error("Logout error:",g)}};return u.jsx("header",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur-md border-b border-neutral-100",children:u.jsxs("nav",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[u.jsxs("div",{className:"flex items-center justify-between h-20",children:[u.jsxs(Le,{to:"/",className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-10 h-10 bg-neutral-900 rounded-xl flex items-center justify-center",children:u.jsx("span",{className:"text-white",children:"L"})}),u.jsx("span",{className:"text-neutral-900",children:"LuxeStay"})]}),u.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[u.jsx(Le,{to:"/search",className:"text-neutral-700 hover:text-neutral-900 transition-colors",children:"Rooms"}),u.jsx(Le,{to:"/about",className:"text-neutral-700 hover:text-neutral-900 transition-colors",children:"About"}),u.jsx(Le,{to:"/contact",className:"text-neutral-700 hover:text-neutral-900 transition-colors",children:"Contact"})]}),u.jsx("div",{className:"hidden md:flex items-center gap-4",children:i?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-3 px-4 py-2 rounded-xl hover:bg-neutral-50 transition-colors",children:[u.jsx("div",{className:"w-9 h-9 bg-neutral-900 rounded-full flex items-center justify-center",children:u.jsxs("span",{className:"text-sm text-white",children:[a?.firstName?.charAt(0),a?.lastName?.charAt(0)]})}),u.jsx("span",{className:"text-neutral-900",children:a?.firstName})]}),n&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>r(!1)}),u.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-2xl shadow-xl border border-neutral-100 py-2 z-20",children:[u.jsxs(Le,{to:"/profile",onClick:()=>r(!1),className:"flex items-center gap-3 px-4 py-3 hover:bg-neutral-50 transition-colors",children:[u.jsx(Mh,{className:"w-5 h-5 text-neutral-600"}),u.jsx("span",{className:"text-neutral-900",children:"Profile"})]}),u.jsxs(Le,{to:"/bookings",onClick:()=>r(!1),className:"flex items-center gap-3 px-4 py-3 hover:bg-neutral-50 transition-colors",children:[u.jsx(Ps,{className:"w-5 h-5 text-neutral-600"}),u.jsx("span",{className:"text-neutral-900",children:"My Bookings"})]}),a?.role==="admin"&&u.jsxs(Le,{to:"/admin",onClick:()=>r(!1),className:"flex items-center gap-3 px-4 py-3 hover:bg-neutral-50 transition-colors",children:[u.jsx(yg,{className:"w-5 h-5 text-neutral-600"}),u.jsx("span",{className:"text-neutral-900",children:"Admin Dashboard"})]}),u.jsx("div",{className:"my-2 border-t border-neutral-100"}),u.jsxs("button",{onClick:m,className:"flex items-center gap-3 px-4 py-3 hover:bg-neutral-50 transition-colors w-full text-left",children:[u.jsx(qT,{className:"w-5 h-5 text-neutral-600"}),u.jsx("span",{className:"text-neutral-900",children:"Log Out"})]})]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx(Le,{to:"/login",className:"text-neutral-900 hover:text-neutral-700 transition-colors px-4 py-2",children:"Log In"}),u.jsx(Le,{to:"/signup",className:"bg-neutral-900 text-white px-6 py-2.5 rounded-xl hover:bg-neutral-800 transition-colors",children:"Sign Up"})]})}),u.jsx("button",{onClick:()=>e(!t),className:"md:hidden p-2 rounded-xl hover:bg-neutral-50",children:t?u.jsx(GT,{className:"w-6 h-6 text-neutral-900"}):u.jsx(UM,{className:"w-6 h-6 text-neutral-900"})})]}),t&&u.jsx("div",{className:"md:hidden py-6 border-t border-neutral-100",children:u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Le,{to:"/search",onClick:()=>e(!1),className:"text-neutral-700 hover:text-neutral-900 transition-colors py-2",children:"Rooms"}),u.jsx(Le,{to:"/about",onClick:()=>e(!1),className:"text-neutral-700 hover:text-neutral-900 transition-colors py-2",children:"About"}),u.jsx(Le,{to:"/contact",onClick:()=>e(!1),className:"text-neutral-700 hover:text-neutral-900 transition-colors py-2",children:"Contact"}),i?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"border-t border-neutral-100 my-2"}),u.jsx(Le,{to:"/profile",onClick:()=>e(!1),className:"text-neutral-700 hover:text-neutral-900 transition-colors py-2",children:"Profile"}),u.jsx(Le,{to:"/bookings",onClick:()=>e(!1),className:"text-neutral-700 hover:text-neutral-900 transition-colors py-2",children:"My Bookings"}),a?.role==="admin"&&u.jsx(Le,{to:"/admin",onClick:()=>e(!1),className:"text-neutral-700 hover:text-neutral-900 transition-colors py-2",children:"Admin Dashboard"}),u.jsx("button",{onClick:m,className:"text-neutral-700 hover:text-neutral-900 transition-colors py-2 text-left",children:"Log Out"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"border-t border-neutral-100 my-2"}),u.jsx(Le,{to:"/login",onClick:()=>e(!1),className:"text-neutral-900 py-2",children:"Log In"}),u.jsx(Le,{to:"/signup",onClick:()=>e(!1),className:"bg-neutral-900 text-white px-6 py-3 rounded-xl text-center",children:"Sign Up"})]})]})})]})})},uV=()=>u.jsx("footer",{className:"bg-neutral-900 text-white",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-16",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[u.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center",children:u.jsx("span",{className:"text-neutral-900",children:"L"})}),u.jsx("span",{children:"LuxeStay"})]}),u.jsx("p",{className:"text-neutral-400 mb-6",children:"Experience luxury and comfort in our carefully curated selection of premium accommodations."}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-neutral-800 hover:bg-neutral-700 flex items-center justify-center transition-colors",children:u.jsx(EM,{className:"w-5 h-5"})}),u.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-neutral-800 hover:bg-neutral-700 flex items-center justify-center transition-colors",children:u.jsx(iV,{className:"w-5 h-5"})}),u.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-neutral-800 hover:bg-neutral-700 flex items-center justify-center transition-colors",children:u.jsx(CM,{className:"w-5 h-5"})}),u.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-neutral-800 hover:bg-neutral-700 flex items-center justify-center transition-colors",children:u.jsx(PM,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{children:[u.jsx("h5",{className:"text-white mb-6",children:"Quick Links"}),u.jsxs("ul",{className:"space-y-3",children:[u.jsx("li",{children:u.jsx(Le,{to:"/search",className:"text-neutral-400 hover:text-white transition-colors",children:"Browse Rooms"})}),u.jsx("li",{children:u.jsx(Le,{to:"/about",className:"text-neutral-400 hover:text-white transition-colors",children:"About Us"})}),u.jsx("li",{children:u.jsx(Le,{to:"/contact",className:"text-neutral-400 hover:text-white transition-colors",children:"Contact"})}),u.jsx("li",{children:u.jsx(Le,{to:"/faq",className:"text-neutral-400 hover:text-white transition-colors",children:"FAQ"})})]})]}),u.jsxs("div",{children:[u.jsx("h5",{className:"text-white mb-6",children:"Support"}),u.jsxs("ul",{className:"space-y-3",children:[u.jsx("li",{children:u.jsx(Le,{to:"/help",className:"text-neutral-400 hover:text-white transition-colors",children:"Help Center"})}),u.jsx("li",{children:u.jsx(Le,{to:"/privacy",className:"text-neutral-400 hover:text-white transition-colors",children:"Privacy Policy"})}),u.jsx("li",{children:u.jsx(Le,{to:"/terms",className:"text-neutral-400 hover:text-white transition-colors",children:"Terms of Service"})}),u.jsx("li",{children:u.jsx(Le,{to:"/cancellation",className:"text-neutral-400 hover:text-white transition-colors",children:"Cancellation Policy"})})]})]}),u.jsxs("div",{children:[u.jsx("h5",{className:"text-white mb-6",children:"Contact Us"}),u.jsxs("ul",{className:"space-y-4",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(Dh,{className:"w-5 h-5 text-neutral-400 flex-shrink-0 mt-0.5"}),u.jsxs("span",{className:"text-neutral-400",children:["123 Luxury Avenue",u.jsx("br",{}),"New York, NY 10001"]})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(zc,{className:"w-5 h-5 text-neutral-400"}),u.jsx("a",{href:"tel:+15551234567",className:"text-neutral-400 hover:text-white transition-colors",children:"+1 (555) 123-4567"})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(Fc,{className:"w-5 h-5 text-neutral-400"}),u.jsx("a",{href:"mailto:hello@luxestay.com",className:"text-neutral-400 hover:text-white transition-colors",children:"hello@luxestay.com"})]})]})]})]}),u.jsxs("div",{className:"border-t border-neutral-800 mt-12 pt-8 flex flex-col md:flex-row items-center justify-between gap-4",children:[u.jsx("p",{className:"text-neutral-400 text-sm",children:" 2025 LuxeStay. All rights reserved."}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx(Le,{to:"/privacy",className:"text-neutral-400 hover:text-white transition-colors text-sm",children:"Privacy"}),u.jsx(Le,{to:"/terms",className:"text-neutral-400 hover:text-white transition-colors text-sm",children:"Terms"}),u.jsx(Le,{to:"/cookies",className:"text-neutral-400 hover:text-white transition-colors text-sm",children:"Cookies"})]})]})]})}),dV=()=>u.jsxs("div",{className:"flex flex-col min-h-screen",children:[u.jsx(cV,{}),u.jsx("main",{className:"flex-1",children:u.jsx(m6,{})}),u.jsx(uV,{})]}),Lo=({children:t,requireAdmin:e=!1,requireManager:n=!1,allowedRoles:r})=>{const{isAuthenticated:i,user:a,loading:l}=Fr(m=>m.auth),h=us();return l?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-neutral-900"})}):i?e&&a?.role!=="admin"?u.jsx(Fd,{to:"/",replace:!0}):n&&!["manager","admin"].includes(a?.role||"")?u.jsx(Fd,{to:"/",replace:!0}):r&&!r.includes(a?.role||"customer")?u.jsx(Fd,{to:"/",replace:!0}):u.jsx(u.Fragment,{children:t}):u.jsx(Fd,{to:"/login",state:{from:h},replace:!0})};var xu=t=>t.type==="checkbox",Bo=t=>t instanceof Date,tr=t=>t==null;const KT=t=>typeof t=="object";var en=t=>!tr(t)&&!Array.isArray(t)&&KT(t)&&!Bo(t),hV=t=>en(t)&&t.target?xu(t.target)?t.target.checked:t.target.value:t,fV=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,mV=(t,e)=>t.has(fV(e)),pV=t=>{const e=t.constructor&&t.constructor.prototype;return en(e)&&e.hasOwnProperty("isPrototypeOf")},Ly=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function fn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Ly&&(t instanceof Blob||r))&&(n||en(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!pV(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=fn(t[i]));else return t;return e}var bf=t=>/^\w*$/.test(t),Bt=t=>t===void 0,Fy=t=>Array.isArray(t)?t.filter(Boolean):[],zy=t=>Fy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ne=(t,e,n)=>{if(!e||!en(t))return n;const r=(bf(e)?[e]:zy(e)).reduce((i,a)=>tr(i)?i:i[a],t);return Bt(r)||r===t?Bt(t[e])?n:t[e]:r},Rs=t=>typeof t=="boolean",mt=(t,e,n)=>{let r=-1;const i=bf(e)?[e]:zy(e),a=i.length,l=a-1;for(;++r<a;){const h=i[r];let m=n;if(r!==l){const g=t[h];m=en(g)||Array.isArray(g)?g:isNaN(+i[r+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;t[h]=m,t=t[h]}};const __={BLUR:"blur",FOCUS_OUT:"focusout"},ts={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},si={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gV=le.createContext(null);gV.displayName="HookFormContext";var yV=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const l=a;return e._proxyFormState[l]!==ts.all&&(e._proxyFormState[l]=!r||ts.all),t[l]}});return i};const vV=typeof window<"u"?le.useLayoutEffect:le.useEffect;var xr=t=>typeof t=="string",xV=(t,e,n,r,i)=>xr(t)?(r&&e.watch.add(t),Ne(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),Ne(n,a))):(r&&(e.watchAll=!0),n),vg=t=>tr(t)||!KT(t);function Wi(t,e,n=new WeakSet){if(vg(t)||vg(e))return t===e;if(Bo(t)&&Bo(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const a of r){const l=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const h=e[a];if(Bo(l)&&Bo(h)||en(l)&&en(h)||Array.isArray(l)&&Array.isArray(h)?!Wi(l,h,n):l!==h)return!1}}return!0}var Uy=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Uc=t=>Array.isArray(t)?t:[t],E_=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}};function ZT(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r],a=e[r];if(i&&en(i)&&a){const l=ZT(i,a);en(l)&&(n[r]=l)}else t[r]&&(n[r]=a)}return n}var Xn=t=>en(t)&&!Object.keys(t).length,$y=t=>t.type==="file",ns=t=>typeof t=="function",Vh=t=>{if(!Ly)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},QT=t=>t.type==="select-multiple",By=t=>t.type==="radio",wV=t=>By(t)||xu(t),kp=t=>Vh(t)&&t.isConnected;function _V(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Bt(t)?r++:t[e[r++]];return t}function EV(t){for(const e in t)if(t.hasOwnProperty(e)&&!Bt(t[e]))return!1;return!0}function Qt(t,e){const n=Array.isArray(e)?e:bf(e)?[e]:zy(e),r=n.length===1?t:_V(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(en(r)&&Xn(r)||Array.isArray(r)&&EV(r))&&Qt(t,n.slice(0,-1)),t}var bV=t=>{for(const e in t)if(ns(t[e]))return!0;return!1};function YT(t){return Array.isArray(t)||en(t)&&!bV(t)}function xg(t,e={}){for(const n in t)YT(t[n])?(e[n]=Array.isArray(t[n])?[]:{},xg(t[n],e[n])):Bt(t[n])||(e[n]=!0);return e}function Qa(t,e,n){n||(n=xg(e));for(const r in t)YT(t[r])?Bt(e)||vg(n[r])?n[r]=xg(t[r],Array.isArray(t[r])?[]:{}):Qa(t[r],tr(e)?{}:e[r],n[r]):n[r]=!Wi(t[r],e[r]);return n}const b_={value:!1,isValid:!1},T_={value:!0,isValid:!0};var XT=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Bt(t[0].attributes.value)?Bt(t[0].value)||t[0].value===""?T_:{value:t[0].value,isValid:!0}:T_:b_}return b_},JT=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Bt(t)?t:e?t===""?NaN:t&&+t:n&&xr(t)?new Date(t):r?r(t):t;const I_={isValid:!1,value:null};var eI=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,I_):I_;function N_(t){const e=t.ref;return $y(e)?e.files:By(e)?eI(t.refs).value:QT(e)?[...e.selectedOptions].map(({value:n})=>n):xu(e)?XT(t.refs).value:JT(Bt(e.value)?t.ref.value:e.value,t)}var TV=(t,e,n,r)=>{const i={};for(const a of t){const l=Ne(e,a);l&&mt(i,a,l._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Lh=t=>t instanceof RegExp,vc=t=>Bt(t)?t:Lh(t)?t.source:en(t)?Lh(t.value)?t.value.source:t.value:t,S_=t=>({isOnSubmit:!t||t===ts.onSubmit,isOnBlur:t===ts.onBlur,isOnChange:t===ts.onChange,isOnAll:t===ts.all,isOnTouch:t===ts.onTouched});const k_="AsyncFunction";var IV=t=>!!t&&!!t.validate&&!!(ns(t.validate)&&t.validate.constructor.name===k_||en(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===k_)),NV=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),A_=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const $c=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const a=Ne(t,i);if(a){const{_f:l,...h}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],i)&&!r)return!0;if(l.ref&&e(l.ref,l.name)&&!r)return!0;if($c(h,e))break}else if(en(h)&&$c(h,e))break}}};function C_(t,e,n){const r=Ne(t,n);if(r||bf(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),l=Ne(e,a),h=Ne(t,a);if(l&&!Array.isArray(l)&&n!==a)return{name:n};if(h&&h.type)return{name:a,error:h};if(h&&h.root&&h.root.type)return{name:`${a}.root`,error:h.root};i.pop()}return{name:n}}var SV=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return Xn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===(!r||ts.all))},kV=(t,e,n)=>!t||!e||t===e||Uc(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),AV=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,CV=(t,e)=>!Fy(Ne(t,e)).length&&Qt(t,e),RV=(t,e,n)=>{const r=Uc(Ne(t,n));return mt(r,"root",e[n]),mt(t,n,r),t};function R_(t,e,n="validate"){if(xr(t)||Array.isArray(t)&&t.every(xr)||Rs(t)&&!t)return{type:n,message:xr(t)?t:"",ref:e}}var qa=t=>en(t)&&!Lh(t)?t:{value:t,message:""},P_=async(t,e,n,r,i,a)=>{const{ref:l,refs:h,required:m,maxLength:g,minLength:w,min:x,max:E,pattern:C,validate:O,name:U,valueAsNumber:M,mount:G}=t._f,$=Ne(n,U);if(!G||e.has(U))return{};const Q=h?h[0]:l,ee=S=>{i&&Q.reportValidity&&(Q.setCustomValidity(Rs(S)?"":S||""),Q.reportValidity())},B={},de=By(l),k=xu(l),I=de||k,A=(M||$y(l))&&Bt(l.value)&&Bt($)||Vh(l)&&l.value===""||$===""||Array.isArray($)&&!$.length,D=Uy.bind(null,U,r,B),j=(S,N,Ae,Be=si.maxLength,Te=si.minLength)=>{const je=S?N:Ae;B[U]={type:S?Be:Te,message:je,ref:l,...D(S?Be:Te,je)}};if(a?!Array.isArray($)||!$.length:m&&(!I&&(A||tr($))||Rs($)&&!$||k&&!XT(h).isValid||de&&!eI(h).isValid)){const{value:S,message:N}=xr(m)?{value:!!m,message:m}:qa(m);if(S&&(B[U]={type:si.required,message:N,ref:Q,...D(si.required,N)},!r))return ee(N),B}if(!A&&(!tr(x)||!tr(E))){let S,N;const Ae=qa(E),Be=qa(x);if(!tr($)&&!isNaN($)){const Te=l.valueAsNumber||$&&+$;tr(Ae.value)||(S=Te>Ae.value),tr(Be.value)||(N=Te<Be.value)}else{const Te=l.valueAsDate||new Date($),je=fe=>new Date(new Date().toDateString()+" "+fe),ce=l.type=="time",xe=l.type=="week";xr(Ae.value)&&$&&(S=ce?je($)>je(Ae.value):xe?$>Ae.value:Te>new Date(Ae.value)),xr(Be.value)&&$&&(N=ce?je($)<je(Be.value):xe?$<Be.value:Te<new Date(Be.value))}if((S||N)&&(j(!!S,Ae.message,Be.message,si.max,si.min),!r))return ee(B[U].message),B}if((g||w)&&!A&&(xr($)||a&&Array.isArray($))){const S=qa(g),N=qa(w),Ae=!tr(S.value)&&$.length>+S.value,Be=!tr(N.value)&&$.length<+N.value;if((Ae||Be)&&(j(Ae,S.message,N.message),!r))return ee(B[U].message),B}if(C&&!A&&xr($)){const{value:S,message:N}=qa(C);if(Lh(S)&&!$.match(S)&&(B[U]={type:si.pattern,message:N,ref:l,...D(si.pattern,N)},!r))return ee(N),B}if(O){if(ns(O)){const S=await O($,n),N=R_(S,Q);if(N&&(B[U]={...N,...D(si.validate,N.message)},!r))return ee(N.message),B}else if(en(O)){let S={};for(const N in O){if(!Xn(S)&&!r)break;const Ae=R_(await O[N]($,n),Q,N);Ae&&(S={...Ae,...D(N,Ae.message)},ee(Ae.message),r&&(B[U]=S))}if(!Xn(S)&&(B[U]={ref:Q,...S},!r))return B}}return ee(!0),B};const PV={mode:ts.onSubmit,reValidateMode:ts.onChange,shouldFocusError:!0};function jV(t={}){let e={...PV,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ns(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=en(e.defaultValues)||en(e.values)?fn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:fn(i),l={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,g=0;const w={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...w};const E={array:E_(),state:E_()},C=e.criteriaMode===ts.all,O=P=>H=>{clearTimeout(g),g=setTimeout(P,H)},U=async P=>{if(!e.disabled&&(w.isValid||x.isValid||P)){const H=e.resolver?Xn((await k()).errors):await A(r,!0);H!==n.isValid&&E.state.next({isValid:H})}},M=(P,H)=>{!e.disabled&&(w.isValidating||w.validatingFields||x.isValidating||x.validatingFields)&&((P||Array.from(h.mount)).forEach(Y=>{Y&&(H?mt(n.validatingFields,Y,H):Qt(n.validatingFields,Y))}),E.state.next({validatingFields:n.validatingFields,isValidating:!Xn(n.validatingFields)}))},G=(P,H=[],Y,pe,he=!0,oe=!0)=>{if(pe&&Y&&!e.disabled){if(l.action=!0,oe&&Array.isArray(Ne(r,P))){const be=Y(Ne(r,P),pe.argA,pe.argB);he&&mt(r,P,be)}if(oe&&Array.isArray(Ne(n.errors,P))){const be=Y(Ne(n.errors,P),pe.argA,pe.argB);he&&mt(n.errors,P,be),CV(n.errors,P)}if((w.touchedFields||x.touchedFields)&&oe&&Array.isArray(Ne(n.touchedFields,P))){const be=Y(Ne(n.touchedFields,P),pe.argA,pe.argB);he&&mt(n.touchedFields,P,be)}(w.dirtyFields||x.dirtyFields)&&(n.dirtyFields=Qa(i,a)),E.state.next({name:P,isDirty:j(P,H),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else mt(a,P,H)},$=(P,H)=>{mt(n.errors,P,H),E.state.next({errors:n.errors})},Q=P=>{n.errors=P,E.state.next({errors:n.errors,isValid:!1})},ee=(P,H,Y,pe)=>{const he=Ne(r,P);if(he){const oe=Ne(a,P,Bt(Y)?Ne(i,P):Y);Bt(oe)||pe&&pe.defaultChecked||H?mt(a,P,H?oe:N_(he._f)):Ae(P,oe),l.mount&&U()}},B=(P,H,Y,pe,he)=>{let oe=!1,be=!1;const Ye={name:P};if(!e.disabled){if(!Y||pe){(w.isDirty||x.isDirty)&&(be=n.isDirty,n.isDirty=Ye.isDirty=j(),oe=be!==Ye.isDirty);const Xe=Wi(Ne(i,P),H);be=!!Ne(n.dirtyFields,P),Xe?Qt(n.dirtyFields,P):mt(n.dirtyFields,P,!0),Ye.dirtyFields=n.dirtyFields,oe=oe||(w.dirtyFields||x.dirtyFields)&&be!==!Xe}if(Y){const Xe=Ne(n.touchedFields,P);Xe||(mt(n.touchedFields,P,Y),Ye.touchedFields=n.touchedFields,oe=oe||(w.touchedFields||x.touchedFields)&&Xe!==Y)}oe&&he&&E.state.next(Ye)}return oe?Ye:{}},de=(P,H,Y,pe)=>{const he=Ne(n.errors,P),oe=(w.isValid||x.isValid)&&Rs(H)&&n.isValid!==H;if(e.delayError&&Y?(m=O(()=>$(P,Y)),m(e.delayError)):(clearTimeout(g),m=null,Y?mt(n.errors,P,Y):Qt(n.errors,P)),(Y?!Wi(he,Y):he)||!Xn(pe)||oe){const be={...pe,...oe&&Rs(H)?{isValid:H}:{},errors:n.errors,name:P};n={...n,...be},E.state.next(be)}},k=async P=>{M(P,!0);const H=await e.resolver(a,e.context,TV(P||h.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return M(P),H},I=async P=>{const{errors:H}=await k(P);if(P)for(const Y of P){const pe=Ne(H,Y);pe?mt(n.errors,Y,pe):Qt(n.errors,Y)}else n.errors=H;return H},A=async(P,H,Y={valid:!0})=>{for(const pe in P){const he=P[pe];if(he){const{_f:oe,...be}=he;if(oe){const Ye=h.array.has(oe.name),Xe=he._f&&IV(he._f);Xe&&w.validatingFields&&M([oe.name],!0);const Vt=await P_(he,h.disabled,a,C,e.shouldUseNativeValidation&&!H,Ye);if(Xe&&w.validatingFields&&M([oe.name]),Vt[oe.name]&&(Y.valid=!1,H))break;!H&&(Ne(Vt,oe.name)?Ye?RV(n.errors,Vt,oe.name):mt(n.errors,oe.name,Vt[oe.name]):Qt(n.errors,oe.name))}!Xn(be)&&await A(be,H,Y)}}return Y.valid},D=()=>{for(const P of h.unMount){const H=Ne(r,P);H&&(H._f.refs?H._f.refs.every(Y=>!kp(Y)):!kp(H._f.ref))&&Ze(P)}h.unMount=new Set},j=(P,H)=>!e.disabled&&(P&&H&&mt(a,P,H),!Wi(fe(),i)),S=(P,H,Y)=>xV(P,h,{...l.mount?a:Bt(H)?i:xr(P)?{[P]:H}:H},Y,H),N=P=>Fy(Ne(l.mount?a:i,P,e.shouldUnregister?Ne(i,P,[]):[])),Ae=(P,H,Y={})=>{const pe=Ne(r,P);let he=H;if(pe){const oe=pe._f;oe&&(!oe.disabled&&mt(a,P,JT(H,oe)),he=Vh(oe.ref)&&tr(H)?"":H,QT(oe.ref)?[...oe.ref.options].forEach(be=>be.selected=he.includes(be.value)):oe.refs?xu(oe.ref)?oe.refs.forEach(be=>{(!be.defaultChecked||!be.disabled)&&(Array.isArray(he)?be.checked=!!he.find(Ye=>Ye===be.value):be.checked=he===be.value||!!he)}):oe.refs.forEach(be=>be.checked=be.value===he):$y(oe.ref)?oe.ref.value="":(oe.ref.value=he,oe.ref.type||E.state.next({name:P,values:fn(a)})))}(Y.shouldDirty||Y.shouldTouch)&&B(P,he,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&xe(P)},Be=(P,H,Y)=>{for(const pe in H){if(!H.hasOwnProperty(pe))return;const he=H[pe],oe=P+"."+pe,be=Ne(r,oe);(h.array.has(P)||en(he)||be&&!be._f)&&!Bo(he)?Be(oe,he,Y):Ae(oe,he,Y)}},Te=(P,H,Y={})=>{const pe=Ne(r,P),he=h.array.has(P),oe=fn(H);mt(a,P,oe),he?(E.array.next({name:P,values:fn(a)}),(w.isDirty||w.dirtyFields||x.isDirty||x.dirtyFields)&&Y.shouldDirty&&E.state.next({name:P,dirtyFields:Qa(i,a),isDirty:j(P,oe)})):pe&&!pe._f&&!tr(oe)?Be(P,oe,Y):Ae(P,oe,Y),A_(P,h)&&E.state.next({...n,name:P}),E.state.next({name:l.mount?P:void 0,values:fn(a)})},je=async P=>{l.mount=!0;const H=P.target;let Y=H.name,pe=!0;const he=Ne(r,Y),oe=Xe=>{pe=Number.isNaN(Xe)||Bo(Xe)&&isNaN(Xe.getTime())||Wi(Xe,Ne(a,Y,Xe))},be=S_(e.mode),Ye=S_(e.reValidateMode);if(he){let Xe,Vt;const nn=H.type?N_(he._f):hV(P),qt=P.type===__.BLUR||P.type===__.FOCUS_OUT,lr=!NV(he._f)&&!e.resolver&&!Ne(n.errors,Y)&&!he._f.deps||AV(qt,Ne(n.touchedFields,Y),n.isSubmitted,Ye,be),qn=A_(Y,h,qt);mt(a,Y,nn),qt?(!H||!H.readOnly)&&(he._f.onBlur&&he._f.onBlur(P),m&&m(0)):he._f.onChange&&he._f.onChange(P);const Tr=B(Y,nn,qt),ds=!Xn(Tr)||qn;if(!qt&&E.state.next({name:Y,type:P.type,values:fn(a)}),lr)return(w.isValid||x.isValid)&&(e.mode==="onBlur"?qt&&U():qt||U()),ds&&E.state.next({name:Y,...qn?{}:Tr});if(!qt&&qn&&E.state.next({...n}),e.resolver){const{errors:yn}=await k([Y]);if(oe(nn),pe){const hs=C_(n.errors,r,Y),Fn=C_(yn,r,hs.name||Y);Xe=Fn.error,Y=Fn.name,Vt=Xn(yn)}}else M([Y],!0),Xe=(await P_(he,h.disabled,a,C,e.shouldUseNativeValidation))[Y],M([Y]),oe(nn),pe&&(Xe?Vt=!1:(w.isValid||x.isValid)&&(Vt=await A(r,!0)));pe&&(he._f.deps&&(!Array.isArray(he._f.deps)||he._f.deps.length>0)&&xe(he._f.deps),de(Y,Vt,Xe,Tr))}},ce=(P,H)=>{if(Ne(n.errors,H)&&P.focus)return P.focus(),1},xe=async(P,H={})=>{let Y,pe;const he=Uc(P);if(e.resolver){const oe=await I(Bt(P)?P:he);Y=Xn(oe),pe=P?!he.some(be=>Ne(oe,be)):Y}else P?(pe=(await Promise.all(he.map(async oe=>{const be=Ne(r,oe);return await A(be&&be._f?{[oe]:be}:be)}))).every(Boolean),!(!pe&&!n.isValid)&&U()):pe=Y=await A(r);return E.state.next({...!xr(P)||(w.isValid||x.isValid)&&Y!==n.isValid?{}:{name:P},...e.resolver||!P?{isValid:Y}:{},errors:n.errors}),H.shouldFocus&&!pe&&$c(r,ce,P?he:h.mount),pe},fe=(P,H)=>{let Y={...l.mount?a:i};return H&&(Y=ZT(H.dirtyFields?n.dirtyFields:n.touchedFields,Y)),Bt(P)?Y:xr(P)?Ne(Y,P):P.map(pe=>Ne(Y,pe))},F=(P,H)=>({invalid:!!Ne((H||n).errors,P),isDirty:!!Ne((H||n).dirtyFields,P),error:Ne((H||n).errors,P),isValidating:!!Ne(n.validatingFields,P),isTouched:!!Ne((H||n).touchedFields,P)}),te=P=>{P&&Uc(P).forEach(H=>Qt(n.errors,H)),E.state.next({errors:P?n.errors:{}})},ge=(P,H,Y)=>{const pe=(Ne(r,P,{_f:{}})._f||{}).ref,he=Ne(n.errors,P)||{},{ref:oe,message:be,type:Ye,...Xe}=he;mt(n.errors,P,{...Xe,...H,ref:pe}),E.state.next({name:P,errors:n.errors,isValid:!1}),Y&&Y.shouldFocus&&pe&&pe.focus&&pe.focus()},_e=(P,H)=>ns(P)?E.state.subscribe({next:Y=>"values"in Y&&P(S(void 0,H),Y)}):S(P,H,!0),Se=P=>E.state.subscribe({next:H=>{kV(P.name,H.name,P.exact)&&SV(H,P.formState||w,Ln,P.reRenderRoot)&&P.callback({values:{...a},...n,...H,defaultValues:i})}}).unsubscribe,Ve=P=>(l.mount=!0,x={...x,...P.formState},Se({...P,formState:x})),Ze=(P,H={})=>{for(const Y of P?Uc(P):h.mount)h.mount.delete(Y),h.array.delete(Y),H.keepValue||(Qt(r,Y),Qt(a,Y)),!H.keepError&&Qt(n.errors,Y),!H.keepDirty&&Qt(n.dirtyFields,Y),!H.keepTouched&&Qt(n.touchedFields,Y),!H.keepIsValidating&&Qt(n.validatingFields,Y),!e.shouldUnregister&&!H.keepDefaultValue&&Qt(i,Y);E.state.next({values:fn(a)}),E.state.next({...n,...H.keepDirty?{isDirty:j()}:{}}),!H.keepIsValid&&U()},Ce=({disabled:P,name:H})=>{(Rs(P)&&l.mount||P||h.disabled.has(H))&&(P?h.disabled.add(H):h.disabled.delete(H))},Qe=(P,H={})=>{let Y=Ne(r,P);const pe=Rs(H.disabled)||Rs(e.disabled);return mt(r,P,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:P}},name:P,mount:!0,...H}}),h.mount.add(P),Y?Ce({disabled:Rs(H.disabled)?H.disabled:e.disabled,name:P}):ee(P,!0,H.value),{...pe?{disabled:H.disabled||e.disabled}:{},...e.progressive?{required:!!H.required,min:vc(H.min),max:vc(H.max),minLength:vc(H.minLength),maxLength:vc(H.maxLength),pattern:vc(H.pattern)}:{},name:P,onChange:je,onBlur:je,ref:he=>{if(he){Qe(P,H),Y=Ne(r,P);const oe=Bt(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,be=wV(oe),Ye=Y._f.refs||[];if(be?Ye.find(Xe=>Xe===oe):oe===Y._f.ref)return;mt(r,P,{_f:{...Y._f,...be?{refs:[...Ye.filter(kp),oe,...Array.isArray(Ne(i,P))?[{}]:[]],ref:{type:oe.type,name:P}}:{ref:oe}}}),ee(P,!1,void 0,oe)}else Y=Ne(r,P,{}),Y._f&&(Y._f.mount=!1),(e.shouldUnregister||H.shouldUnregister)&&!(mV(h.array,P)&&l.action)&&h.unMount.add(P)}}},Tt=()=>e.shouldFocusError&&$c(r,ce,h.mount),or=P=>{Rs(P)&&(E.state.next({disabled:P}),$c(r,(H,Y)=>{const pe=Ne(r,Y);pe&&(H.disabled=pe._f.disabled||P,Array.isArray(pe._f.refs)&&pe._f.refs.forEach(he=>{he.disabled=pe._f.disabled||P}))},0,!1))},Vn=(P,H)=>async Y=>{let pe;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let he=fn(a);if(E.state.next({isSubmitting:!0}),e.resolver){const{errors:oe,values:be}=await k();n.errors=oe,he=fn(be)}else await A(r);if(h.disabled.size)for(const oe of h.disabled)Qt(he,oe);if(Qt(n.errors,"root"),Xn(n.errors)){E.state.next({errors:{}});try{await P(he,Y)}catch(oe){pe=oe}}else H&&await H({...n.errors},Y),Tt(),setTimeout(Tt);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xn(n.errors)&&!pe,submitCount:n.submitCount+1,errors:n.errors}),pe)throw pe},br=(P,H={})=>{Ne(r,P)&&(Bt(H.defaultValue)?Te(P,fn(Ne(i,P))):(Te(P,H.defaultValue),mt(i,P,fn(H.defaultValue))),H.keepTouched||Qt(n.touchedFields,P),H.keepDirty||(Qt(n.dirtyFields,P),n.isDirty=H.defaultValue?j(P,fn(Ne(i,P))):j()),H.keepError||(Qt(n.errors,P),w.isValid&&U()),E.state.next({...n}))},ar=(P,H={})=>{const Y=P?fn(P):i,pe=fn(Y),he=Xn(P),oe=he?i:pe;if(H.keepDefaultValues||(i=Y),!H.keepValues){if(H.keepDirtyValues){const be=new Set([...h.mount,...Object.keys(Qa(i,a))]);for(const Ye of Array.from(be))Ne(n.dirtyFields,Ye)?mt(oe,Ye,Ne(a,Ye)):Te(Ye,Ne(oe,Ye))}else{if(Ly&&Bt(P))for(const be of h.mount){const Ye=Ne(r,be);if(Ye&&Ye._f){const Xe=Array.isArray(Ye._f.refs)?Ye._f.refs[0]:Ye._f.ref;if(Vh(Xe)){const Vt=Xe.closest("form");if(Vt){Vt.reset();break}}}}if(H.keepFieldsRef)for(const be of h.mount)Te(be,Ne(oe,be));else r={}}a=e.shouldUnregister?H.keepDefaultValues?fn(i):{}:fn(oe),E.array.next({values:{...oe}}),E.state.next({values:{...oe}})}h={mount:H.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!w.isValid||!!H.keepIsValid||!!H.keepDirtyValues,l.watch=!!e.shouldUnregister,E.state.next({submitCount:H.keepSubmitCount?n.submitCount:0,isDirty:he?!1:H.keepDirty?n.isDirty:!!(H.keepDefaultValues&&!Wi(P,i)),isSubmitted:H.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:he?{}:H.keepDirtyValues?H.keepDefaultValues&&a?Qa(i,a):n.dirtyFields:H.keepDefaultValues&&P?Qa(i,P):H.keepDirty?n.dirtyFields:{},touchedFields:H.keepTouched?n.touchedFields:{},errors:H.keepErrors?n.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Us=(P,H)=>ar(ns(P)?P(a):P,H),Br=(P,H={})=>{const Y=Ne(r,P),pe=Y&&Y._f;if(pe){const he=pe.refs?pe.refs[0]:pe.ref;he.focus&&(he.focus(),H.shouldSelect&&ns(he.select)&&he.select())}},Ln=P=>{n={...n,...P}},ot={control:{register:Qe,unregister:Ze,getFieldState:F,handleSubmit:Vn,setError:ge,_subscribe:Se,_runSchema:k,_focusError:Tt,_getWatch:S,_getDirty:j,_setValid:U,_setFieldArray:G,_setDisabledField:Ce,_setErrors:Q,_getFieldArray:N,_reset:ar,_resetDefaultValues:()=>ns(e.defaultValues)&&e.defaultValues().then(P=>{Us(P,e.resetOptions),E.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:or,_subjects:E,_proxyFormState:w,get _fields(){return r},get _formValues(){return a},get _state(){return l},set _state(P){l=P},get _defaultValues(){return i},get _names(){return h},set _names(P){h=P},get _formState(){return n},get _options(){return e},set _options(P){e={...e,...P}}},subscribe:Ve,trigger:xe,register:Qe,handleSubmit:Vn,watch:_e,setValue:Te,getValues:fe,reset:Us,resetField:br,clearErrors:te,unregister:Ze,setError:ge,setFocus:Br,getFieldState:F};return{...ot,formControl:ot}}function la(t={}){const e=le.useRef(void 0),n=le.useRef(void 0),[r,i]=le.useState({isDirty:!1,isValidating:!1,isLoading:ns(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ns(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!ns(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:l,...h}=jV(t);e.current={...h,formState:r}}const a=e.current.control;return a._options=t,vV(()=>{const l=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(h=>({...h,isReady:!0})),a._formState.isReady=!0,l},[a]),le.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),le.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),le.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),le.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),le.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==r.isDirty&&a._subjects.state.next({isDirty:l})}},[a,r.isDirty]),le.useEffect(()=>{t.values&&!Wi(t.values,n.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),n.current=t.values,i(l=>({...l}))):a._resetDefaultValues()},[a,t.values]),le.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=yV(r,a),e.current}const j_=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Ne(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},wg=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?j_(r.ref,n,t):r&&r.refs&&r.refs.forEach(i=>j_(i,n,t))}},D_=(t,e)=>{e.shouldUseNativeValidation&&wg(t,e);const n={};for(const r in t){const i=Ne(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(DV(e.names||Object.keys(t),r)){const l=Object.assign({},Ne(n,r));mt(l,"root",a),mt(n,r,l)}else mt(n,r,a)}return n},DV=(t,e)=>{const n=O_(e);return t.some(r=>O_(r).match(`^${n}\\.\\d+`))};function O_(t){return t.replace(/\]|\[/g,"")}function re(t,e,n){function r(h,m){var g;Object.defineProperty(h,"_zod",{value:h._zod??{},enumerable:!1}),(g=h._zod).traits??(g.traits=new Set),h._zod.traits.add(t),e(h,m);for(const w in l.prototype)w in h||Object.defineProperty(h,w,{value:l.prototype[w].bind(h)});h._zod.constr=l,h._zod.def=m}const i=n?.Parent??Object;class a extends i{}Object.defineProperty(a,"name",{value:t});function l(h){var m;const g=n?.Parent?new a:this;r(g,h),(m=g._zod).deferred??(m.deferred=[]);for(const w of g._zod.deferred)w();return g}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:h=>n?.Parent&&h instanceof n.Parent?!0:h?._zod?.traits?.has(t)}),Object.defineProperty(l,"name",{value:t}),l}class il extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class tI extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const nI={};function Jo(t){return nI}function OV(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function _g(t,e){return typeof e=="bigint"?e.toString():e}function Hy(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function qy(t){return t==null}function Wy(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function MV(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const m=r.match(/\d?e-(\d?)/);m?.[1]&&(i=Number.parseInt(m[1]))}const a=n>i?n:i,l=Number.parseInt(t.toFixed(a).replace(".","")),h=Number.parseInt(e.toFixed(a).replace(".",""));return l%h/10**a}const M_=Symbol("evaluating");function yt(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==M_)return r===void 0&&(r=M_,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function ca(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ua(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function V_(t){return JSON.stringify(t)}const rI="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Fh(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const VV=Hy(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function nu(t){if(Fh(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(Fh(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function sI(t){return nu(t)?{...t}:Array.isArray(t)?[...t]:t}const LV=new Set(["string","number","symbol"]);function Tf(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ho(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function De(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function FV(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const zV={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function UV(t,e){const n=t._zod.def,r=ua(t._zod.def,{get shape(){const i={};for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(i[a]=n.shape[a])}return ca(this,"shape",i),i},checks:[]});return ho(t,r)}function $V(t,e){const n=t._zod.def,r=ua(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete i[a]}return ca(this,"shape",i),i},checks:[]});return ho(t,r)}function BV(t,e){if(!nu(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=ua(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e};return ca(this,"shape",a),a},checks:[]});return ho(t,i)}function HV(t,e){if(!nu(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return ca(this,"shape",r),r},checks:t._zod.def.checks};return ho(t,n)}function qV(t,e){const n=ua(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return ca(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return ho(t,n)}function WV(t,e,n){const r=ua(e._zod.def,{get shape(){const i=e._zod.def.shape,a={...i};if(n)for(const l in n){if(!(l in i))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=t?new t({type:"optional",innerType:i[l]}):i[l])}else for(const l in i)a[l]=t?new t({type:"optional",innerType:i[l]}):i[l];return ca(this,"shape",a),a},checks:[]});return ho(e,r)}function GV(t,e,n){const r=ua(e._zod.def,{get shape(){const i=e._zod.def.shape,a={...i};if(n)for(const l in n){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=new t({type:"nonoptional",innerType:i[l]}))}else for(const l in i)a[l]=new t({type:"nonoptional",innerType:i[l]});return ca(this,"shape",a),a},checks:[]});return ho(e,r)}function Xa(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function iI(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function Ud(t){return typeof t=="string"?t:t?.message}function ea(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const i=Ud(t.inst?._zod.def?.error?.(t))??Ud(e?.error?.(t))??Ud(n.customError?.(t))??Ud(n.localeError?.(t))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function Gy(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function ru(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const oI=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,_g,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Ky=re("$ZodError",oI),If=re("$ZodError",oI,{Parent:Error});function KV(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function ZV(t,e=n=>n.message){const n={_errors:[]},r=i=>{for(const a of i.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(l=>r({issues:l}));else if(a.code==="invalid_key")r({issues:a.issues});else if(a.code==="invalid_element")r({issues:a.issues});else if(a.path.length===0)n._errors.push(e(a));else{let l=n,h=0;for(;h<a.path.length;){const m=a.path[h];h===a.path.length-1?(l[m]=l[m]||{_errors:[]},l[m]._errors.push(e(a))):l[m]=l[m]||{_errors:[]},l=l[m],h++}}};return r(t),n}const Nf=t=>(e,n,r,i)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise)throw new il;if(l.issues.length){const h=new(i?.Err??t)(l.issues.map(m=>ea(m,a,Jo())));throw rI(h,i?.callee),h}return l.value},QV=Nf(If),Sf=t=>async(e,n,r,i)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise&&(l=await l),l.issues.length){const h=new(i?.Err??t)(l.issues.map(m=>ea(m,a,Jo())));throw rI(h,i?.callee),h}return l.value},YV=Sf(If),kf=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new il;return a.issues.length?{success:!1,error:new(t??Ky)(a.issues.map(l=>ea(l,i,Jo())))}:{success:!0,data:a.value}},XV=kf(If),Af=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new t(a.issues.map(l=>ea(l,i,Jo())))}:{success:!0,data:a.value}},JV=Af(If),e3=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Nf(t)(e,n,i)},t3=t=>(e,n,r)=>Nf(t)(e,n,r),n3=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Sf(t)(e,n,i)},r3=t=>async(e,n,r)=>Sf(t)(e,n,r),s3=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return kf(t)(e,n,i)},i3=t=>(e,n,r)=>kf(t)(e,n,r),o3=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Af(t)(e,n,i)},a3=t=>async(e,n,r)=>Af(t)(e,n,r),l3=/^[cC][^\s-]{8,}$/,c3=/^[0-9a-z]+$/,u3=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,d3=/^[0-9a-vA-V]{20}$/,h3=/^[A-Za-z0-9]{27}$/,f3=/^[a-zA-Z0-9_-]{21}$/,m3=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,p3=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,L_=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,g3=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,y3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function v3(){return new RegExp(y3,"u")}const x3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,w3=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,_3=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,E3=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,b3=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,aI=/^[A-Za-z0-9_-]*$/,T3=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,I3=/^\+(?:[0-9]){6,14}[0-9]$/,lI="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",N3=new RegExp(`^${lI}$`);function cI(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function S3(t){return new RegExp(`^${cI(t)}$`)}function k3(t){const e=cI({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${lI}T(?:${r})$`)}const A3=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},C3=/^-?\d+$/,R3=/^-?\d+(?:\.\d+)?/,P3=/^[^A-Z]*$/,j3=/^[^a-z]*$/,ir=re("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),uI={number:"number",bigint:"bigint",object:"date"},dI=re("$ZodCheckLessThan",(t,e)=>{ir.init(t,e);const n=uI[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,a=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<a&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),hI=re("$ZodCheckGreaterThan",(t,e)=>{ir.init(t,e);const n=uI[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,a=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>a&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),D3=re("$ZodCheckMultipleOf",(t,e)=>{ir.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):MV(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),O3=re("$ZodCheckNumberFormat",(t,e)=>{ir.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[i,a]=zV[e.format];t._zod.onattach.push(l=>{const h=l._zod.bag;h.format=e.format,h.minimum=i,h.maximum=a,n&&(h.pattern=C3)}),t._zod.check=l=>{const h=l.value;if(n){if(!Number.isInteger(h)){l.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:h,inst:t});return}if(!Number.isSafeInteger(h)){h>0?l.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):l.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}h<i&&l.issues.push({origin:"number",input:h,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),h>a&&l.issues.push({origin:"number",input:h,code:"too_big",maximum:a,inst:t})}}),M3=re("$ZodCheckMaxLength",(t,e)=>{var n;ir.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!qy(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const l=Gy(i);r.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),V3=re("$ZodCheckMinLength",(t,e)=>{var n;ir.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!qy(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const l=Gy(i);r.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),L3=re("$ZodCheckLengthEquals",(t,e)=>{var n;ir.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!qy(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,a=i.length;if(a===e.length)return;const l=Gy(i),h=a>e.length;r.issues.push({origin:l,...h?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Cf=re("$ZodCheckStringFormat",(t,e)=>{var n,r;ir.init(t,e),t._zod.onattach.push(i=>{const a=i._zod.bag;a.format=e.format,e.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),F3=re("$ZodCheckRegex",(t,e)=>{Cf.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),z3=re("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=P3),Cf.init(t,e)}),U3=re("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=j3),Cf.init(t,e)}),$3=re("$ZodCheckIncludes",(t,e)=>{ir.init(t,e);const n=Tf(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),B3=re("$ZodCheckStartsWith",(t,e)=>{ir.init(t,e);const n=new RegExp(`^${Tf(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),H3=re("$ZodCheckEndsWith",(t,e)=>{ir.init(t,e);const n=new RegExp(`.*${Tf(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),q3=re("$ZodCheckOverwrite",(t,e)=>{ir.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class W3{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(l=>l),i=Math.min(...r.map(l=>l.length-l.trimStart().length)),a=r.map(l=>l.slice(i)).map(l=>" ".repeat(this.indent*2)+l);for(const l of a)this.content.push(l)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(a=>`  ${a}`)];return new e(...n,i.join(`
`))}}const G3={major:4,minor:1,patch:12},tn=re("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=G3;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const a of i._zod.onattach)a(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(l,h,m)=>{let g=Xa(l),w;for(const x of h){if(x._zod.def.when){if(!x._zod.def.when(l))continue}else if(g)continue;const E=l.issues.length,C=x._zod.check(l);if(C instanceof Promise&&m?.async===!1)throw new il;if(w||C instanceof Promise)w=(w??Promise.resolve()).then(async()=>{await C,l.issues.length!==E&&(g||(g=Xa(l,E)))});else{if(l.issues.length===E)continue;g||(g=Xa(l,E))}}return w?w.then(()=>l):l},a=(l,h,m)=>{if(Xa(l))return l.aborted=!0,l;const g=i(h,r,m);if(g instanceof Promise){if(m.async===!1)throw new il;return g.then(w=>t._zod.parse(w,m))}return t._zod.parse(g,m)};t._zod.run=(l,h)=>{if(h.skipChecks)return t._zod.parse(l,h);if(h.direction==="backward"){const g=t._zod.parse({value:l.value,issues:[]},{...h,skipChecks:!0});return g instanceof Promise?g.then(w=>a(w,l,h)):a(g,l,h)}const m=t._zod.parse(l,h);if(m instanceof Promise){if(h.async===!1)throw new il;return m.then(g=>i(g,r,h))}return i(m,r,h)}}t["~standard"]={validate:i=>{try{const a=XV(t,i);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return JV(t,i).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),Zy=re("$ZodString",(t,e)=>{tn.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??A3(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),kt=re("$ZodStringFormat",(t,e)=>{Cf.init(t,e),Zy.init(t,e)}),K3=re("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=p3),kt.init(t,e)}),Z3=re("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=L_(r))}else e.pattern??(e.pattern=L_());kt.init(t,e)}),Q3=re("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=g3),kt.init(t,e)}),Y3=re("$ZodURL",(t,e)=>{kt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:T3.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),X3=re("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=v3()),kt.init(t,e)}),J3=re("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=f3),kt.init(t,e)}),eL=re("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=l3),kt.init(t,e)}),tL=re("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=c3),kt.init(t,e)}),nL=re("$ZodULID",(t,e)=>{e.pattern??(e.pattern=u3),kt.init(t,e)}),rL=re("$ZodXID",(t,e)=>{e.pattern??(e.pattern=d3),kt.init(t,e)}),sL=re("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=h3),kt.init(t,e)}),iL=re("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=k3(e)),kt.init(t,e)}),oL=re("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=N3),kt.init(t,e)}),aL=re("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=S3(e)),kt.init(t,e)}),lL=re("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=m3),kt.init(t,e)}),cL=re("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=x3),kt.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),uL=re("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=w3),kt.init(t,e),t._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),dL=re("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=_3),kt.init(t,e)}),hL=re("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=E3),kt.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,a]=r;if(!a)throw new Error;const l=Number(a);if(`${l}`!==a)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function fI(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const fL=re("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=b3),kt.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),t._zod.check=n=>{fI(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function mL(t){if(!aI.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return fI(n)}const pL=re("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=aI),kt.init(t,e),t._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),t._zod.check=n=>{mL(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),gL=re("$ZodE164",(t,e)=>{e.pattern??(e.pattern=I3),kt.init(t,e)});function yL(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const vL=re("$ZodJWT",(t,e)=>{kt.init(t,e),t._zod.check=n=>{yL(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),mI=re("$ZodNumber",(t,e)=>{tn.init(t,e),t._zod.pattern=t._zod.bag.pattern??R3,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const a=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...a?{received:a}:{}}),n}}),xL=re("$ZodNumber",(t,e)=>{O3.init(t,e),mI.init(t,e)}),wL=re("$ZodUnknown",(t,e)=>{tn.init(t,e),t._zod.parse=n=>n}),_L=re("$ZodNever",(t,e)=>{tn.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function F_(t,e,n){t.issues.length&&e.issues.push(...iI(n,t.issues)),e.value[n]=t.value}const EL=re("$ZodArray",(t,e)=>{tn.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const a=[];for(let l=0;l<i.length;l++){const h=i[l],m=e.element._zod.run({value:h,issues:[]},r);m instanceof Promise?a.push(m.then(g=>F_(g,n,l))):F_(m,n,l)}return a.length?Promise.all(a).then(()=>n):n}});function zh(t,e,n,r){t.issues.length&&e.issues.push(...iI(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function pI(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=FV(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function gI(t,e,n,r,i,a){const l=[],h=i.keySet,m=i.catchall._zod,g=m.def.type;for(const w of Object.keys(e)){if(h.has(w))continue;if(g==="never"){l.push(w);continue}const x=m.run({value:e[w],issues:[]},r);x instanceof Promise?t.push(x.then(E=>zh(E,n,w,e))):zh(x,n,w,e)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:a}),t.length?Promise.all(t).then(()=>n):n}const bL=re("$ZodObject",(t,e)=>{if(tn.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const h=e.shape;Object.defineProperty(e,"shape",{get:()=>{const m={...h};return Object.defineProperty(e,"shape",{value:m}),m}})}const r=Hy(()=>pI(e));yt(t._zod,"propValues",()=>{const h=e.shape,m={};for(const g in h){const w=h[g]._zod;if(w.values){m[g]??(m[g]=new Set);for(const x of w.values)m[g].add(x)}}return m});const i=Fh,a=e.catchall;let l;t._zod.parse=(h,m)=>{l??(l=r.value);const g=h.value;if(!i(g))return h.issues.push({expected:"object",code:"invalid_type",input:g,inst:t}),h;h.value={};const w=[],x=l.shape;for(const E of l.keys){const O=x[E]._zod.run({value:g[E],issues:[]},m);O instanceof Promise?w.push(O.then(U=>zh(U,h,E,g))):zh(O,h,E,g)}return a?gI(w,g,h,m,r.value,t):w.length?Promise.all(w).then(()=>h):h}}),TL=re("$ZodObjectJIT",(t,e)=>{bL.init(t,e);const n=t._zod.parse,r=Hy(()=>pI(e)),i=E=>{const C=new W3(["shape","payload","ctx"]),O=r.value,U=Q=>{const ee=V_(Q);return`shape[${ee}]._zod.run({ value: input[${ee}], issues: [] }, ctx)`};C.write("const input = payload.value;");const M=Object.create(null);let G=0;for(const Q of O.keys)M[Q]=`key_${G++}`;C.write("const newResult = {};");for(const Q of O.keys){const ee=M[Q],B=V_(Q);C.write(`const ${ee} = ${U(Q)};`),C.write(`
        if (${ee}.issues.length) {
          payload.issues = payload.issues.concat(${ee}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${B}, ...iss.path] : [${B}]
          })));
        }
        
        
        if (${ee}.value === undefined) {
          if (${B} in input) {
            newResult[${B}] = undefined;
          }
        } else {
          newResult[${B}] = ${ee}.value;
        }
        
      `)}C.write("payload.value = newResult;"),C.write("return payload;");const $=C.compile();return(Q,ee)=>$(E,Q,ee)};let a;const l=Fh,h=!nI.jitless,g=h&&VV.value,w=e.catchall;let x;t._zod.parse=(E,C)=>{x??(x=r.value);const O=E.value;return l(O)?h&&g&&C?.async===!1&&C.jitless!==!0?(a||(a=i(e.shape)),E=a(E,C),w?gI([],O,E,C,x,t):E):n(E,C):(E.issues.push({expected:"object",code:"invalid_type",input:O,inst:t}),E)}});function z_(t,e,n,r){for(const a of t)if(a.issues.length===0)return e.value=a.value,e;const i=t.filter(a=>!Xa(a));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(a=>a.issues.map(l=>ea(l,r,Jo())))}),e)}const IL=re("$ZodUnion",(t,e)=>{tn.init(t,e),yt(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),yt(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),yt(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),yt(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(a=>a._zod.pattern);return new RegExp(`^(${i.map(a=>Wy(a.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,a)=>{if(n)return r(i,a);let l=!1;const h=[];for(const m of e.options){const g=m._zod.run({value:i.value,issues:[]},a);if(g instanceof Promise)h.push(g),l=!0;else{if(g.issues.length===0)return g;h.push(g)}}return l?Promise.all(h).then(m=>z_(m,i,t,a)):z_(h,i,t,a)}}),NL=re("$ZodIntersection",(t,e)=>{tn.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,a=e.left._zod.run({value:i,issues:[]},r),l=e.right._zod.run({value:i,issues:[]},r);return a instanceof Promise||l instanceof Promise?Promise.all([a,l]).then(([m,g])=>U_(n,m,g)):U_(n,a,l)}});function Eg(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(nu(t)&&nu(e)){const n=Object.keys(e),r=Object.keys(t).filter(a=>n.indexOf(a)!==-1),i={...t,...e};for(const a of r){const l=Eg(t[a],e[a]);if(!l.valid)return{valid:!1,mergeErrorPath:[a,...l.mergeErrorPath]};i[a]=l.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],a=e[r],l=Eg(i,a);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function U_(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Xa(t))return t;const r=Eg(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const SL=re("$ZodEnum",(t,e)=>{tn.init(t,e);const n=OV(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>LV.has(typeof i)).map(i=>typeof i=="string"?Tf(i):i.toString()).join("|")})$`),t._zod.parse=(i,a)=>{const l=i.value;return r.has(l)||i.issues.push({code:"invalid_value",values:n,input:l,inst:t}),i}}),kL=re("$ZodTransform",(t,e)=>{tn.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new tI(t.constructor.name);const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(l=>(n.value=l,n));if(i instanceof Promise)throw new il;return n.value=i,n}});function $_(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const AL=re("$ZodOptional",(t,e)=>{tn.init(t,e),t._zod.optin="optional",t._zod.optout="optional",yt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),yt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Wy(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>$_(a,n.value)):$_(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),CL=re("$ZodNullable",(t,e)=>{tn.init(t,e),yt(t._zod,"optin",()=>e.innerType._zod.optin),yt(t._zod,"optout",()=>e.innerType._zod.optout),yt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Wy(n.source)}|null)$`):void 0}),yt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),RL=re("$ZodDefault",(t,e)=>{tn.init(t,e),t._zod.optin="optional",yt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>B_(a,e)):B_(i,e)}});function B_(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const PL=re("$ZodPrefault",(t,e)=>{tn.init(t,e),t._zod.optin="optional",yt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),jL=re("$ZodNonOptional",(t,e)=>{tn.init(t,e),yt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>H_(a,t)):H_(i,t)}});function H_(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const DL=re("$ZodCatch",(t,e)=>{tn.init(t,e),yt(t._zod,"optin",()=>e.innerType._zod.optin),yt(t._zod,"optout",()=>e.innerType._zod.optout),yt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(l=>ea(l,r,Jo()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(a=>ea(a,r,Jo()))},input:n.value}),n.issues=[]),n)}}),OL=re("$ZodPipe",(t,e)=>{tn.init(t,e),yt(t._zod,"values",()=>e.in._zod.values),yt(t._zod,"optin",()=>e.in._zod.optin),yt(t._zod,"optout",()=>e.out._zod.optout),yt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const a=e.out._zod.run(n,r);return a instanceof Promise?a.then(l=>$d(l,e.in,r)):$d(a,e.in,r)}const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(a=>$d(a,e.out,r)):$d(i,e.out,r)}});function $d(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const ML=re("$ZodReadonly",(t,e)=>{tn.init(t,e),yt(t._zod,"propValues",()=>e.innerType._zod.propValues),yt(t._zod,"values",()=>e.innerType._zod.values),yt(t._zod,"optin",()=>e.innerType._zod.optin),yt(t._zod,"optout",()=>e.innerType._zod.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(q_):q_(i)}});function q_(t){return t.value=Object.freeze(t.value),t}const VL=re("$ZodCustom",(t,e)=>{ir.init(t,e),tn.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(a=>W_(a,n,r,t));W_(i,n,r,t)}});function W_(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(ru(i))}}class LL{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function FL(){return new LL}const Bd=FL();function zL(t,e){return new t({type:"string",...De(e)})}function UL(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...De(e)})}function G_(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...De(e)})}function $L(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...De(e)})}function BL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...De(e)})}function HL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...De(e)})}function qL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...De(e)})}function WL(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...De(e)})}function GL(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...De(e)})}function KL(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...De(e)})}function ZL(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...De(e)})}function QL(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...De(e)})}function YL(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...De(e)})}function XL(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...De(e)})}function JL(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...De(e)})}function e5(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...De(e)})}function t5(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...De(e)})}function n5(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...De(e)})}function r5(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...De(e)})}function s5(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...De(e)})}function i5(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...De(e)})}function o5(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...De(e)})}function a5(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...De(e)})}function l5(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...De(e)})}function c5(t,e){return new t({type:"string",format:"date",check:"string_format",...De(e)})}function u5(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...De(e)})}function d5(t,e){return new t({type:"string",format:"duration",check:"string_format",...De(e)})}function h5(t,e){return new t({type:"number",checks:[],...De(e)})}function f5(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...De(e)})}function m5(t){return new t({type:"unknown"})}function p5(t,e){return new t({type:"never",...De(e)})}function K_(t,e){return new dI({check:"less_than",...De(e),value:t,inclusive:!1})}function Ap(t,e){return new dI({check:"less_than",...De(e),value:t,inclusive:!0})}function Z_(t,e){return new hI({check:"greater_than",...De(e),value:t,inclusive:!1})}function Cp(t,e){return new hI({check:"greater_than",...De(e),value:t,inclusive:!0})}function Q_(t,e){return new D3({check:"multiple_of",...De(e),value:t})}function yI(t,e){return new M3({check:"max_length",...De(e),maximum:t})}function Uh(t,e){return new V3({check:"min_length",...De(e),minimum:t})}function vI(t,e){return new L3({check:"length_equals",...De(e),length:t})}function g5(t,e){return new F3({check:"string_format",format:"regex",...De(e),pattern:t})}function y5(t){return new z3({check:"string_format",format:"lowercase",...De(t)})}function v5(t){return new U3({check:"string_format",format:"uppercase",...De(t)})}function x5(t,e){return new $3({check:"string_format",format:"includes",...De(e),includes:t})}function w5(t,e){return new B3({check:"string_format",format:"starts_with",...De(e),prefix:t})}function _5(t,e){return new H3({check:"string_format",format:"ends_with",...De(e),suffix:t})}function wu(t){return new q3({check:"overwrite",tx:t})}function E5(t){return wu(e=>e.normalize(t))}function b5(){return wu(t=>t.trim())}function T5(){return wu(t=>t.toLowerCase())}function I5(){return wu(t=>t.toUpperCase())}function N5(t,e,n){return new t({type:"array",element:e,...De(n)})}function S5(t,e,n){return new t({type:"custom",check:"custom",fn:e,...De(n)})}function k5(t){const e=A5(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(ru(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(ru(i))}},t(n.value,n)));return e}function A5(t,e){const n=new ir({check:"custom",...De(e)});return n._zod.check=t,n}function Y_(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}function C5(t,e){for(var n={};t.length;){var r=t[0],i=r.code,a=r.message,l=r.path.join(".");if(!n[l])if("unionErrors"in r){var h=r.unionErrors[0].errors[0];n[l]={message:h.message,type:h.code}}else n[l]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(w){return w.errors.forEach(function(x){return t.push(x)})}),e){var m=n[l].types,g=m&&m[r.code];n[l]=Uy(l,e,n,i,g?[].concat(g,r.message):r.message)}t.shift()}return n}function R5(t,e){for(var n={};t.length;){var r=t[0],i=r.code,a=r.message,l=r.path.join(".");if(!n[l])if(r.code==="invalid_union"&&r.errors.length>0){var h=r.errors[0][0];n[l]={message:h.message,type:h.code}}else n[l]={message:a,type:i};if(r.code==="invalid_union"&&r.errors.forEach(function(w){return w.forEach(function(x){return t.push(x)})}),e){var m=n[l].types,g=m&&m[r.code];n[l]=Uy(l,e,n,i,g?[].concat(g,r.message):r.message)}t.shift()}return n}function Sl(t,e,n){if(n===void 0&&(n={}),(function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def})(t))return function(r,i,a){try{return Promise.resolve(Y_(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(l){return a.shouldUseNativeValidation&&wg({},a),{errors:{},values:n.raw?Object.assign({},r):l}})},function(l){if((function(h){return Array.isArray(h?.issues)})(l))return{values:{},errors:D_(C5(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}};if((function(r){return"_zod"in r&&typeof r._zod=="object"})(t))return function(r,i,a){try{return Promise.resolve(Y_(function(){return Promise.resolve((n.mode==="sync"?QV:YV)(t,r,e)).then(function(l){return a.shouldUseNativeValidation&&wg({},a),{errors:{},values:n.raw?Object.assign({},r):l}})},function(l){if((function(h){return h instanceof Ky})(l))return{values:{},errors:D_(R5(l.issues,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}const P5=re("ZodISODateTime",(t,e)=>{iL.init(t,e),jt.init(t,e)});function j5(t){return l5(P5,t)}const D5=re("ZodISODate",(t,e)=>{oL.init(t,e),jt.init(t,e)});function O5(t){return c5(D5,t)}const M5=re("ZodISOTime",(t,e)=>{aL.init(t,e),jt.init(t,e)});function V5(t){return u5(M5,t)}const L5=re("ZodISODuration",(t,e)=>{lL.init(t,e),jt.init(t,e)});function F5(t){return d5(L5,t)}const z5=(t,e)=>{Ky.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>ZV(t,n)},flatten:{value:n=>KV(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,_g,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,_g,2)}},isEmpty:{get(){return t.issues.length===0}}})},$r=re("ZodError",z5,{Parent:Error}),U5=Nf($r),$5=Sf($r),B5=kf($r),H5=Af($r),q5=e3($r),W5=t3($r),G5=n3($r),K5=r3($r),Z5=s3($r),Q5=i3($r),Y5=o3($r),X5=a3($r),an=re("ZodType",(t,e)=>(tn.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(ua(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),t.clone=(n,r)=>ho(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>U5(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>B5(t,n,r),t.parseAsync=async(n,r)=>$5(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>H5(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>q5(t,n,r),t.decode=(n,r)=>W5(t,n,r),t.encodeAsync=async(n,r)=>G5(t,n,r),t.decodeAsync=async(n,r)=>K5(t,n,r),t.safeEncode=(n,r)=>Z5(t,n,r),t.safeDecode=(n,r)=>Q5(t,n,r),t.safeEncodeAsync=async(n,r)=>Y5(t,n,r),t.safeDecodeAsync=async(n,r)=>X5(t,n,r),t.refine=(n,r)=>t.check(U9(n,r)),t.superRefine=n=>t.check($9(n)),t.overwrite=n=>t.check(wu(n)),t.optional=()=>t1(t),t.nullable=()=>n1(t),t.nullish=()=>t1(n1(t)),t.nonoptional=n=>D9(t,n),t.array=()=>bg(t),t.or=n=>T9([t,n]),t.and=n=>N9(t,n),t.transform=n=>r1(t,k9(n)),t.default=n=>R9(t,n),t.prefault=n=>j9(t,n),t.catch=n=>M9(t,n),t.pipe=n=>r1(t,n),t.readonly=()=>F9(t),t.describe=n=>{const r=t.clone();return Bd.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return Bd.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Bd.get(t);const r=t.clone();return Bd.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),xI=re("_ZodString",(t,e)=>{Zy.init(t,e),an.init(t,e);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(g5(...r)),t.includes=(...r)=>t.check(x5(...r)),t.startsWith=(...r)=>t.check(w5(...r)),t.endsWith=(...r)=>t.check(_5(...r)),t.min=(...r)=>t.check(Uh(...r)),t.max=(...r)=>t.check(yI(...r)),t.length=(...r)=>t.check(vI(...r)),t.nonempty=(...r)=>t.check(Uh(1,...r)),t.lowercase=r=>t.check(y5(r)),t.uppercase=r=>t.check(v5(r)),t.trim=()=>t.check(b5()),t.normalize=(...r)=>t.check(E5(...r)),t.toLowerCase=()=>t.check(T5()),t.toUpperCase=()=>t.check(I5())}),J5=re("ZodString",(t,e)=>{Zy.init(t,e),xI.init(t,e),t.email=n=>t.check(UL(e9,n)),t.url=n=>t.check(WL(t9,n)),t.jwt=n=>t.check(a5(g9,n)),t.emoji=n=>t.check(GL(n9,n)),t.guid=n=>t.check(G_(X_,n)),t.uuid=n=>t.check($L(Hd,n)),t.uuidv4=n=>t.check(BL(Hd,n)),t.uuidv6=n=>t.check(HL(Hd,n)),t.uuidv7=n=>t.check(qL(Hd,n)),t.nanoid=n=>t.check(KL(r9,n)),t.guid=n=>t.check(G_(X_,n)),t.cuid=n=>t.check(ZL(s9,n)),t.cuid2=n=>t.check(QL(i9,n)),t.ulid=n=>t.check(YL(o9,n)),t.base64=n=>t.check(s5(f9,n)),t.base64url=n=>t.check(i5(m9,n)),t.xid=n=>t.check(XL(a9,n)),t.ksuid=n=>t.check(JL(l9,n)),t.ipv4=n=>t.check(e5(c9,n)),t.ipv6=n=>t.check(t5(u9,n)),t.cidrv4=n=>t.check(n5(d9,n)),t.cidrv6=n=>t.check(r5(h9,n)),t.e164=n=>t.check(o5(p9,n)),t.datetime=n=>t.check(j5(n)),t.date=n=>t.check(O5(n)),t.time=n=>t.check(V5(n)),t.duration=n=>t.check(F5(n))});function et(t){return zL(J5,t)}const jt=re("ZodStringFormat",(t,e)=>{kt.init(t,e),xI.init(t,e)}),e9=re("ZodEmail",(t,e)=>{Q3.init(t,e),jt.init(t,e)}),X_=re("ZodGUID",(t,e)=>{K3.init(t,e),jt.init(t,e)}),Hd=re("ZodUUID",(t,e)=>{Z3.init(t,e),jt.init(t,e)}),t9=re("ZodURL",(t,e)=>{Y3.init(t,e),jt.init(t,e)}),n9=re("ZodEmoji",(t,e)=>{X3.init(t,e),jt.init(t,e)}),r9=re("ZodNanoID",(t,e)=>{J3.init(t,e),jt.init(t,e)}),s9=re("ZodCUID",(t,e)=>{eL.init(t,e),jt.init(t,e)}),i9=re("ZodCUID2",(t,e)=>{tL.init(t,e),jt.init(t,e)}),o9=re("ZodULID",(t,e)=>{nL.init(t,e),jt.init(t,e)}),a9=re("ZodXID",(t,e)=>{rL.init(t,e),jt.init(t,e)}),l9=re("ZodKSUID",(t,e)=>{sL.init(t,e),jt.init(t,e)}),c9=re("ZodIPv4",(t,e)=>{cL.init(t,e),jt.init(t,e)}),u9=re("ZodIPv6",(t,e)=>{uL.init(t,e),jt.init(t,e)}),d9=re("ZodCIDRv4",(t,e)=>{dL.init(t,e),jt.init(t,e)}),h9=re("ZodCIDRv6",(t,e)=>{hL.init(t,e),jt.init(t,e)}),f9=re("ZodBase64",(t,e)=>{fL.init(t,e),jt.init(t,e)}),m9=re("ZodBase64URL",(t,e)=>{pL.init(t,e),jt.init(t,e)}),p9=re("ZodE164",(t,e)=>{gL.init(t,e),jt.init(t,e)}),g9=re("ZodJWT",(t,e)=>{vL.init(t,e),jt.init(t,e)}),wI=re("ZodNumber",(t,e)=>{mI.init(t,e),an.init(t,e),t.gt=(r,i)=>t.check(Z_(r,i)),t.gte=(r,i)=>t.check(Cp(r,i)),t.min=(r,i)=>t.check(Cp(r,i)),t.lt=(r,i)=>t.check(K_(r,i)),t.lte=(r,i)=>t.check(Ap(r,i)),t.max=(r,i)=>t.check(Ap(r,i)),t.int=r=>t.check(J_(r)),t.safe=r=>t.check(J_(r)),t.positive=r=>t.check(Z_(0,r)),t.nonnegative=r=>t.check(Cp(0,r)),t.negative=r=>t.check(K_(0,r)),t.nonpositive=r=>t.check(Ap(0,r)),t.multipleOf=(r,i)=>t.check(Q_(r,i)),t.step=(r,i)=>t.check(Q_(r,i)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function kc(t){return h5(wI,t)}const y9=re("ZodNumberFormat",(t,e)=>{xL.init(t,e),wI.init(t,e)});function J_(t){return f5(y9,t)}const v9=re("ZodUnknown",(t,e)=>{wL.init(t,e),an.init(t,e)});function e1(){return m5(v9)}const x9=re("ZodNever",(t,e)=>{_L.init(t,e),an.init(t,e)});function w9(t){return p5(x9,t)}const _9=re("ZodArray",(t,e)=>{EL.init(t,e),an.init(t,e),t.element=e.element,t.min=(n,r)=>t.check(Uh(n,r)),t.nonempty=n=>t.check(Uh(1,n)),t.max=(n,r)=>t.check(yI(n,r)),t.length=(n,r)=>t.check(vI(n,r)),t.unwrap=()=>t.element});function bg(t,e){return N5(_9,t,e)}const E9=re("ZodObject",(t,e)=>{TL.init(t,e),an.init(t,e),yt(t,"shape",()=>e.shape),t.keyof=()=>_I(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:e1()}),t.loose=()=>t.clone({...t._zod.def,catchall:e1()}),t.strict=()=>t.clone({...t._zod.def,catchall:w9()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>BV(t,n),t.safeExtend=n=>HV(t,n),t.merge=n=>qV(t,n),t.pick=n=>UV(t,n),t.omit=n=>$V(t,n),t.partial=(...n)=>WV(EI,t,n[0]),t.required=(...n)=>GV(bI,t,n[0])});function xi(t,e){const n={type:"object",shape:t??{},...De(e)};return new E9(n)}const b9=re("ZodUnion",(t,e)=>{IL.init(t,e),an.init(t,e),t.options=e.options});function T9(t,e){return new b9({type:"union",options:t,...De(e)})}const I9=re("ZodIntersection",(t,e)=>{NL.init(t,e),an.init(t,e)});function N9(t,e){return new I9({type:"intersection",left:t,right:e})}const Tg=re("ZodEnum",(t,e)=>{SL.init(t,e),an.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,i)=>{const a={};for(const l of r)if(n.has(l))a[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Tg({...e,checks:[],...De(i),entries:a})},t.exclude=(r,i)=>{const a={...e.entries};for(const l of r)if(n.has(l))delete a[l];else throw new Error(`Key ${l} not found in enum`);return new Tg({...e,checks:[],...De(i),entries:a})}});function _I(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new Tg({type:"enum",entries:n,...De(e)})}const S9=re("ZodTransform",(t,e)=>{kL.init(t,e),an.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new tI(t.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(ru(a,n.value,e));else{const l=a;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=t),n.issues.push(ru(l))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(a=>(n.value=a,n)):(n.value=i,n)}});function k9(t){return new S9({type:"transform",transform:t})}const EI=re("ZodOptional",(t,e)=>{AL.init(t,e),an.init(t,e),t.unwrap=()=>t._zod.def.innerType});function t1(t){return new EI({type:"optional",innerType:t})}const A9=re("ZodNullable",(t,e)=>{CL.init(t,e),an.init(t,e),t.unwrap=()=>t._zod.def.innerType});function n1(t){return new A9({type:"nullable",innerType:t})}const C9=re("ZodDefault",(t,e)=>{RL.init(t,e),an.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function R9(t,e){return new C9({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():sI(e)}})}const P9=re("ZodPrefault",(t,e)=>{PL.init(t,e),an.init(t,e),t.unwrap=()=>t._zod.def.innerType});function j9(t,e){return new P9({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():sI(e)}})}const bI=re("ZodNonOptional",(t,e)=>{jL.init(t,e),an.init(t,e),t.unwrap=()=>t._zod.def.innerType});function D9(t,e){return new bI({type:"nonoptional",innerType:t,...De(e)})}const O9=re("ZodCatch",(t,e)=>{DL.init(t,e),an.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function M9(t,e){return new O9({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const V9=re("ZodPipe",(t,e)=>{OL.init(t,e),an.init(t,e),t.in=e.in,t.out=e.out});function r1(t,e){return new V9({type:"pipe",in:t,out:e})}const L9=re("ZodReadonly",(t,e)=>{ML.init(t,e),an.init(t,e),t.unwrap=()=>t._zod.def.innerType});function F9(t){return new L9({type:"readonly",innerType:t})}const z9=re("ZodCustom",(t,e)=>{VL.init(t,e),an.init(t,e)});function U9(t,e={}){return S5(z9,t,e)}function $9(t){return k5(t)}const B9=xi({email:et().email("Please enter a valid email address"),password:et().min(6,"Password must be at least 6 characters")}),H9=xi({firstName:et().min(2,"First name must be at least 2 characters"),lastName:et().min(2,"Last name must be at least 2 characters"),email:et().email("Please enter a valid email address"),phone:et().optional(),password:et().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:et()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});xi({email:et().email("Please enter a valid email address")});xi({password:et().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:et()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});const q9=xi({firstName:et().min(2,"First name must be at least 2 characters"),lastName:et().min(2,"Last name must be at least 2 characters"),email:et().email("Please enter a valid email address"),phone:et().min(10,"Please enter a valid phone number"),specialRequests:et().optional()}),W9=xi({location:et().min(1,"Please enter a location"),checkIn:et().min(1,"Please select check-in date"),checkOut:et().min(1,"Please select check-out date"),guests:kc().min(1,"At least 1 guest is required").max(10,"Maximum 10 guests allowed")}).refine(t=>t.checkIn&&t.checkOut?new Date(t.checkOut)>new Date(t.checkIn):!0,{message:"Check-out date must be after check-in date",path:["checkOut"]}).refine(t=>t.checkIn?new Date(t.checkIn)>=new Date(new Date().setHours(0,0,0,0)):!0,{message:"Check-in date cannot be in the past",path:["checkIn"]});xi({name:et().min(3,"Room name must be at least 3 characters"),type:_I(["single","double","suite","deluxe","penthouse"]),description:et().min(20,"Description must be at least 20 characters"),price:kc().min(1,"Price must be greater than 0"),maxOccupancy:kc().min(1,"Maximum occupancy must be at least 1"),size:kc().min(1,"Size must be greater than 0"),amenities:bg(et()).min(1,"At least one amenity is required"),features:bg(et()).min(1,"At least one feature is required"),inventory:kc().min(1,"Inventory must be at least 1")});const G9=xi({cardNumber:et().regex(/^\d{16}$/,"Card number must be 16 digits"),cardName:et().min(3,"Cardholder name is required"),expiryDate:et().regex(/^(0[1-9]|1[0-2])\/\d{2}$/,"Expiry date must be in MM/YY format"),cvv:et().regex(/^\d{3,4}$/,"CVV must be 3 or 4 digits"),billingAddress:et().min(5,"Billing address is required"),city:et().min(2,"City is required"),postalCode:et().min(3,"Postal code is required"),country:et().min(2,"Country is required")}),TI=({compact:t=!1,defaultValues:e})=>{const n=Ur(),[r,i]=z.useState(null),{register:a,handleSubmit:l,formState:{errors:h}}=la({resolver:Sl(W9),defaultValues:e||{location:"New York",checkIn:"",checkOut:"",guests:2}}),m=g=>{const w=new URLSearchParams({location:g.location,checkIn:g.checkIn,checkOut:g.checkOut,guests:String(g.guests)});n(`/search?${w.toString()}`)};return t?u.jsxs("form",{onSubmit:l(m),className:"w-full max-w-4xl mx-auto",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-2 flex items-center gap-2",children:[u.jsxs("div",{className:"flex-1 flex items-center px-4 border-r border-neutral-200",children:[u.jsx(Dh,{className:"w-5 h-5 text-neutral-400 mr-3"}),u.jsx("input",{...a("location"),type:"text",placeholder:"Where to?",className:"w-full py-3 outline-none text-neutral-900 placeholder:text-neutral-400"})]}),u.jsxs("div",{className:"flex-1 flex items-center px-4 border-r border-neutral-200",children:[u.jsx(Ps,{className:"w-5 h-5 text-neutral-400 mr-3"}),u.jsx("input",{...a("checkIn"),type:"date",placeholder:"Check in",className:"w-full py-3 outline-none text-neutral-900"})]}),u.jsxs("div",{className:"flex-1 flex items-center px-4 border-r border-neutral-200",children:[u.jsx(Ps,{className:"w-5 h-5 text-neutral-400 mr-3"}),u.jsx("input",{...a("checkOut"),type:"date",placeholder:"Check out",className:"w-full py-3 outline-none text-neutral-900"})]}),u.jsxs("div",{className:"flex items-center px-4",children:[u.jsx(pl,{className:"w-5 h-5 text-neutral-400 mr-3"}),u.jsx("input",{...a("guests",{valueAsNumber:!0}),type:"number",min:"1",max:"10",placeholder:"Guests",className:"w-20 py-3 outline-none text-neutral-900"})]}),u.jsxs("button",{type:"submit",className:"bg-neutral-900 text-white rounded-xl px-8 py-3 hover:bg-neutral-800 transition-colors flex items-center gap-2",children:[u.jsx(Oh,{className:"w-5 h-5"}),"Search"]})]}),Object.keys(h).length>0&&u.jsx("div",{className:"mt-3 text-sm text-red-600 text-center",children:Object.values(h)[0]?.message})]}):u.jsx("form",{onSubmit:l(m),className:"w-full max-w-5xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:`relative ${r==="location"?"ring-2 ring-neutral-900":""} rounded-2xl transition-all`,onFocus:()=>i("location"),onBlur:()=>i(null),children:[u.jsxs("div",{className:"p-4 border border-neutral-200 rounded-2xl hover:border-neutral-300 transition-colors",children:[u.jsx("label",{className:"block text-xs text-neutral-500 mb-1",children:"Location"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Dh,{className:"w-5 h-5 text-neutral-400 mr-2"}),u.jsx("input",{...a("location"),type:"text",placeholder:"Where are you going?",className:"w-full outline-none text-neutral-900 placeholder:text-neutral-400"})]})]}),h.location&&u.jsx("p",{className:"absolute -bottom-6 left-0 text-xs text-red-600",children:h.location.message})]}),u.jsxs("div",{className:`relative ${r==="checkIn"?"ring-2 ring-neutral-900":""} rounded-2xl transition-all`,onFocus:()=>i("checkIn"),onBlur:()=>i(null),children:[u.jsxs("div",{className:"p-4 border border-neutral-200 rounded-2xl hover:border-neutral-300 transition-colors",children:[u.jsx("label",{className:"block text-xs text-neutral-500 mb-1",children:"Check In"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ps,{className:"w-5 h-5 text-neutral-400 mr-2"}),u.jsx("input",{...a("checkIn"),type:"date",className:"w-full outline-none text-neutral-900"})]})]}),h.checkIn&&u.jsx("p",{className:"absolute -bottom-6 left-0 text-xs text-red-600",children:h.checkIn.message})]}),u.jsxs("div",{className:`relative ${r==="checkOut"?"ring-2 ring-neutral-900":""} rounded-2xl transition-all`,onFocus:()=>i("checkOut"),onBlur:()=>i(null),children:[u.jsxs("div",{className:"p-4 border border-neutral-200 rounded-2xl hover:border-neutral-300 transition-colors",children:[u.jsx("label",{className:"block text-xs text-neutral-500 mb-1",children:"Check Out"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Ps,{className:"w-5 h-5 text-neutral-400 mr-2"}),u.jsx("input",{...a("checkOut"),type:"date",className:"w-full outline-none text-neutral-900"})]})]}),h.checkOut&&u.jsx("p",{className:"absolute -bottom-6 left-0 text-xs text-red-600",children:h.checkOut.message})]}),u.jsxs("div",{className:`relative ${r==="guests"?"ring-2 ring-neutral-900":""} rounded-2xl transition-all`,onFocus:()=>i("guests"),onBlur:()=>i(null),children:[u.jsxs("div",{className:"p-4 border border-neutral-200 rounded-2xl hover:border-neutral-300 transition-colors",children:[u.jsx("label",{className:"block text-xs text-neutral-500 mb-1",children:"Guests"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(pl,{className:"w-5 h-5 text-neutral-400 mr-2"}),u.jsx("input",{...a("guests",{valueAsNumber:!0}),type:"number",min:"1",max:"10",className:"w-full outline-none text-neutral-900"})]})]}),h.guests&&u.jsx("p",{className:"absolute -bottom-6 left-0 text-xs text-red-600",children:h.guests.message})]})]}),u.jsx("div",{className:"mt-6",children:u.jsxs("button",{type:"submit",className:"w-full bg-neutral-900 text-white rounded-2xl py-4 hover:bg-neutral-800 transition-colors flex items-center justify-center gap-3",children:[u.jsx(Oh,{className:"w-5 h-5"}),u.jsx("span",{children:"Search Available Rooms"})]})})]})})},gn=(t,e="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:e}).format(t),Xi=(t,e="medium")=>{const n=typeof t=="string"?new Date(t):t,r={short:{month:"short",day:"numeric",year:"numeric"},medium:{month:"long",day:"numeric",year:"numeric"},long:{weekday:"long",month:"long",day:"numeric",year:"numeric"}}[e];return new Intl.DateTimeFormat("en-US",r).format(n)},II=(t,e)=>{const n=typeof t=="string"?new Date(t):t,i=(typeof e=="string"?new Date(e):e).getTime()-n.getTime(),a=Math.ceil(i/(1e3*60*60*24));return a>0?a:0},K9="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function rr(t){const[e,n]=z.useState(!1),r=()=>{n(!0)},{src:i,alt:a,style:l,className:h,...m}=t;return e?u.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${h??""}`,style:l,children:u.jsx("div",{className:"flex items-center justify-center w-full h-full",children:u.jsx("img",{src:K9,alt:"Error loading image",...m,"data-original-url":i})})}):u.jsx("img",{src:i,alt:a,className:h,style:l,...m,onError:r})}const NI=({room:t,checkIn:e,checkOut:n,guests:r})=>{const i=Ur(),a=()=>{const l=new URLSearchParams;e&&l.set("checkIn",e),n&&l.set("checkOut",n),r&&l.set("guests",String(r)),i(`/room/${t.id}${l.toString()?`?${l.toString()}`:""}`)};return u.jsxs("div",{onClick:a,className:"group bg-white rounded-2xl overflow-hidden hover:shadow-xl transition-all duration-300 cursor-pointer border border-neutral-100",children:[u.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[u.jsx(rr,{src:t.images[0],alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),u.jsx("div",{className:"absolute top-4 right-4",children:u.jsx("div",{className:"bg-white/95 backdrop-blur-sm px-3 py-1.5 rounded-full text-sm",children:t.type.charAt(0).toUpperCase()+t.type.slice(1)})}),u.jsx("div",{className:"absolute bottom-4 left-4",children:u.jsxs("div",{className:"bg-white/95 backdrop-blur-sm px-3 py-1.5 rounded-full flex items-center gap-1.5",children:[u.jsx(Vy,{className:"w-4 h-4 fill-neutral-900 text-neutral-900"}),u.jsx("span",{className:"text-sm",children:t.rating.toFixed(1)}),u.jsxs("span",{className:"text-xs text-neutral-500",children:["(",t.reviewCount,")"]})]})})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"mb-2",children:t.name}),u.jsx("p",{className:"text-neutral-600 mb-4 line-clamp-2",children:t.description}),u.jsxs("div",{className:"flex items-center gap-4 mb-4 text-sm text-neutral-600",children:[u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx(pl,{className:"w-4 h-4"}),u.jsxs("span",{children:["Up to ",t.maxOccupancy," guests"]})]}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx(FM,{className:"w-4 h-4"}),u.jsxs("span",{children:[t.size,"m"]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.amenities.slice(0,3).map(l=>u.jsx("span",{className:"text-xs bg-neutral-100 text-neutral-700 px-3 py-1 rounded-full",children:l},l)),t.amenities.length>3&&u.jsxs("span",{className:"text-xs text-neutral-500 px-3 py-1",children:["+",t.amenities.length-3," more"]})]}),u.jsxs("div",{className:"flex items-end justify-between pt-4 border-t border-neutral-100",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-neutral-500",children:"Starting from"}),u.jsxs("div",{className:"flex items-baseline gap-1",children:[u.jsx("span",{className:"text-neutral-900",children:gn(t.price)}),u.jsx("span",{className:"text-sm text-neutral-500",children:"/ night"})]})]}),u.jsx("button",{className:"bg-neutral-900 text-white px-6 py-2.5 rounded-xl hover:bg-neutral-800 transition-colors text-sm",children:"View Details"})]})]})]})};class xc{static async getCollection(e){try{return(await pn(Ut(Ke,e))).docs.map(r=>({id:r.id,...r.data()}))}catch(n){throw console.error(`Error fetching ${e}:`,n),n}}static async getDocument(e,n){try{const r=Nt(Ke,e,n),i=await ai(r);return i.exists()?{id:i.id,...i.data()}:null}catch(r){throw console.error(`Error fetching document ${n} from ${e}:`,r),r}}static async queryCollection(e,n=[]){try{const r=nr(Ut(Ke,e),...n);return(await pn(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(r){throw console.error(`Error querying ${e}:`,r),r}}static async addDocument(e,n){try{return(await Xj(Ut(Ke,e),n)).id}catch(r){throw console.error(`Error adding document to ${e}:`,r),r}}static async updateDocument(e,n,r){try{const i=Nt(Ke,e,n);await fl(i,r)}catch(i){throw console.error(`Error updating document ${n} in ${e}:`,i),i}}static async deleteDocument(e,n){try{const r=Nt(Ke,e,n);await mf(r)}catch(r){throw console.error(`Error deleting document ${n} from ${e}:`,r),r}}}class Z9{static async getAllRooms(){return xc.getCollection("rooms")}static async getRoomById(e){return xc.getDocument("rooms",e)}static async getAvailableRooms(){return xc.queryCollection("rooms",[Et("available","==",!0),Et("status","==","available")])}static async getRoomsByType(e){return xc.queryCollection("rooms",[Et("type","==",e),Et("available","==",!0)])}static async searchRooms(e){const n=[Et("available","==",!0)];return e.type&&n.push(Et("type","==",e.type)),e.minPrice&&n.push(Et("price",">=",e.minPrice)),e.maxPrice&&n.push(Et("price","<=",e.maxPrice)),e.maxOccupancy&&n.push(Et("maxOccupancy",">=",e.maxOccupancy)),xc.queryCollection("rooms",n)}}const Q9=()=>{const[t,e]=z.useState([]),[n,r]=z.useState(!0);return z.useEffect(()=>{(async()=>{try{const l=(await Z9.getAvailableRooms()).sort((h,m)=>m.rating-h.rating).slice(0,3);e(l)}catch(a){console.error("Error fetching featured rooms:",a)}finally{r(!1)}})()},[]),u.jsxs("div",{className:"min-h-screen",children:[u.jsxs("section",{className:"relative h-[90vh] flex items-center justify-center overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 z-0",children:[u.jsx(rr,{src:"https://images.unsplash.com/photo-1590381105924-c72589b9ef3f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsdXh1cnklMjBob3RlbCUyMGxvYmJ5fGVufDF8fHx8MTc2MDkzNTQzNXww&ixlib=rb-4.1.0&q=80&w=1080",alt:"Luxury Hotel Lobby",className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/20 to-white"})]}),u.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 lg:px-8 text-center",children:[u.jsx("h1",{className:"text-white mb-6",children:"Discover Your Perfect Stay"}),u.jsx("p",{className:"text-xl text-white/90 mb-12 max-w-2xl mx-auto",children:"Experience unparalleled luxury and comfort in our handpicked selection of premium accommodations"}),u.jsx(TI,{})]}),u.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-10",children:u.jsx("div",{className:"w-6 h-10 border-2 border-white/50 rounded-full flex items-start justify-center p-2",children:u.jsx("div",{className:"w-1.5 h-3 bg-white/50 rounded-full animate-bounce"})})})]}),u.jsx("section",{className:"py-24 bg-neutral-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"mb-4",children:"Why Choose LuxeStay"}),u.jsx("p",{className:"text-neutral-600 max-w-2xl mx-auto",children:"We're committed to providing exceptional experiences that exceed your expectations"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:Vy,title:"Premium Quality",description:"Handpicked rooms that meet the highest standards of luxury and comfort"},{icon:pg,title:"Best Price Guarantee",description:"We guarantee the best rates for your booking, always"},{icon:My,title:"Secure Booking",description:"Your data is protected with enterprise-level security"},{icon:HT,title:"24/7 Support",description:"Our dedicated team is here to help you anytime, anywhere"}].map((i,a)=>{const l=i.icon;return u.jsxs("div",{className:"bg-white p-8 rounded-2xl hover:shadow-lg transition-shadow",children:[u.jsx("div",{className:"w-14 h-14 bg-neutral-900 rounded-2xl flex items-center justify-center mb-6",children:u.jsx(l,{className:"w-7 h-7 text-white"})}),u.jsx("h4",{className:"mb-3",children:i.title}),u.jsx("p",{className:"text-neutral-600",children:i.description})]},a)})})]})}),u.jsx("section",{className:"py-24",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[u.jsxs("div",{className:"flex items-end justify-between mb-12",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"mb-4",children:"Featured Rooms"}),u.jsx("p",{className:"text-neutral-600",children:"Explore our most popular accommodations"})]}),u.jsx(Le,{to:"/search",className:"hidden md:block text-neutral-900 hover:text-neutral-700 transition-colors",children:"View all rooms "})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n?[...Array(3)].map((i,a)=>u.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden animate-pulse",children:[u.jsx("div",{className:"aspect-[4/3] bg-neutral-200"}),u.jsxs("div",{className:"p-6 space-y-3",children:[u.jsx("div",{className:"h-6 bg-neutral-200 rounded"}),u.jsx("div",{className:"h-4 bg-neutral-200 rounded w-3/4"}),u.jsx("div",{className:"h-4 bg-neutral-200 rounded w-1/2"})]})]},a)):t.map(i=>u.jsx(NI,{room:i},i.id))}),u.jsx("div",{className:"mt-12 text-center md:hidden",children:u.jsx(Le,{to:"/search",className:"inline-block bg-neutral-900 text-white px-8 py-3 rounded-xl hover:bg-neutral-800 transition-colors",children:"View All Rooms"})})]})}),u.jsx("section",{className:"py-24 bg-neutral-900 text-white",children:u.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-white mb-6",children:"Experience Luxury Like Never Before"}),u.jsx("p",{className:"text-white/80 mb-8",children:"From the moment you step into our properties, you'll be immersed in an atmosphere of refined elegance and thoughtful hospitality. Every detail has been carefully curated to ensure your stay is nothing short of extraordinary."}),u.jsx("div",{className:"space-y-4",children:["Personalized concierge service","World-class amenities","Prime locations in major cities","Exclusive member benefits"].map((i,a)=>u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-6 h-6 bg-white/10 rounded-full flex items-center justify-center",children:u.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),u.jsx("span",{className:"text-white/90",children:i})]},a))})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx(rr,{src:"https://images.unsplash.com/photo-1655292912612-bb5b1bda9355?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtb2Rlcm4lMjBob3RlbCUyMHJvb218ZW58MXx8fHwxNzYwOTcyNDE1fDA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Hotel Room",className:"w-full h-64 object-cover rounded-2xl"}),u.jsx(rr,{src:"https://images.unsplash.com/photo-1663659506588-5d5f24c3eb4a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxob3RlbCUyMGJhdGhyb29tJTIwbHV4dXJ5fGVufDF8fHx8MTc2MDk0Njg1NXww&ixlib=rb-4.1.0&q=80&w=1080",alt:"Hotel Bathroom",className:"w-full h-48 object-cover rounded-2xl"})]}),u.jsxs("div",{className:"space-y-4 pt-8",children:[u.jsx(rr,{src:"https://images.unsplash.com/photo-1709630998478-7c310df16bc0?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxib3V0aXF1ZSUyMGhvdGVsJTIwaW50ZXJpb3J8ZW58MXx8fHwxNzYwOTIzNjMzfDA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Hotel Interior",className:"w-full h-48 object-cover rounded-2xl"}),u.jsx(rr,{src:"https://images.unsplash.com/photo-1570213489059-0aac6626cade?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxob3RlbCUyMHBvb2wlMjByZXNvcnR8ZW58MXx8fHwxNzYxMDE5Mzc4fDA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Hotel Pool",className:"w-full h-64 object-cover rounded-2xl"})]})]})]})})}),u.jsx("section",{className:"py-24",children:u.jsxs("div",{className:"max-w-4xl mx-auto px-6 lg:px-8 text-center",children:[u.jsx("h2",{className:"mb-6",children:"Ready to Book Your Stay?"}),u.jsx("p",{className:"text-neutral-600 mb-8 text-xl",children:"Join thousands of satisfied guests who have experienced the LuxeStay difference"}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[u.jsx(Le,{to:"/search",className:"bg-neutral-900 text-white px-8 py-4 rounded-xl hover:bg-neutral-800 transition-colors",children:"Browse Available Rooms"}),u.jsx(Le,{to:"/contact",className:"border-2 border-neutral-900 text-neutral-900 px-8 py-4 rounded-xl hover:bg-neutral-50 transition-colors",children:"Contact Us"})]})]})})]})},Y9=()=>u.jsxs("div",{className:"min-h-screen",children:[u.jsxs("section",{className:"relative h-[90vh] flex items-center justify-center overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 z-0",children:[u.jsx(rr,{src:"https://images.unsplash.com/photo-1564501049412-61c2a3083791?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsdXh1cnklMjBob3RlbCUyMGxvYmJ5fGVufDF8fHx8MTc2MDkzNTQzNXww&ixlib=rb-4.1.0&q=80&w=1080",alt:"Luxury Hotel About",className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/20 to-white"})]}),u.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 lg:px-8 text-center",children:[u.jsx("h1",{className:"text-white mb-6",children:"About LuxeStay"}),u.jsx("p",{className:"text-xl text-white/90 mb-12 max-w-2xl mx-auto",children:"Redefining luxury hospitality with exceptional service, premium accommodations, and unforgettable experiences since 2010"})]}),u.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-10",children:u.jsx("div",{className:"w-6 h-10 border-2 border-white/50 rounded-full flex items-start justify-center p-2",children:u.jsx("div",{className:"w-1.5 h-3 bg-white/50 rounded-full animate-bounce"})})})]}),u.jsx("section",{className:"py-24",children:u.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"mb-6",children:"Our Story"}),u.jsx("p",{className:"text-neutral-600 mb-6 text-lg",children:"Founded in 2010 with a vision to transform the hospitality industry, LuxeStay began as a boutique hotel collection focused on providing personalized luxury experiences. What started as a single property has grown into a curated network of premium accommodations across major destinations worldwide."}),u.jsx("p",{className:"text-neutral-600 mb-8",children:"Our commitment to excellence, attention to detail, and passion for hospitality has earned us recognition as one of the leading luxury hotel brands. We believe that every guest deserves an extraordinary experience, and we work tirelessly to exceed expectations at every touchpoint."}),u.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-neutral-900 mb-2",children:"150+"}),u.jsx("div",{className:"text-neutral-600",children:"Properties"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-neutral-900 mb-2",children:"50+"}),u.jsx("div",{className:"text-neutral-600",children:"Cities"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-bold text-neutral-900 mb-2",children:"1M+"}),u.jsx("div",{className:"text-neutral-600",children:"Happy Guests"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx(rr,{src:"https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxob3RlbCUyMGxvYmJ5fGVufDF8fHx8MTc2MDkzNTQzNXww&ixlib=rb-4.1.0&q=80&w=1080",alt:"Hotel Lobby",className:"w-full h-64 object-cover rounded-2xl"}),u.jsx(rr,{src:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxob3RlbCUyMHNlcnZpY2V8ZW58MXx8fHwxNzYwOTM1NDM1fDA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Hotel Service",className:"w-full h-48 object-cover rounded-2xl"})]}),u.jsxs("div",{className:"space-y-4 pt-8",children:[u.jsx(rr,{src:"https://images.unsplash.com/photo-1571896349842-33c89424de2d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxob3RlbCUyMGRpbmluZ3xlbnwxfHx8fDE3NjA5MzU0MzV8MA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Hotel Dining",className:"w-full h-48 object-cover rounded-2xl"}),u.jsx(rr,{src:"https://images.unsplash.com/photo-1590381105924-c72589b9ef3f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsdXh1cnklMjBob3RlbCUyMHJvb218ZW58MXx8fHwxNzYwOTM1NDM1fDA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Luxury Room",className:"w-full h-64 object-cover rounded-2xl"})]})]})]})})}),u.jsx("section",{className:"py-24 bg-neutral-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"mb-4",children:"Our Values"}),u.jsx("p",{className:"text-neutral-600 max-w-2xl mx-auto",children:"The principles that guide everything we do and shape every guest experience"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:Vy,title:"Excellence",description:"We strive for perfection in every detail, from room amenities to personalized service"},{icon:NM,title:"Hospitality",description:"Genuine care and warmth in every interaction, making guests feel truly welcomed"},{icon:My,title:"Integrity",description:"Honest, transparent practices that build trust and lasting relationships"},{icon:pg,title:"Innovation",description:"Continuously evolving to exceed expectations and set new industry standards"}].map((t,e)=>{const n=t.icon;return u.jsxs("div",{className:"bg-white p-8 rounded-2xl hover:shadow-lg transition-shadow",children:[u.jsx("div",{className:"w-14 h-14 bg-neutral-900 rounded-2xl flex items-center justify-center mb-6",children:u.jsx(n,{className:"w-7 h-7 text-white"})}),u.jsx("h4",{className:"mb-3",children:t.title}),u.jsx("p",{className:"text-neutral-600",children:t.description})]},e)})})]})}),u.jsx("section",{className:"py-24",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"mb-4",children:"Leadership Team"}),u.jsx("p",{className:"text-neutral-600 max-w-2xl mx-auto",children:"Meet the visionaries behind LuxeStay's success and commitment to excellence"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{name:"Sarah Johnson",role:"Chief Executive Officer",image:"https://images.unsplash.com/photo-1494790108755-2616b612b786?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwcm9mZXNzaW9uYWwlMjB3b21hbnxlbnwxfHx8fDE3NjA5MzU0MzV8MA&ixlib=rb-4.1.0&q=80&w=400",bio:"15+ years in luxury hospitality, former VP at Four Seasons"},{name:"Michael Chen",role:"Chief Operating Officer",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwcm9mZXNzaW9uYWwlMjBtYW58ZW58MXx8fHwxNzYwOTM1NDM1fDA&ixlib=rb-4.1.0&q=80&w=400",bio:"Operations expert with 20+ years in international hotel management"},{name:"Emily Rodriguez",role:"Chief Experience Officer",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwcm9mZXNzaW9uYWwlMjB3b21hbnxlbnwxfHx8fDE3NjA5MzU0MzV8MA&ixlib=rb-4.1.0&q=80&w=400",bio:"Guest experience innovator, former Director at Ritz-Carlton"}].map((t,e)=>u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-48 h-48 mx-auto mb-6 overflow-hidden rounded-2xl",children:u.jsx(rr,{src:t.image,alt:t.name,className:"w-full h-full object-cover"})}),u.jsx("h4",{className:"mb-2",children:t.name}),u.jsx("p",{className:"text-neutral-600 font-medium mb-3",children:t.role}),u.jsx("p",{className:"text-neutral-500 text-sm",children:t.bio})]},e))})]})}),u.jsx("section",{className:"py-24 bg-neutral-900 text-white",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-white mb-4",children:"Awards & Recognition"}),u.jsx("p",{className:"text-white/80 max-w-2xl mx-auto",children:"Our commitment to excellence has been recognized by industry leaders worldwide"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{year:"2024",award:"Best Luxury Hotel Chain",organization:"Travel + Leisure"},{year:"2023",award:"Excellence in Service",organization:"Cond Nast Traveler"},{year:"2023",award:"Top Hotel Brand",organization:"World Travel Awards"},{year:"2022",award:"Innovation in Hospitality",organization:"Hotel Management"}].map((t,e)=>u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-2xl flex items-center justify-center mx-auto mb-4",children:u.jsx(pg,{className:"w-8 h-8 text-white"})}),u.jsx("div",{className:"text-white/60 text-sm mb-2",children:t.year}),u.jsx("h4",{className:"text-white mb-2",children:t.award}),u.jsx("p",{className:"text-white/80 text-sm",children:t.organization})]},e))})]})}),u.jsx("section",{className:"py-24",children:u.jsxs("div",{className:"max-w-4xl mx-auto px-6 lg:px-8 text-center",children:[u.jsx("h2",{className:"mb-6",children:"Experience the LuxeStay Difference"}),u.jsx("p",{className:"text-neutral-600 mb-8 text-xl",children:"Join our community of discerning travelers and discover what makes us special"}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[u.jsx(Le,{to:"/search",className:"bg-neutral-900 text-white px-8 py-4 rounded-xl hover:bg-neutral-800 transition-colors",children:"Book Your Stay"}),u.jsx(Le,{to:"/contact",className:"border-2 border-neutral-900 text-neutral-900 px-8 py-4 rounded-xl hover:bg-neutral-50 transition-colors",children:"Get in Touch"})]})]})})]}),X9=xi({name:et().min(2,"Name must be at least 2 characters"),email:et().email("Please enter a valid email address"),phone:et().optional(),subject:et().min(5,"Subject must be at least 5 characters"),message:et().min(10,"Message must be at least 10 characters"),inquiryType:et().min(1,"Please select an inquiry type")}),J9=()=>{const[t,e]=z.useState(!1),{register:n,handleSubmit:r,reset:i,formState:{errors:a}}=la({resolver:Sl(X9)}),l=async h=>{e(!0),await new Promise(m=>setTimeout(m,1e3)),console.log("Contact form submitted:",h),Rt.success("Thank you for your message! We'll get back to you within 24 hours."),i(),e(!1)};return u.jsxs("div",{className:"min-h-screen",children:[u.jsxs("section",{className:"relative h-[90vh] flex items-center justify-center overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 z-0",children:[u.jsx(rr,{src:"https://images.unsplash.com/photo-1497366216548-37526070297c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxob3RlbCUyMGNvbmNpZXJnZXxlbnwxfHx8fDE3NjA5MzU0MzV8MA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Hotel Concierge",className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/20 to-white"})]}),u.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 lg:px-8 text-center",children:[u.jsx("h1",{className:"text-white mb-6",children:"Get in Touch"}),u.jsx("p",{className:"text-xl text-white/90 mb-12 max-w-2xl mx-auto",children:"We're here to help make your stay exceptional. Reach out to us for reservations, inquiries, or any assistance you need"})]}),u.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-10",children:u.jsx("div",{className:"w-6 h-10 border-2 border-white/50 rounded-full flex items-start justify-center p-2",children:u.jsx("div",{className:"w-1.5 h-3 bg-white/50 rounded-full animate-bounce"})})})]}),u.jsx("section",{className:"py-24 bg-neutral-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"mb-4",children:"Contact Information"}),u.jsx("p",{className:"text-neutral-600 max-w-2xl mx-auto",children:"Multiple ways to reach us - choose what works best for you"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:zc,title:"Phone",primary:"+1 (555) 123-LUXE",secondary:"Available 24/7",description:"Speak directly with our reservations team"},{icon:Fc,title:"Email",primary:"hello@luxestay.com",secondary:"Response within 4 hours",description:"Send us your questions or requests"},{icon:BM,title:"Live Chat",primary:"Available on website",secondary:"Instant responses",description:"Chat with our support team online"},{icon:HT,title:"Concierge",primary:"In-hotel assistance",secondary:"Personalized service",description:"On-site support during your stay"}].map((h,m)=>{const g=h.icon;return u.jsxs("div",{className:"bg-white p-8 rounded-2xl hover:shadow-lg transition-shadow text-center",children:[u.jsx("div",{className:"w-14 h-14 bg-neutral-900 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:u.jsx(g,{className:"w-7 h-7 text-white"})}),u.jsx("h4",{className:"mb-3",children:h.title}),u.jsx("p",{className:"text-neutral-900 font-semibold mb-1",children:h.primary}),u.jsx("p",{className:"text-neutral-600 text-sm mb-3",children:h.secondary}),u.jsx("p",{className:"text-neutral-500 text-sm",children:h.description})]},m)})})]})}),u.jsx("section",{className:"py-24",children:u.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"mb-6",children:"Send us a Message"}),u.jsx("p",{className:"text-neutral-600 mb-8",children:"Fill out the form below and we'll get back to you as soon as possible."}),u.jsxs("form",{onSubmit:r(l),className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),u.jsx("input",{...n("name"),type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-neutral-900 focus:border-transparent",placeholder:"Your full name"}),a.name&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),u.jsx("input",{...n("email"),type:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-neutral-900 focus:border-transparent",placeholder:"your.email@example.com"}),a.email&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email.message})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),u.jsx("input",{...n("phone"),type:"tel",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-neutral-900 focus:border-transparent",placeholder:"+1 (555) 123-4567"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inquiry Type *"}),u.jsxs("select",{...n("inquiryType"),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-neutral-900 focus:border-transparent",children:[u.jsx("option",{value:"",children:"Select inquiry type"}),u.jsx("option",{value:"reservation",children:"New Reservation"}),u.jsx("option",{value:"existing",children:"Existing Booking"}),u.jsx("option",{value:"group",children:"Group Booking"}),u.jsx("option",{value:"event",children:"Events & Meetings"}),u.jsx("option",{value:"feedback",children:"Feedback"}),u.jsx("option",{value:"other",children:"Other"})]}),a.inquiryType&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.inquiryType.message})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),u.jsx("input",{...n("subject"),type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-neutral-900 focus:border-transparent",placeholder:"Brief subject of your inquiry"}),a.subject&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.subject.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),u.jsx("textarea",{...n("message"),rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-neutral-900 focus:border-transparent resize-none",placeholder:"Please provide details about your inquiry..."}),a.message&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.message.message})]}),u.jsx("button",{type:"submit",disabled:t,className:"w-full bg-neutral-900 text-white px-8 py-4 rounded-xl hover:bg-neutral-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:t?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Sending..."]}):u.jsxs(u.Fragment,{children:[u.jsx(ZM,{className:"w-5 h-5 mr-2"}),"Send Message"]})})]})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"mb-6",children:"Our Locations"}),u.jsx("p",{className:"text-neutral-600 mb-8",children:"Visit us at our offices around the world or contact our regional teams directly."}),u.jsx("div",{className:"space-y-8",children:[{city:"New York",country:"United States",address:`123 Fifth Avenue, Suite 1500
New York, NY 10001`,phone:"+1 (555) 123-4567",email:"ny@luxestay.com",hours:"Mon-Fri: 9AM-6PM EST",image:"https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxuZXclMjB5b3JrJTIwY2l0eXxlbnwxfHx8fDE3NjA5MzU0MzV8MA&ixlib=rb-4.1.0&q=80&w=400"},{city:"London",country:"United Kingdom",address:`45 Park Lane, Mayfair
London W1K 1PN`,phone:"+44 20 7123 4567",email:"london@luxestay.com",hours:"Mon-Fri: 9AM-6PM GMT",image:"https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsb25kb24lMjBjaXR5fGVufDF8fHx8MTc2MDkzNTQzNXww&ixlib=rb-4.1.0&q=80&w=400"},{city:"Tokyo",country:"Japan",address:`1-1-1 Shibuya, Shibuya-ku
Tokyo 150-0002`,phone:"+81 3 1234 5678",email:"tokyo@luxestay.com",hours:"Mon-Fri: 9AM-6PM JST",image:"https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx0b2t5byUyMGNpdHl8ZW58MXx8fHwxNzYwOTM1NDM1fDA&ixlib=rb-4.1.0&q=80&w=400"}].map((h,m)=>u.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:u.jsxs("div",{className:"flex items-start space-x-4",children:[u.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden flex-shrink-0",children:u.jsx(rr,{src:h.image,alt:h.city,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h4",{className:"mb-2",children:[h.city,", ",h.country]}),u.jsxs("div",{className:"space-y-2 text-sm text-neutral-600",children:[u.jsxs("div",{className:"flex items-start",children:[u.jsx(Dh,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),u.jsx("span",{className:"whitespace-pre-line",children:h.address})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(zc,{className:"w-4 h-4 mr-2 flex-shrink-0"}),u.jsx("span",{children:h.phone})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Fc,{className:"w-4 h-4 mr-2 flex-shrink-0"}),u.jsx("span",{children:h.email})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Oy,{className:"w-4 h-4 mr-2 flex-shrink-0"}),u.jsx("span",{children:h.hours})]})]})]})]})},m))})]})]})})}),u.jsx("section",{className:"py-24 bg-neutral-50",children:u.jsxs("div",{className:"max-w-4xl mx-auto px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"mb-4",children:"Frequently Asked Questions"}),u.jsx("p",{className:"text-neutral-600",children:"Quick answers to common questions about our services"})]}),u.jsx("div",{className:"space-y-6",children:[{question:"What is your cancellation policy?",answer:"We offer flexible cancellation policies that vary by rate and property. Most bookings can be cancelled up to 24-48 hours before arrival without penalty. Please check your specific booking terms for details."},{question:"Do you offer group booking discounts?",answer:"Yes, we provide special rates for group bookings of 10 or more rooms. Contact our group sales team for customized packages and pricing."},{question:"Are pets allowed at your properties?",answer:"Pet policies vary by property. Many of our hotels are pet-friendly with additional fees. Please contact the specific property or our reservations team for pet policy details."},{question:"What amenities are included in my stay?",answer:"Amenities vary by property and room type but typically include complimentary WiFi, fitness center access, and concierge services. Premium rooms may include additional perks like breakfast, lounge access, and spa credits."}].map((h,m)=>u.jsxs("div",{className:"bg-white p-6 rounded-2xl",children:[u.jsx("h4",{className:"mb-3",children:h.question}),u.jsx("p",{className:"text-neutral-600",children:h.answer})]},m))})]})}),u.jsx("section",{className:"py-24",children:u.jsxs("div",{className:"max-w-4xl mx-auto px-6 lg:px-8 text-center",children:[u.jsx("h2",{className:"mb-6",children:"Ready to Experience LuxeStay?"}),u.jsx("p",{className:"text-neutral-600 mb-8 text-xl",children:"Don't hesitate to reach out - we're here to make your stay unforgettable"}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[u.jsxs("a",{href:"tel:+15551234567",className:"bg-neutral-900 text-white px-8 py-4 rounded-xl hover:bg-neutral-800 transition-colors flex items-center",children:[u.jsx(zc,{className:"w-5 h-5 mr-2"}),"Call Now"]}),u.jsxs("a",{href:"mailto:hello@luxestay.com",className:"border-2 border-neutral-900 text-neutral-900 px-8 py-4 rounded-xl hover:bg-neutral-50 transition-colors flex items-center",children:[u.jsx(Fc,{className:"w-5 h-5 mr-2"}),"Send Email"]})]})]})})]})},eF=()=>{const[t,e]=z.useState(!1),n=uo(),r=Ur(),i=us(),{loading:a,error:l,isAuthenticated:h,user:m}=Fr(O=>O.auth),g=i.state?.from?.pathname||"/";z.useEffect(()=>{h&&m&&(m.role==="admin"?r("/admin/dashboard",{replace:!0}):m.role==="manager"?r("/manager/dashboard",{replace:!0}):r(g,{replace:!0}))},[h,m,r,g]),z.useEffect(()=>()=>{n(_T())},[n]);const{register:w,handleSubmit:x,formState:{errors:E}}=la({resolver:Sl(B9)}),C=async O=>{try{await n(nh(O)).unwrap(),Rt.success("Welcome back!")}catch(U){Rt.error(U||"Login failed")}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 py-12 px-6",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx(Le,{to:"/",className:"inline-flex items-center gap-2 mb-8",children:u.jsx("div",{className:"w-12 h-12 bg-neutral-900 rounded-xl flex items-center justify-center",children:u.jsx("span",{className:"text-white text-xl",children:"L"})})}),u.jsx("h2",{className:"mb-2",children:"Welcome Back"}),u.jsx("p",{className:"text-neutral-600",children:"Sign in to your account to continue"})]}),u.jsxs("form",{onSubmit:x(C),className:"bg-white rounded-2xl shadow-sm border border-neutral-100 p-8",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{htmlFor:"email",className:"block text-sm text-neutral-700 mb-2",children:"Email Address"}),u.jsx("input",{...w("email"),id:"email",type:"email",placeholder:"you@example.com",className:`w-full px-4 py-3 rounded-xl border ${E.email?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900 focus:border-transparent transition-all`}),E.email&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-red-600",children:[u.jsx(Lc,{className:"w-4 h-4"}),u.jsx("span",{children:E.email.message})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("label",{htmlFor:"password",className:"block text-sm text-neutral-700",children:"Password"}),u.jsx(Le,{to:"/forgot-password",className:"text-sm text-neutral-600 hover:text-neutral-900",children:"Forgot password?"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{...w("password"),id:"password",type:t?"text":"password",placeholder:"Enter your password",className:`w-full px-4 py-3 rounded-xl border ${E.password?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900 focus:border-transparent transition-all pr-12`}),u.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-600",children:t?u.jsx(gg,{className:"w-5 h-5"}):u.jsx(tu,{className:"w-5 h-5"})})]}),E.password&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-red-600",children:[u.jsx(Lc,{className:"w-4 h-4"}),u.jsx("span",{children:E.password.message})]})]}),u.jsx("button",{type:"submit",disabled:a,className:"w-full bg-neutral-900 text-white py-3 rounded-xl hover:bg-neutral-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Sign In"})]}),u.jsxs("p",{className:"text-center mt-6 text-neutral-600",children:["Don't have an account?"," ",u.jsx(Le,{to:"/signup",className:"text-neutral-900 hover:underline",children:"Sign up"})]})]})})},tF=()=>{const[t,e]=z.useState(!1),[n,r]=z.useState(!1),i=uo(),a=Ur(),{loading:l,error:h,isAuthenticated:m}=Fr(C=>C.auth);z.useEffect(()=>{m&&a("/")},[m,a]),z.useEffect(()=>()=>{i(_T())},[i]);const{register:g,handleSubmit:w,formState:{errors:x}}=la({resolver:Sl(H9)}),E=async C=>{try{const O=await i(rh(C)).unwrap();Rt.success("Account created successfully!"),a("/")}catch(O){Rt.error(O||"Signup failed")}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50 py-12 px-6",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx(Le,{to:"/",className:"inline-flex items-center gap-2 mb-8",children:u.jsx("div",{className:"w-12 h-12 bg-neutral-900 rounded-xl flex items-center justify-center",children:u.jsx("span",{className:"text-white text-xl",children:"L"})})}),u.jsx("h2",{className:"mb-2",children:"Create Account"}),u.jsx("p",{className:"text-neutral-600",children:"Join LuxeStay and start your journey"})]}),u.jsxs("form",{onSubmit:w(E),className:"bg-white rounded-2xl shadow-sm border border-neutral-100 p-8",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"firstName",className:"block text-sm text-neutral-700 mb-2",children:"First Name"}),u.jsx("input",{...g("firstName"),id:"firstName",type:"text",placeholder:"Abebe",className:`w-full px-4 py-3 rounded-xl border ${x.firstName?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900 focus:border-transparent transition-all`}),x.firstName&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:x.firstName.message})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"lastName",className:"block text-sm text-neutral-700 mb-2",children:"Last Name"}),u.jsx("input",{...g("lastName"),id:"lastName",type:"text",placeholder:"Kebede",className:`w-full px-4 py-3 rounded-xl border ${x.lastName?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900 focus:border-transparent transition-all`}),x.lastName&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:x.lastName.message})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{htmlFor:"email",className:"block text-sm text-neutral-700 mb-2",children:"Email Address"}),u.jsx("input",{...g("email"),id:"email",type:"email",placeholder:"you@gmail.com",className:`w-full px-4 py-3 rounded-xl border ${x.email?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900 focus:border-transparent transition-all`}),x.email&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-red-600",children:[u.jsx(Lc,{className:"w-4 h-4"}),u.jsx("span",{children:x.email.message})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("label",{htmlFor:"phone",className:"block text-sm text-neutral-700 mb-2",children:["Phone Number ",u.jsx("span",{className:"text-neutral-400",children:"(Optional)"})]}),u.jsx("input",{...g("phone"),id:"phone",type:"tel",placeholder:"+251-9*******",className:"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:outline-none focus:ring-2 focus:ring-neutral-900 focus:border-transparent transition-all"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{htmlFor:"password",className:"block text-sm text-neutral-700 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{...g("password"),id:"password",type:t?"text":"password",placeholder:"Create a strong password",className:`w-full px-4 py-3 rounded-xl border ${x.password?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900 focus:border-transparent transition-all pr-12`}),u.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-600",children:t?u.jsx(gg,{className:"w-5 h-5"}):u.jsx(tu,{className:"w-5 h-5"})})]}),x.password&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-red-600",children:[u.jsx(Lc,{className:"w-4 h-4"}),u.jsx("span",{children:x.password.message})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm text-neutral-700 mb-2",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{...g("confirmPassword"),id:"confirmPassword",type:n?"text":"password",placeholder:"Re-enter your password",className:`w-full px-4 py-3 rounded-xl border ${x.confirmPassword?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900 focus:border-transparent transition-all pr-12`}),u.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-600",children:n?u.jsx(gg,{className:"w-5 h-5"}):u.jsx(tu,{className:"w-5 h-5"})})]}),x.confirmPassword&&u.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-red-600",children:[u.jsx(Lc,{className:"w-4 h-4"}),u.jsx("span",{children:x.confirmPassword.message})]})]}),u.jsxs("p",{className:"text-xs text-neutral-600 mb-6",children:["By creating an account, you agree to our"," ",u.jsx(Le,{to:"/terms",className:"text-neutral-900 hover:underline",children:"Terms of Service"})," ","and"," ",u.jsx(Le,{to:"/privacy",className:"text-neutral-900 hover:underline",children:"Privacy Policy"})]}),u.jsx("button",{type:"submit",disabled:l,className:"w-full bg-neutral-900 text-white py-3 rounded-xl hover:bg-neutral-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Create Account"})]}),u.jsxs("p",{className:"text-center mt-6 text-neutral-600",children:["Already have an account?"," ",u.jsx(Le,{to:"/login",className:"text-neutral-900 hover:underline",children:"Sign in"})]})]})})},nF=()=>{const[t]=LT(),[e,n]=z.useState(!1),[r]=z.useState(["WiFi","Pool","Gym","Spa","Restaurant","Bar","Parking","Room Service"]),[i,a]=z.useState({roomType:"all",minPrice:0,maxPrice:1e3,amenities:[]}),l={location:t.get("location")||"New York",checkIn:t.get("checkIn")||"",checkOut:t.get("checkOut")||"",guests:Number(t.get("guests"))||2,roomType:i.roomType,minPrice:i.minPrice,maxPrice:i.maxPrice,amenities:i.amenities},h=[],m={rooms:h,total:h.length},g=E=>{a(C=>({...C,amenities:C.amenities.includes(E)?C.amenities.filter(O=>O!==E):[...C.amenities,E]}))},w=()=>{a({roomType:"all",minPrice:0,maxPrice:1e3,amenities:[]})},x=(i.roomType!=="all"?1:0)+(i.minPrice>0||i.maxPrice<1e3?1:0)+i.amenities.length;return u.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[u.jsx("section",{className:"bg-white border-b border-neutral-100 py-8",children:u.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:u.jsx(TI,{compact:!0,defaultValues:{location:l.location,checkIn:l.checkIn,checkOut:l.checkOut,guests:l.guests}})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-12",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"mb-2",children:[m?.total||0," ",m?.total===1?"Room":"Rooms"," Available"]}),u.jsx("p",{className:"text-neutral-600",children:l.checkIn&&l.checkOut?`${l.checkIn} - ${l.checkOut}`:"Select dates to see availability"})]}),u.jsxs("button",{onClick:()=>n(!e),className:"lg:hidden flex items-center gap-2 px-4 py-2 border border-neutral-200 rounded-xl hover:bg-neutral-50",children:[u.jsx(w_,{className:"w-5 h-5"}),u.jsx("span",{children:"Filters"}),x>0&&u.jsx("span",{className:"bg-neutral-900 text-white text-xs px-2 py-0.5 rounded-full",children:x})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[u.jsx("aside",{className:`lg:block ${e?"fixed inset-0 bg-black/50 z-50":"hidden"}`,onClick:E=>{E.target===E.currentTarget&&n(!1)},children:u.jsx("div",{className:`bg-white h-full lg:h-auto lg:sticky lg:top-24 overflow-y-auto ${e?"w-80 ml-auto":""}`,children:u.jsxs("div",{className:"p-6 lg:p-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6 lg:hidden",children:[u.jsx("h4",{children:"Filters"}),u.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-neutral-100 rounded-lg",children:u.jsx(GT,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"hidden lg:flex items-center justify-between mb-6",children:[u.jsx("h4",{children:"Filters"}),x>0&&u.jsx("button",{onClick:w,className:"text-sm text-neutral-600 hover:text-neutral-900",children:"Clear all"})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h5",{className:"mb-4",children:"Room Type"}),u.jsx("div",{className:"space-y-2",children:["all","single","double","suite","deluxe","penthouse"].map(E=>u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"roomType",value:E,checked:i.roomType===E,onChange:C=>a({...i,roomType:C.target.value}),className:"w-4 h-4 text-neutral-900 focus:ring-neutral-900"}),u.jsx("span",{className:"text-neutral-700 capitalize",children:E})]},E))})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h5",{className:"mb-4",children:"Price Range"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"text-sm text-neutral-600 mb-2 block",children:["Min: $",i.minPrice]}),u.jsx("input",{type:"range",min:"0",max:"1000",step:"50",value:i.minPrice,onChange:E=>a({...i,minPrice:Number(E.target.value)}),className:"w-full"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-sm text-neutral-600 mb-2 block",children:["Max: $",i.maxPrice]}),u.jsx("input",{type:"range",min:"0",max:"1000",step:"50",value:i.maxPrice,onChange:E=>a({...i,maxPrice:Number(E.target.value)}),className:"w-full"})]})]})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h5",{className:"mb-4",children:"Amenities"}),u.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:r.map(E=>u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:i.amenities.includes(E),onChange:()=>g(E),className:"w-4 h-4 text-neutral-900 focus:ring-neutral-900 rounded"}),u.jsx("span",{className:"text-neutral-700",children:E})]},E))})]}),u.jsx("button",{onClick:()=>n(!1),className:"w-full bg-neutral-900 text-white py-3 rounded-xl lg:hidden",children:"Apply Filters"})]})})}),u.jsx("div",{className:"lg:col-span-3",children:m&&m.rooms.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:m.rooms.map(E=>u.jsx(NI,{room:E,checkIn:l.checkIn,checkOut:l.checkOut,guests:l.guests},E.id))}):u.jsxs("div",{className:"text-center py-20",children:[u.jsx("div",{className:"w-20 h-20 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(w_,{className:"w-10 h-10 text-neutral-400"})}),u.jsx("h3",{className:"mb-2",children:"No rooms found"}),u.jsx("p",{className:"text-neutral-600 mb-6",children:"Try adjusting your filters or search criteria"}),u.jsx("button",{onClick:w,className:"bg-neutral-900 text-white px-6 py-3 rounded-xl hover:bg-neutral-800",children:"Clear Filters"})]})})]})]})]})},rF=()=>{const{id:t}=CT(),[e]=LT(),n=Ur();uo();const[r,i]=z.useState(0),[a,l]=z.useState(e.get("checkIn")||""),[h,m]=z.useState(e.get("checkOut")||""),[g,w]=z.useState(Number(e.get("guests"))||2);return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"mb-2",children:"Room not found"}),u.jsx("button",{onClick:()=>n("/search"),className:"text-neutral-600 hover:text-neutral-900",children:" Back to search"})]})})},sF=()=>{const t=Ur(),e=uo(),{selectedRoom:n,checkIn:r,checkOut:i,guests:a,extras:l}=Fr(k=>k.booking),{user:h}=Fr(k=>k.auth),[m,g]=z.useState(l.map(k=>k.id)),{register:w,handleSubmit:x,formState:{errors:E}}=la({resolver:Sl(q9),defaultValues:{firstName:h?.firstName||"",lastName:h?.lastName||"",email:h?.email||"",phone:h?.phone||""}});if(!n||!r||!i)return t("/search"),null;const C=II(r,i),O=n.price*C,U=l.reduce((k,I)=>k+I.price,0),M=O+U,G=M*.1,$=25,Q=M+G+$,ee=[],B=k=>{const I=ee.find(A=>A.id===k);I&&(m.includes(k)?(g(A=>A.filter(D=>D!==k)),e(wO(k))):(g(A=>[...A,k]),e(xO({...I,quantity:1}))))},de=k=>{e(_O(k)),Rt.success("Guest information saved"),t("/checkout")};return u.jsx("div",{className:"min-h-screen bg-neutral-50 py-12",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"mb-2",children:"Complete Your Booking"}),u.jsx("p",{className:"text-neutral-600",children:"Just a few more details and you're all set"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-2xl p-8",children:[u.jsx("h4",{className:"mb-6",children:"Guest Information"}),u.jsxs("form",{onSubmit:x(de),className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"First Name"}),u.jsx("input",{...w("firstName"),className:`w-full px-4 py-3 rounded-xl border ${E.firstName?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900`}),E.firstName&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:E.firstName.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Last Name"}),u.jsx("input",{...w("lastName"),className:`w-full px-4 py-3 rounded-xl border ${E.lastName?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900`}),E.lastName&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:E.lastName.message})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Email"}),u.jsx("input",{...w("email"),type:"email",className:`w-full px-4 py-3 rounded-xl border ${E.email?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900`}),E.email&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:E.email.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Phone"}),u.jsx("input",{...w("phone"),type:"tel",className:`w-full px-4 py-3 rounded-xl border ${E.phone?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900`}),E.phone&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:E.phone.message})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm text-neutral-700 mb-2",children:["Special Requests ",u.jsx("span",{className:"text-neutral-400",children:"(Optional)"})]}),u.jsx("textarea",{...w("specialRequests"),rows:4,className:"w-full px-4 py-3 rounded-xl border border-neutral-200 focus:outline-none focus:ring-2 focus:ring-neutral-900",placeholder:"Any special requests or requirements?"})]}),u.jsx("button",{type:"submit",className:"w-full bg-neutral-900 text-white py-3 rounded-xl hover:bg-neutral-800 transition-colors",children:"Continue to Payment"})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-8",children:[u.jsx("h4",{className:"mb-6",children:"Enhance Your Stay"}),u.jsx("div",{className:"space-y-4",children:ee.length===0?u.jsx("p",{className:"text-neutral-500 text-center py-4",children:"No extras available - connect to Firebase"}):ee.map(k=>u.jsxs("label",{className:`flex items-start gap-4 p-4 rounded-xl border-2 cursor-pointer transition-all ${m.includes(k.id)?"border-neutral-900 bg-neutral-50":"border-neutral-100 hover:border-neutral-200"}`,children:[u.jsx("input",{type:"checkbox",checked:m.includes(k.id),onChange:()=>B(k.id),className:"mt-1 w-5 h-5 text-neutral-900 rounded focus:ring-neutral-900"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{children:k.name}),u.jsx("span",{children:gn(k.price)})]}),u.jsx("p",{className:"text-sm text-neutral-600",children:k.description})]})]},k.id))})]})]}),u.jsx("div",{className:"lg:col-span-1",children:u.jsxs("div",{className:"sticky top-24 bg-white rounded-2xl p-6 border border-neutral-100",children:[u.jsx("h5",{className:"mb-6",children:"Booking Summary"}),u.jsxs("div",{className:"mb-6 pb-6 border-b border-neutral-100",children:[u.jsx("h6",{className:"mb-2",children:n.name}),u.jsxs("div",{className:"text-sm text-neutral-600 space-y-1",children:[u.jsxs("p",{children:["Check-in: ",new Date(r).toLocaleDateString()]}),u.jsxs("p",{children:["Check-out: ",new Date(i).toLocaleDateString()]}),u.jsxs("p",{children:["Guests: ",a]}),u.jsxs("p",{children:["Nights: ",C]})]})]}),u.jsxs("div",{className:"space-y-3 mb-6",children:[u.jsxs("div",{className:"flex justify-between text-neutral-600",children:[u.jsxs("span",{children:[gn(n.price),"  ",C," nights"]}),u.jsx("span",{children:gn(O)})]}),l.length>0&&u.jsxs("div",{className:"flex justify-between text-neutral-600",children:[u.jsx("span",{children:"Extras"}),u.jsx("span",{children:gn(U)})]}),u.jsxs("div",{className:"flex justify-between text-neutral-600",children:[u.jsx("span",{children:"Service fee"}),u.jsx("span",{children:gn($)})]}),u.jsxs("div",{className:"flex justify-between text-neutral-600",children:[u.jsx("span",{children:"Taxes"}),u.jsx("span",{children:gn(G)})]})]}),u.jsx("div",{className:"border-t border-neutral-100 pt-4",children:u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Total"}),u.jsx("span",{children:gn(Q)})]})})]})})]})]})})},iF=()=>{const t=Ur(),{selectedRoom:e,checkIn:n,checkOut:r,guests:i,guestInfo:a,extras:l}=Fr(ee=>ee.booking),[h,m]=z.useState(!1),{register:g,handleSubmit:w,formState:{errors:x}}=la({resolver:Sl(G9)});if(!e||!n||!r||!a)return t("/search"),null;const E=II(n,r),C=e.price*E,O=l.reduce((ee,B)=>ee+B.price,0),U=C+O,M=U*.1,G=25,$=U+M+G,Q=async ee=>{try{m(!0),await new Promise(de=>setTimeout(de,2e3));const B="BK"+Date.now();Rt.success("Booking confirmed!"),t(`/confirmation/${B}`)}catch{Rt.error("Failed to create booking")}finally{m(!1)}};return u.jsx("div",{className:"min-h-screen bg-neutral-50 py-12",children:u.jsxs("div",{className:"max-w-4xl mx-auto px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"mb-2",children:"Secure Payment"}),u.jsxs("p",{className:"text-neutral-600 flex items-center gap-2",children:[u.jsx(DM,{className:"w-4 h-4"}),"Your payment information is encrypted and secure"]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsxs("form",{onSubmit:w(Q),className:"bg-white rounded-2xl p-8",children:[u.jsx("h4",{className:"mb-6",children:"Payment Details"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Card Number"}),u.jsx("input",{...g("cardNumber"),placeholder:"1234 5678 9012 3456",className:`w-full px-4 py-3 rounded-xl border ${x.cardNumber?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900`}),x.cardNumber&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:x.cardNumber.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Cardholder Name"}),u.jsx("input",{...g("cardName"),placeholder:"John Doe",className:`w-full px-4 py-3 rounded-xl border ${x.cardName?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900`}),x.cardName&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:x.cardName.message})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Expiry Date"}),u.jsx("input",{...g("expiryDate"),placeholder:"MM/YY",className:`w-full px-4 py-3 rounded-xl border ${x.expiryDate?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900`}),x.expiryDate&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:x.expiryDate.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"CVV"}),u.jsx("input",{...g("cvv"),placeholder:"123",maxLength:4,className:`w-full px-4 py-3 rounded-xl border ${x.cvv?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900`}),x.cvv&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:x.cvv.message})]})]}),u.jsx("h5",{className:"pt-4",children:"Billing Address"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Street Address"}),u.jsx("input",{...g("billingAddress"),className:`w-full px-4 py-3 rounded-xl border ${x.billingAddress?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900`}),x.billingAddress&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:x.billingAddress.message})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"City"}),u.jsx("input",{...g("city"),className:`w-full px-4 py-3 rounded-xl border ${x.city?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900`}),x.city&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:x.city.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Postal Code"}),u.jsx("input",{...g("postalCode"),className:`w-full px-4 py-3 rounded-xl border ${x.postalCode?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900`}),x.postalCode&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:x.postalCode.message})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Country"}),u.jsx("input",{...g("country"),className:`w-full px-4 py-3 rounded-xl border ${x.country?"border-red-300":"border-neutral-200"} focus:outline-none focus:ring-2 focus:ring-neutral-900`}),x.country&&u.jsx("p",{className:"text-xs text-red-600 mt-1",children:x.country.message})]}),u.jsx("button",{type:"submit",disabled:h,className:"w-full bg-neutral-900 text-white py-4 rounded-xl hover:bg-neutral-800 transition-colors disabled:opacity-50",children:h?"Processing...":`Pay ${gn($)}`}),u.jsx("p",{className:"text-xs text-neutral-500 text-center",children:"By confirming your reservation, you agree to our Terms of Service"})]})]})}),u.jsx("div",{className:"lg:col-span-1",children:u.jsxs("div",{className:"sticky top-24 bg-white rounded-2xl p-6 border border-neutral-100",children:[u.jsx("h5",{className:"mb-6",children:"Order Summary"}),u.jsxs("div",{className:"space-y-3 mb-6",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-neutral-600",children:"Room"}),u.jsx("span",{children:gn(C)})]}),O>0&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-neutral-600",children:"Extras"}),u.jsx("span",{children:gn(O)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-neutral-600",children:"Fees"}),u.jsx("span",{children:gn(G)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-neutral-600",children:"Taxes"}),u.jsx("span",{children:gn(M)})]})]}),u.jsx("div",{className:"border-t border-neutral-100 pt-4",children:u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Total"}),u.jsx("span",{children:gn($)})]})})]})})]})]})})},oF=()=>{const{bookingId:t}=CT();return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"mb-2",children:"Booking not found"}),u.jsx(Le,{to:"/",className:"text-neutral-600 hover:text-neutral-900",children:"Return to home"})]})})},aF=()=>{const{user:t}=Fr(a=>a.auth),e=uo(),{register:n,handleSubmit:r}=la({defaultValues:{firstName:t?.firstName||"",lastName:t?.lastName||"",email:t?.email||"",phone:t?.phone||""}}),i=a=>{t&&(e(sh({...t,...a})),Rt.success("Profile updated successfully"))};return t?u.jsx("div",{className:"min-h-screen bg-neutral-50 py-12",children:u.jsxs("div",{className:"max-w-4xl mx-auto px-6 lg:px-8",children:[u.jsx("h2",{className:"mb-8",children:"My Profile"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-1",children:u.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center",children:[u.jsx("div",{className:"w-24 h-24 bg-neutral-900 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsxs("span",{className:"text-3xl text-white",children:[t.firstName.charAt(0),t.lastName.charAt(0)]})}),u.jsxs("h4",{className:"mb-1",children:[t.firstName," ",t.lastName]}),u.jsx("p",{className:"text-neutral-600 mb-4",children:t.email}),u.jsx("div",{className:"inline-block bg-neutral-100 px-4 py-1.5 rounded-full text-sm",children:t.role==="admin"?"Administrator":"Guest"}),u.jsx("div",{className:"mt-6 pt-6 border-t border-neutral-100 text-sm text-neutral-600",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(Ps,{className:"w-4 h-4"}),u.jsxs("span",{children:["Member since ",Xi(t.createdAt,"short")]})]})})]})}),u.jsxs("div",{className:"lg:col-span-2",children:[u.jsxs("div",{className:"bg-white rounded-2xl p-8",children:[u.jsx("h4",{className:"mb-6",children:"Personal Information"}),u.jsxs("form",{onSubmit:r(i),className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"First Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Mh,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),u.jsx("input",{...n("firstName"),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-neutral-200 focus:outline-none focus:ring-2 focus:ring-neutral-900"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Last Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Mh,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),u.jsx("input",{...n("lastName"),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-neutral-200 focus:outline-none focus:ring-2 focus:ring-neutral-900"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(Fc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),u.jsx("input",{...n("email"),type:"email",className:"w-full pl-12 pr-4 py-3 rounded-xl border border-neutral-200 focus:outline-none focus:ring-2 focus:ring-neutral-900"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-neutral-700 mb-2",children:"Phone Number"}),u.jsxs("div",{className:"relative",children:[u.jsx(zc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),u.jsx("input",{...n("phone"),type:"tel",className:"w-full pl-12 pr-4 py-3 rounded-xl border border-neutral-200 focus:outline-none focus:ring-2 focus:ring-neutral-900"})]})]}),u.jsx("button",{type:"submit",className:"w-full bg-neutral-900 text-white py-3 rounded-xl hover:bg-neutral-800 transition-colors",children:"Save Changes"})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-8 mt-8",children:[u.jsx("h4",{className:"mb-4",children:"Security"}),u.jsx("p",{className:"text-neutral-600 mb-6",children:"Update your password to keep your account secure"}),u.jsx("button",{className:"border-2 border-neutral-900 text-neutral-900 px-6 py-3 rounded-xl hover:bg-neutral-50 transition-colors",children:"Change Password"})]})]})]})]})}):null},lF=()=>{const{user:t}=Fr(r=>r.auth),e=[{id:"1",roomName:"Deluxe Ocean View Suite",hotelName:"Grand Seaside Resort",checkIn:"2024-03-15",checkOut:"2024-03-18",guests:2,totalAmount:899.97,status:"confirmed",bookingDate:"2024-02-20",image:"https://images.unsplash.com/photo-1590381105924-c72589b9ef3f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsdXh1cnklMjBob3RlbCUyMHJvb218ZW58MXx8fHwxNzYwOTM1NDM1fDA&ixlib=rb-4.1.0&q=80&w=400"},{id:"2",roomName:"Executive Business Suite",hotelName:"Metropolitan Hotel",checkIn:"2024-04-10",checkOut:"2024-04-12",guests:1,totalAmount:459.98,status:"pending",bookingDate:"2024-03-01",image:"https://images.unsplash.com/photo-1566073771259-6a8506099945?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsdXh1cnklMjBob3RlbCUyMHJvb218ZW58MXx8fHwxNzYwOTM1NDM1fDA&ixlib=rb-4.1.0&q=80&w=400"}],n=r=>{switch(r){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return u.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:u.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Bookings"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your hotel reservations"})]}),e.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Ps,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No bookings"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You haven't made any bookings yet. Start exploring our hotels!"})]}):u.jsx("div",{className:"space-y-6",children:e.map(r=>u.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:u.jsxs("div",{className:"md:flex",children:[u.jsx("div",{className:"md:w-48 h-48 md:h-auto",children:u.jsx("img",{src:r.image,alt:r.roomName,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"flex-1 p-6",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:r.roomName}),u.jsx("p",{className:"text-gray-600 mt-1",children:r.hotelName})]}),u.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${n(r.status)}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),u.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"flex items-center text-gray-600",children:[u.jsx(Ps,{className:"h-5 w-5 mr-2"}),u.jsxs("span",{children:[Xi(r.checkIn)," - ",Xi(r.checkOut)]})]}),u.jsxs("div",{className:"flex items-center text-gray-600",children:[u.jsx(pl,{className:"h-5 w-5 mr-2"}),u.jsxs("span",{children:[r.guests," Guest",r.guests>1?"s":""]})]}),u.jsxs("div",{className:"flex items-center text-gray-600",children:[u.jsx(Oy,{className:"h-5 w-5 mr-2"}),u.jsxs("span",{children:["Booked on ",Xi(r.bookingDate)]})]}),u.jsxs("div",{className:"flex items-center text-gray-600",children:[u.jsx(mM,{className:"h-5 w-5 mr-2"}),u.jsx("span",{className:"font-semibold",children:gn(r.totalAmount)})]})]}),u.jsxs("div",{className:"mt-6 flex space-x-3",children:[u.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"View Details"}),r.status==="confirmed"&&u.jsx("button",{className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Modify Booking"}),r.status!=="cancelled"&&u.jsx("button",{className:"px-4 py-2 border border-red-300 text-red-700 rounded-md hover:bg-red-50 transition-colors",children:"Cancel"})]})]})]})},r.id))})]})})},SI=({children:t})=>{const{user:e}=Fr(h=>h.auth),n=uo(),r=Ur(),i=async()=>{try{await n(Vc()).unwrap(),Rt.success("Logged out successfully"),r("/")}catch{Rt.error("Failed to logout")}},a=e?.role==="admin",l=e?.role==="manager";return u.jsxs("div",{className:"min-h-screen bg-neutral-50 flex",children:[u.jsxs("div",{className:"w-64 bg-white border-r border-neutral-200 flex flex-col",children:[u.jsx("div",{className:"p-6 border-b border-neutral-200",children:u.jsxs(Le,{to:"/",className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-neutral-900 rounded-xl flex items-center justify-center",children:u.jsx("span",{className:"text-white font-bold",children:"H"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"font-bold text-neutral-900",children:"Hotel System"}),u.jsxs("p",{className:"text-xs text-neutral-600 capitalize",children:[e?.role," Panel"]})]})]})}),u.jsx("nav",{className:"flex-1 p-4",children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Le,{to:a?"/admin/dashboard":"/manager/dashboard",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900 transition-colors",children:[u.jsx(oM,{className:"w-5 h-5"}),u.jsx("span",{children:"Dashboard"})]}),a&&u.jsxs(u.Fragment,{children:[u.jsxs(Le,{to:"/admin/users",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900 transition-colors",children:[u.jsx(pl,{className:"w-5 h-5"}),u.jsx("span",{children:"User Management"})]}),u.jsxs(Le,{to:"/admin/system",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900 transition-colors",children:[u.jsx(yg,{className:"w-5 h-5"}),u.jsx("span",{children:"System Settings"})]})]}),(l||a)&&u.jsxs(u.Fragment,{children:[u.jsxs(Le,{to:"/bookings",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900 transition-colors",children:[u.jsx(Ps,{className:"w-5 h-5"}),u.jsx("span",{children:"Bookings"})]}),u.jsxs(Le,{to:"/rooms",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900 transition-colors",children:[u.jsx(zT,{className:"w-5 h-5"}),u.jsx("span",{children:"Room Management"})]})]}),u.jsx("div",{className:"border-t border-neutral-200 my-4"}),u.jsxs(Le,{to:"/",className:"flex items-center gap-3 px-4 py-3 rounded-xl text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900 transition-colors",children:[u.jsx(kM,{className:"w-5 h-5"}),u.jsx("span",{children:"Back to Website"})]})]})}),u.jsxs("div",{className:"p-4 border-t border-neutral-200",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-10 h-10 bg-neutral-100 rounded-full flex items-center justify-center",children:u.jsx(Mh,{className:"w-5 h-5 text-neutral-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("p",{className:"font-medium text-neutral-900",children:[e?.firstName," ",e?.lastName]}),u.jsx("p",{className:"text-sm text-neutral-600",children:e?.email})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors",children:u.jsx(nM,{className:"w-4 h-4"})}),u.jsx("button",{className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors",children:u.jsx(yg,{className:"w-4 h-4"})}),u.jsx("button",{onClick:i,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:u.jsx(qT,{className:"w-4 h-4"})})]})]})]}),u.jsx("div",{className:"flex-1 flex flex-col",children:t})]})};class Ac{static async getAllUsers(){try{const e=Ut(Ke,"users");return(await pn(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching users:",e),e}}static async getUserById(e){try{const n=await ai(Nt(Ke,"users",e));return n.exists()?{id:n.id,...n.data()}:null}catch(n){throw console.error("Error fetching user:",n),n}}static async updateUser(e,n){try{await fl(Nt(Ke,"users",e),{...n,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error updating user:",r),r}}static async deleteUser(e){try{await mf(Nt(Ke,"users",e))}catch(n){throw console.error("Error deleting user:",n),n}}static async getUsersByRole(e){try{const n=Ut(Ke,"users"),r=nr(n,Et("role","==",e));return(await pn(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(n){throw console.error("Error fetching users by role:",n),n}}}class qd{static async getAllBookings(){try{const e=Ut(Ke,"bookings"),n=nr(e,Ic("createdAt","desc"));return(await pn(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(e){throw console.error("Error fetching bookings:",e),e}}static async getBookingById(e){try{const n=await ai(Nt(Ke,"bookings",e));return n.exists()?{id:n.id,...n.data()}:null}catch(n){throw console.error("Error fetching booking:",n),n}}static async updateBookingStatus(e,n){try{await fl(Nt(Ke,"bookings",e),{status:n,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error updating booking status:",r),r}}static async getBookingsByStatus(e){try{const n=Ut(Ke,"bookings"),r=nr(n,Et("status","==",e));return(await pn(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(n){throw console.error("Error fetching bookings by status:",n),n}}static async getTodayCheckIns(){try{const e=new Date().toISOString().split("T")[0],n=Ut(Ke,"bookings"),r=nr(n,Et("checkIn","==",e));return(await pn(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){throw console.error("Error fetching today check-ins:",e),e}}static async getTodayCheckOuts(){try{const e=new Date().toISOString().split("T")[0],n=Ut(Ke,"bookings"),r=nr(n,Et("checkOut","==",e));return(await pn(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){throw console.error("Error fetching today check-outs:",e),e}}}class cF{static async getAllRooms(){try{const e=Ut(Ke,"rooms");return(await pn(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching rooms:",e),e}}static async getRoomById(e){try{const n=await ai(Nt(Ke,"rooms",e));return n.exists()?{id:n.id,...n.data()}:null}catch(n){throw console.error("Error fetching room:",n),n}}static async updateRoom(e,n){try{await fl(Nt(Ke,"rooms",e),{...n,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error updating room:",r),r}}static async createRoom(e){try{const n=Ut(Ke,"rooms"),r=Nt(n);return await ff(r,{...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),r.id}catch(n){throw console.error("Error creating room:",n),n}}static async deleteRoom(e){try{await mf(Nt(Ke,"rooms",e))}catch(n){throw console.error("Error deleting room:",n),n}}}class Ig{static async getAdminStats(){try{const[e,n,r]=await Promise.all([Ac.getAllUsers(),qd.getAllBookings(),cF.getAllRooms()]),[i,a,l]=await Promise.all([qd.getTodayCheckIns(),qd.getTodayCheckOuts(),qd.getBookingsByStatus("pending")]),h=n.reduce((x,E)=>x+(E.total||0),0),m=e.filter(x=>x.role==="customer").length,g=r.reduce((x,E)=>x+(E.inventory||1),0),w=n.filter(x=>x.status==="confirmed"&&new Date(x.checkIn)<=new Date&&new Date(x.checkOut)>=new Date).length;return{totalUsers:e.length,totalRooms:g,totalRevenue:h,totalBookings:n.length,activeUsers:m,occupancyRate:g>0?Math.round(w/g*100):0,averageRating:4.6,monthlyGrowth:15.2,todayCheckIns:i.length,todayCheckOuts:a.length,pendingBookings:l.length}}catch(e){throw console.error("Error fetching admin stats:",e),e}}static async getSystemAlerts(){try{const e=await this.getAdminStats(),n=[];return e.occupancyRate>90&&n.push({id:"high_occupancy",type:"warning",title:"High Occupancy Alert",message:`Occupancy rate is ${e.occupancyRate}% - consider overbooking protection`,timestamp:new Date().toISOString(),resolved:!1}),e.pendingBookings>10&&n.push({id:"pending_bookings",type:"info",title:"Pending Bookings",message:`${e.pendingBookings} bookings require attention`,timestamp:new Date().toISOString(),resolved:!1}),n}catch(e){return console.error("Error fetching system alerts:",e),[]}}}const uF=()=>{const{user:t}=Fr(S=>S.auth),[e,n]=z.useState("overview"),[r,i]=z.useState(""),[a,l]=z.useState("all"),[h,m]=z.useState(null),[g,w]=z.useState([]),[x,E]=z.useState([]),[C,O]=z.useState(!0),[U,M]=z.useState(!1);z.useEffect(()=>{G()},[]);const G=async()=>{try{O(!0);const[S,N]=await Promise.all([Ig.getAdminStats(),Ig.getSystemAlerts()]);m(S),E(N)}catch(S){console.error("Error loading dashboard data:",S),Rt.error("Failed to load dashboard data")}finally{O(!1)}},$=async()=>{try{M(!0);const S=await Ac.getAllUsers();w(S)}catch(S){console.error("Error loading users:",S),Rt.error("Failed to load users")}finally{M(!1)}};z.useEffect(()=>{e==="users"&&g.length===0&&$()},[e]);const Q=g.filter(S=>{const Ae=`${S.firstName} ${S.lastName}`.toLowerCase().includes(r.toLowerCase())||S.email.toLowerCase().includes(r.toLowerCase()),Be=a==="all"||S.role===a;return Ae&&Be}),ee=async(S,N)=>{try{await Ac.updateUser(S,{role:N}),Rt.success("User role updated successfully"),$()}catch(Ae){console.error("Error updating user role:",Ae),Rt.error("Failed to update user role")}},B=async(S,N)=>{try{await Ac.updateUser(S,{isActive:!N}),Rt.success("User status updated successfully"),$()}catch(Ae){console.error("Error updating user status:",Ae),Rt.error("Failed to update user status")}},de=async S=>{if(window.confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await Ac.deleteUser(S),Rt.success("User deleted successfully"),$()}catch(N){console.error("Error deleting user:",N),Rt.error("Failed to delete user")}},k=S=>{switch(S){case"admin":return"text-red-600 bg-red-50";case"manager":return"text-purple-600 bg-purple-50";case"staff":return"text-blue-600 bg-blue-50";case"customer":return"text-green-600 bg-green-50";default:return"text-gray-600 bg-gray-50"}},I=S=>S!==!1?"text-green-600 bg-green-50":"text-red-600 bg-red-50",A=S=>S!==!1?"Active":"Inactive",D=S=>{switch(S){case"warning":return u.jsx(yc,{className:"w-5 h-5 text-yellow-600"});case"error":return u.jsx(yc,{className:"w-5 h-5 text-red-600"});case"info":return u.jsx(yc,{className:"w-5 h-5 text-blue-600"});default:return u.jsx(yc,{className:"w-5 h-5 text-gray-600"})}},j=({title:S,value:N,icon:Ae,change:Be,color:Te="text-neutral-900"})=>u.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-neutral-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-xl ${Te==="text-green-600"?"bg-green-100":Te==="text-blue-600"?"bg-blue-100":Te==="text-yellow-600"?"bg-yellow-100":Te==="text-red-600"?"bg-red-100":"bg-neutral-100"} flex items-center justify-center`,children:u.jsx(Ae,{className:`w-6 h-6 ${Te}`})}),Be&&u.jsx("span",{className:`text-sm ${Be.startsWith("+")?"text-green-600":"text-red-600"}`,children:Be})]}),u.jsx("h3",{className:"text-2xl font-bold text-neutral-900 mb-1",children:N}),u.jsx("p",{className:"text-neutral-600 text-sm",children:S})]});return u.jsx(SI,{children:u.jsxs("div",{className:"bg-neutral-50",children:[u.jsx("div",{className:"bg-white border-b border-neutral-100",children:u.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Admin Dashboard"}),u.jsx("p",{className:"text-neutral-600",children:"Complete system administration and control"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("button",{className:"flex items-center gap-2 bg-red-600 text-white px-4 py-2 rounded-xl hover:bg-red-700",children:[u.jsx(My,{className:"w-4 h-4"}),"Security Center"]}),u.jsxs("button",{className:"flex items-center gap-2 bg-neutral-900 text-white px-4 py-2 rounded-xl hover:bg-neutral-800",children:[u.jsx($T,{className:"w-4 h-4"}),"System Report"]})]})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex space-x-1 bg-neutral-100 rounded-xl p-1 mb-8 overflow-x-auto",children:[{id:"overview",label:"Overview"},{id:"users",label:"Users"},{id:"bookings",label:"Bookings"},{id:"rooms",label:"Rooms"},{id:"analytics",label:"Analytics"},{id:"settings",label:"Settings"}].map(S=>u.jsx("button",{onClick:()=>n(S.id),className:`flex-shrink-0 py-2 px-4 rounded-lg text-sm font-medium transition-colors ${e===S.id?"bg-white text-neutral-900 shadow-sm":"text-neutral-600 hover:text-neutral-900"}`,children:S.label},S.id))}),e==="overview"&&u.jsxs("div",{className:"space-y-8",children:[x.filter(S=>!S.resolved).length>0&&u.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-neutral-100",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[u.jsx(yc,{className:"w-5 h-5 text-yellow-600"}),"System Alerts"]}),u.jsx("div",{className:"space-y-3",children:x.filter(S=>!S.resolved).map(S=>u.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl bg-neutral-50",children:[D(S.type),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-medium text-neutral-900",children:S.title}),u.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:S.message}),u.jsx("p",{className:"text-xs text-neutral-500 mt-2",children:Xi(S.timestamp,"medium")})]}),u.jsx("button",{className:"text-neutral-400 hover:text-neutral-600",children:u.jsx(vM,{className:"w-4 h-4"})})]},S.id))})]}),C?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(S=>u.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-neutral-100 animate-pulse",children:[u.jsx("div",{className:"w-12 h-12 bg-neutral-200 rounded-xl mb-4"}),u.jsx("div",{className:"h-8 bg-neutral-200 rounded mb-2"}),u.jsx("div",{className:"h-4 bg-neutral-200 rounded w-2/3"})]},S))}):h?u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(j,{title:"Total Users",value:h.totalUsers.toLocaleString(),icon:pl,change:"+12%",color:"text-blue-600"}),u.jsx(j,{title:"Total Revenue",value:gn(h.totalRevenue),icon:UT,change:"+18%",color:"text-green-600"}),u.jsx(j,{title:"Total Rooms",value:h.totalRooms,icon:zT,change:"+5%",color:"text-yellow-600"}),u.jsx(j,{title:"Occupancy Rate",value:`${h.occupancyRate}%`,icon:WT,change:"+8%",color:"text-red-600"})]}):null,u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-neutral-100",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"User Management"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-neutral-600",children:"Active Users"}),u.jsx("span",{className:"font-medium",children:h?.activeUsers||0})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-neutral-600",children:"New This Month"}),u.jsxs("span",{className:"font-medium text-green-600",children:["+",Math.floor(h?.monthlyGrowth||0),"%"]})]})]}),u.jsx("button",{onClick:()=>n("users"),className:"w-full mt-4 bg-neutral-900 text-white py-2 rounded-xl hover:bg-neutral-800",children:"Manage Users"})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-neutral-100",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"System Health"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-neutral-600",children:"Server Status"}),u.jsx("span",{className:"text-green-600 font-medium",children:"Online"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-neutral-600",children:"Database"}),u.jsx("span",{className:"text-green-600 font-medium",children:"Healthy"})]})]}),u.jsx("button",{onClick:()=>n("settings"),className:"w-full mt-4 bg-neutral-900 text-white py-2 rounded-xl hover:bg-neutral-800",children:"System Settings"})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-neutral-100",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Stats"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-neutral-600",children:"Avg. Rating"}),u.jsxs("span",{className:"font-medium",children:[h?.averageRating||0,"/5.0"]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-neutral-600",children:"Total Bookings"}),u.jsx("span",{className:"font-medium",children:h?.totalBookings||0})]})]}),u.jsx("button",{onClick:()=>n("analytics"),className:"w-full mt-4 bg-neutral-900 text-white py-2 rounded-xl hover:bg-neutral-800",children:"View Analytics"})]})]})]}),e==="users"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-white rounded-2xl p-6 border border-neutral-100",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold",children:"User Management"}),u.jsx("p",{className:"text-neutral-600 text-sm",children:"Manage all system users and their permissions"})]}),u.jsxs("button",{className:"flex items-center gap-2 bg-neutral-900 text-white px-4 py-2 rounded-xl hover:bg-neutral-800",children:[u.jsx(WM,{className:"w-4 h-4"}),"Add User"]})]})}),u.jsx("div",{className:"bg-white rounded-2xl p-6 border border-neutral-100",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(Oh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),u.jsx("input",{type:"text",placeholder:"Search users...",value:r,onChange:S=>i(S.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-neutral-200 focus:outline-none focus:ring-2 focus:ring-neutral-900"})]})}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("select",{value:a,onChange:S=>l(S.target.value),className:"px-4 py-3 rounded-xl border border-neutral-200 focus:outline-none focus:ring-2 focus:ring-neutral-900",children:[u.jsx("option",{value:"all",children:"All Roles"}),u.jsx("option",{value:"customer",children:"Customer"}),u.jsx("option",{value:"staff",children:"Staff"}),u.jsx("option",{value:"manager",children:"Manager"}),u.jsx("option",{value:"admin",children:"Admin"})]}),u.jsxs("button",{className:"flex items-center gap-2 px-4 py-3 border border-neutral-200 rounded-xl hover:bg-neutral-50",children:[u.jsx(BT,{className:"w-4 h-4"}),"More Filters"]})]})]})}),u.jsx("div",{className:"bg-white rounded-2xl border border-neutral-100 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-100",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left py-4 px-6 font-medium text-neutral-900",children:"User"}),u.jsx("th",{className:"text-left py-4 px-6 font-medium text-neutral-900",children:"Role"}),u.jsx("th",{className:"text-left py-4 px-6 font-medium text-neutral-900",children:"Status"}),u.jsx("th",{className:"text-left py-4 px-6 font-medium text-neutral-900",children:"Last Updated"}),u.jsx("th",{className:"text-left py-4 px-6 font-medium text-neutral-900",children:"Bookings"}),u.jsx("th",{className:"text-left py-4 px-6 font-medium text-neutral-900",children:"Total Spent"}),u.jsx("th",{className:"text-left py-4 px-6 font-medium text-neutral-900",children:"Actions"})]})}),u.jsx("tbody",{children:Q.map(S=>u.jsxs("tr",{className:"border-b border-neutral-100 hover:bg-neutral-50",children:[u.jsx("td",{className:"py-4 px-6",children:u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium text-neutral-900",children:[S.firstName," ",S.lastName]}),u.jsx("p",{className:"text-sm text-neutral-600",children:S.email})]})}),u.jsx("td",{className:"py-4 px-6",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${k(S.role)}`,children:S.role.charAt(0).toUpperCase()+S.role.slice(1)})}),u.jsx("td",{className:"py-4 px-6",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${I(S.isActive)}`,children:A(S.isActive)})}),u.jsx("td",{className:"py-4 px-6",children:u.jsx("span",{className:"text-sm text-neutral-600",children:Xi(S.updatedAt,"short")})}),u.jsx("td",{className:"py-4 px-6",children:u.jsx("span",{className:"text-neutral-900",children:"-"})}),u.jsx("td",{className:"py-4 px-6",children:u.jsx("span",{className:"font-medium text-neutral-900",children:"-"})}),u.jsx("td",{className:"py-4 px-6",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>B(S.id,S.isActive!==!1),className:"p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg",title:S.isActive!==!1?"Deactivate User":"Activate User",children:u.jsx(tu,{className:"w-4 h-4"})}),u.jsxs("select",{value:S.role,onChange:N=>ee(S.id,N.target.value),className:"p-1 text-xs border border-neutral-200 rounded",disabled:S.role==="admin",children:[u.jsx("option",{value:"customer",children:"Customer"}),u.jsx("option",{value:"staff",children:"Staff"}),u.jsx("option",{value:"manager",children:"Manager"}),u.jsx("option",{value:"admin",children:"Admin"})]}),S.role!=="admin"&&u.jsx("button",{onClick:()=>de(S.id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg",title:"Delete User",children:u.jsx(tV,{className:"w-4 h-4"})})]})})]},S.id))})]})})})]}),["bookings","rooms","analytics","settings"].includes(e)&&u.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-neutral-100 text-center",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-2 capitalize",children:[e," Management"]}),u.jsxs("p",{className:"text-neutral-600 mb-4",children:[e==="bookings"&&"Advanced booking management and analytics",e==="rooms"&&"Complete room inventory and pricing control",e==="analytics"&&"Detailed system analytics and reporting",e==="settings"&&"System configuration and security settings"]}),u.jsx("button",{className:"bg-neutral-900 text-white px-6 py-3 rounded-xl hover:bg-neutral-800",children:"Coming Soon"})]})]})]})})};class s1{static async createBooking(e){try{const n=Ut(Ke,"bookings"),r=Nt(n),i={...e,id:r.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return await ff(r,i),r.id}catch(n){throw console.error("Error creating booking:",n),n}}static async getAllBookings(){try{const e=Ut(Ke,"bookings"),n=nr(e,Ic("createdAt","desc")),r=await pn(n);return await Promise.all(r.docs.map(async a=>{const l={id:a.id,...a.data()};if(l.roomId)try{const h=await ai(Nt(Ke,"rooms",l.roomId));h.exists()&&(l.room={id:h.id,...h.data()})}catch(h){console.warn(`Could not fetch room ${l.roomId}:`,h)}return l}))}catch(e){throw console.error("Error fetching bookings:",e),e}}static async getBookingById(e){try{const n=await ai(Nt(Ke,"bookings",e));if(n.exists()){const r={id:n.id,...n.data()};if(r.roomId)try{const i=await ai(Nt(Ke,"rooms",r.roomId));i.exists()&&(r.room={id:i.id,...i.data()})}catch(i){console.warn(`Could not fetch room ${r.roomId}:`,i)}return r}return null}catch(n){throw console.error("Error fetching booking:",n),n}}static async updateBookingStatus(e,n){try{await fl(Nt(Ke,"bookings",e),{status:n,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error updating booking status:",r),r}}static async updateBooking(e,n){try{await fl(Nt(Ke,"bookings",e),{...n,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error updating booking:",r),r}}static async deleteBooking(e){try{await mf(Nt(Ke,"bookings",e))}catch(n){throw console.error("Error deleting booking:",n),n}}static async getBookingsByStatus(e){try{const n=Ut(Ke,"bookings"),r=nr(n,Et("status","==",e),Ic("createdAt","desc"));return(await pn(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(n){throw console.error("Error fetching bookings by status:",n),n}}static async getBookingsByUser(e){try{const n=Ut(Ke,"bookings"),r=nr(n,Et("userId","==",e),Ic("createdAt","desc")),i=await pn(r);return await Promise.all(i.docs.map(async l=>{const h={id:l.id,...l.data()};if(h.roomId)try{const m=await ai(Nt(Ke,"rooms",h.roomId));m.exists()&&(h.room={id:m.id,...m.data()})}catch(m){console.warn(`Could not fetch room ${h.roomId}:`,m)}return h}))}catch(n){throw console.error("Error fetching user bookings:",n),n}}static async getTodayCheckIns(){try{const e=new Date().toISOString().split("T")[0],n=Ut(Ke,"bookings"),r=nr(n,Et("checkIn","==",e),Et("status","in",["confirmed","completed"]));return(await pn(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){throw console.error("Error fetching today check-ins:",e),e}}static async getTodayCheckOuts(){try{const e=new Date().toISOString().split("T")[0],n=Ut(Ke,"bookings"),r=nr(n,Et("checkOut","==",e),Et("status","in",["confirmed","completed"]));return(await pn(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){throw console.error("Error fetching today check-outs:",e),e}}static async getBookingsForDateRange(e,n){try{const r=Ut(Ke,"bookings"),i=nr(r,Et("checkIn",">=",e),Et("checkIn","<=",n),Ic("checkIn","asc"));return(await pn(i)).docs.map(l=>({id:l.id,...l.data()}))}catch(r){throw console.error("Error fetching bookings for date range:",r),r}}static async calculateOccupancyRate(){try{const e=Ut(Ke,"rooms"),r=(await pn(e)).docs.reduce((g,w)=>{const x=w.data();return g+(x.inventory||1)},0);if(r===0)return 0;const i=new Date().toISOString().split("T")[0],a=Ut(Ke,"bookings"),l=nr(a,Et("status","==","confirmed"),Et("checkIn","<=",i),Et("checkOut",">",i)),m=(await pn(l)).docs.length;return Math.round(m/r*100)}catch(e){return console.error("Error calculating occupancy rate:",e),0}}}const dF=()=>{const{user:t}=Fr(B=>B.auth),[e,n]=z.useState("overview"),[r,i]=z.useState(""),[a,l]=z.useState("all"),[h,m]=z.useState(null),[g,w]=z.useState([]),[x,E]=z.useState(!0),[C,O]=z.useState(!1);z.useEffect(()=>{U()},[]);const U=async()=>{try{E(!0);const B=await Ig.getAdminStats();m({totalBookings:B.totalBookings,totalRevenue:B.totalRevenue,occupancyRate:B.occupancyRate,pendingBookings:B.pendingBookings,todayCheckIns:B.todayCheckIns,todayCheckOuts:B.todayCheckOuts})}catch(B){console.error("Error loading dashboard data:",B),Rt.error("Failed to load dashboard data")}finally{E(!1)}},M=async()=>{try{O(!0);const B=await s1.getAllBookings();w(B)}catch(B){console.error("Error loading bookings:",B),Rt.error("Failed to load bookings")}finally{O(!1)}};z.useEffect(()=>{e==="bookings"&&g.length===0&&M()},[e]);const G=g.filter(B=>{const k=`${B.guestInfo?.firstName||""} ${B.guestInfo?.lastName||""}`.toLowerCase().includes(r.toLowerCase())||(B.guestInfo?.email||"").toLowerCase().includes(r.toLowerCase())||B.id.toLowerCase().includes(r.toLowerCase()),I=a==="all"||B.status===a;return k&&I}),$=async(B,de)=>{try{await s1.updateBookingStatus(B,de),Rt.success("Booking status updated successfully"),M()}catch(k){console.error("Error updating booking status:",k),Rt.error("Failed to update booking status")}},Q=B=>{switch(B){case"confirmed":return"text-green-600 bg-green-50";case"pending":return"text-yellow-600 bg-yellow-50";case"cancelled":return"text-red-600 bg-red-50";case"completed":return"text-blue-600 bg-blue-50";default:return"text-gray-600 bg-gray-50"}},ee=({title:B,value:de,icon:k,change:I,color:A="text-neutral-900"})=>u.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-neutral-100",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-xl ${A==="text-green-600"?"bg-green-100":A==="text-blue-600"?"bg-blue-100":A==="text-yellow-600"?"bg-yellow-100":"bg-neutral-100"} flex items-center justify-center`,children:u.jsx(k,{className:`w-6 h-6 ${A}`})}),I&&u.jsx("span",{className:`text-sm ${I.startsWith("+")?"text-green-600":"text-red-600"}`,children:I})]}),u.jsx("h3",{className:"text-2xl font-bold text-neutral-900 mb-1",children:de}),u.jsx("p",{className:"text-neutral-600 text-sm",children:B})]});return u.jsx(SI,{children:u.jsxs("div",{className:"bg-neutral-50",children:[u.jsx("div",{className:"bg-white border-b border-neutral-100",children:u.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Manager Dashboard"}),u.jsxs("p",{className:"text-neutral-600",children:["Welcome back, ",t?.firstName,"!"]})]}),u.jsx("div",{className:"flex items-center gap-4",children:u.jsxs("button",{className:"flex items-center gap-2 bg-neutral-900 text-white px-4 py-2 rounded-xl hover:bg-neutral-800",children:[u.jsx($T,{className:"w-4 h-4"}),"Export Report"]})})]})})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-8",children:[u.jsx("div",{className:"flex space-x-1 bg-neutral-100 rounded-xl p-1 mb-8",children:[{id:"overview",label:"Overview"},{id:"bookings",label:"Bookings"},{id:"rooms",label:"Rooms"},{id:"guests",label:"Guests"}].map(B=>u.jsx("button",{onClick:()=>n(B.id),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-colors ${e===B.id?"bg-white text-neutral-900 shadow-sm":"text-neutral-600 hover:text-neutral-900"}`,children:B.label},B.id))}),e==="overview"&&u.jsxs("div",{className:"space-y-8",children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:x?u.jsxs("div",{className:"col-span-4 text-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-neutral-900 mx-auto"}),u.jsx("p",{className:"text-neutral-600 mt-2",children:"Loading stats..."})]}):h?u.jsxs(u.Fragment,{children:[u.jsx(ee,{title:"Total Bookings",value:h.totalBookings,icon:Ps,change:"+12%",color:"text-blue-600"}),u.jsx(ee,{title:"Total Revenue",value:gn(h.totalRevenue),icon:UT,change:"+8%",color:"text-green-600"}),u.jsx(ee,{title:"Occupancy Rate",value:`${h.occupancyRate}%`,icon:WT,change:"+5%",color:"text-yellow-600"}),u.jsx(ee,{title:"Pending Bookings",value:h.pendingBookings,icon:Oy})]}):null}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-neutral-100",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Today's Check-ins"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-3xl font-bold text-green-600",children:h?.todayCheckIns||0}),u.jsx(cM,{className:"w-8 h-8 text-green-600"})]}),u.jsx("p",{className:"text-neutral-600 text-sm mt-2",children:"Guests arriving today"})]}),u.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-neutral-100",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Today's Check-outs"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-3xl font-bold text-blue-600",children:h?.todayCheckOuts||0}),u.jsx(dM,{className:"w-8 h-8 text-blue-600"})]}),u.jsx("p",{className:"text-neutral-600 text-sm mt-2",children:"Guests departing today"})]})]})]}),e==="bookings"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-white rounded-2xl p-6 border border-neutral-100",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsxs("div",{className:"relative",children:[u.jsx(Oh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),u.jsx("input",{type:"text",placeholder:"Search bookings...",value:r,onChange:B=>i(B.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-neutral-200 focus:outline-none focus:ring-2 focus:ring-neutral-900"})]})}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("select",{value:a,onChange:B=>l(B.target.value),className:"px-4 py-3 rounded-xl border border-neutral-200 focus:outline-none focus:ring-2 focus:ring-neutral-900",children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"confirmed",children:"Confirmed"}),u.jsx("option",{value:"cancelled",children:"Cancelled"}),u.jsx("option",{value:"completed",children:"Completed"})]}),u.jsxs("button",{className:"flex items-center gap-2 px-4 py-3 border border-neutral-200 rounded-xl hover:bg-neutral-50",children:[u.jsx(BT,{className:"w-4 h-4"}),"More Filters"]})]})]})}),u.jsx("div",{className:"bg-white rounded-2xl border border-neutral-100 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-100",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left py-4 px-6 font-medium text-neutral-900",children:"Booking ID"}),u.jsx("th",{className:"text-left py-4 px-6 font-medium text-neutral-900",children:"Guest"}),u.jsx("th",{className:"text-left py-4 px-6 font-medium text-neutral-900",children:"Room"}),u.jsx("th",{className:"text-left py-4 px-6 font-medium text-neutral-900",children:"Dates"}),u.jsx("th",{className:"text-left py-4 px-6 font-medium text-neutral-900",children:"Total"}),u.jsx("th",{className:"text-left py-4 px-6 font-medium text-neutral-900",children:"Status"}),u.jsx("th",{className:"text-left py-4 px-6 font-medium text-neutral-900",children:"Actions"})]})}),u.jsx("tbody",{children:G.map(B=>u.jsxs("tr",{className:"border-b border-neutral-100 hover:bg-neutral-50",children:[u.jsx("td",{className:"py-4 px-6",children:u.jsx("span",{className:"font-medium text-neutral-900",children:B.id})}),u.jsx("td",{className:"py-4 px-6",children:u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium text-neutral-900",children:[B.guestInfo?.firstName," ",B.guestInfo?.lastName]}),u.jsx("p",{className:"text-sm text-neutral-600",children:B.guestInfo?.email})]})}),u.jsx("td",{className:"py-4 px-6",children:u.jsx("span",{className:"text-neutral-900",children:B.room?.name||`Room ${B.roomId}`})}),u.jsx("td",{className:"py-4 px-6",children:u.jsxs("div",{className:"text-sm",children:[u.jsx("p",{className:"text-neutral-900",children:Xi(B.checkIn,"short")}),u.jsxs("p",{className:"text-neutral-600",children:["to ",Xi(B.checkOut,"short")]})]})}),u.jsx("td",{className:"py-4 px-6",children:u.jsx("span",{className:"font-medium text-neutral-900",children:gn(B.total)})}),u.jsx("td",{className:"py-4 px-6",children:u.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${Q(B.status)}`,children:B.status.charAt(0).toUpperCase()+B.status.slice(1)})}),u.jsx("td",{className:"py-4 px-6",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:B.status,onChange:de=>$(B.id,de.target.value),className:"p-1 text-xs border border-neutral-200 rounded",children:[u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"confirmed",children:"Confirmed"}),u.jsx("option",{value:"cancelled",children:"Cancelled"}),u.jsx("option",{value:"completed",children:"Completed"})]}),u.jsx("button",{className:"p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg",title:"View Details",children:u.jsx(tu,{className:"w-4 h-4"})})]})})]},B.id))})]})})})]}),e==="rooms"&&u.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-neutral-100 text-center",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Room Management"}),u.jsx("p",{className:"text-neutral-600 mb-4",children:"Manage room inventory, pricing, and availability"}),u.jsx("button",{className:"bg-neutral-900 text-white px-6 py-3 rounded-xl hover:bg-neutral-800",children:"Coming Soon"})]}),e==="guests"&&u.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-neutral-100 text-center",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Guest Management"}),u.jsx("p",{className:"text-neutral-600 mb-4",children:"View guest profiles, preferences, and history"}),u.jsx("button",{className:"bg-neutral-900 text-white px-6 py-3 rounded-xl hover:bg-neutral-800",children:"Coming Soon"})]})]})]})})},hF=()=>u.jsx(z6,{children:u.jsxs(g6,{children:[u.jsxs(jn,{path:"/",element:u.jsx(dV,{}),children:[u.jsx(jn,{index:!0,element:u.jsx(Q9,{})}),u.jsx(jn,{path:"about",element:u.jsx(Y9,{})}),u.jsx(jn,{path:"contact",element:u.jsx(J9,{})}),u.jsx(jn,{path:"search",element:u.jsx(nF,{})}),u.jsx(jn,{path:"room/:id",element:u.jsx(rF,{})}),u.jsx(jn,{path:"booking",element:u.jsx(Lo,{children:u.jsx(sF,{})})}),u.jsx(jn,{path:"checkout",element:u.jsx(Lo,{children:u.jsx(iF,{})})}),u.jsx(jn,{path:"confirmation/:bookingId",element:u.jsx(Lo,{children:u.jsx(oF,{})})}),u.jsx(jn,{path:"profile",element:u.jsx(Lo,{children:u.jsx(aF,{})})}),u.jsx(jn,{path:"bookings",element:u.jsx(Lo,{children:u.jsx(lF,{})})})]}),u.jsx(jn,{path:"/login",element:u.jsx(eF,{})}),u.jsx(jn,{path:"/signup",element:u.jsx(tF,{})}),u.jsx(jn,{path:"/admin/dashboard",element:u.jsx(Lo,{requireAdmin:!0,children:u.jsx(uF,{})})}),u.jsx(jn,{path:"/manager/dashboard",element:u.jsx(Lo,{requireManager:!0,children:u.jsx(dF,{})})})]})}),fF=()=>{const t=uo();return z.useEffect(()=>{t(h_(!0));const e=SA(pu,async n=>{if(n)try{const r=await gO();t(sh(r))}catch(r){console.error("Error getting user data:",r),t(sh(null))}else t(sh(null));t(h_(!1))});return()=>e()},[t]),u.jsx(hF,{})},mF=()=>u.jsxs(sS,{store:bO,children:[u.jsx(fF,{}),u.jsx(FS,{position:"top-right",richColors:!0})]});UN.createRoot(document.getElementById("root")).render(u.jsx(mF,{}));
